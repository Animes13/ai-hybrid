<!DOCTYPE html>
<html lang="pt-br">
<head><meta charset="utf-8"><script>if(navigator.userAgent.match(/MSIE|Internet Explorer/i)||navigator.userAgent.match(/Trident\/7\..*?rv:11/i)){var href=document.location.href;if(!href.match(/[?&]nowprocket/)){if(href.indexOf("?")==-1){if(href.indexOf("#")==-1){document.location.href=href+"?nowprocket=1"}else{document.location.href=href.replace("#","?nowprocket=1#")}}else{if(href.indexOf("#")==-1){document.location.href=href+"&nowprocket=1"}else{document.location.href=href.replace("#","&nowprocket=1#")}}}}</script><script>(()=>{class RocketLazyLoadScripts{constructor(){this.v="2.0.4",this.userEvents=["keydown","keyup","mousedown","mouseup","mousemove","mouseover","mouseout","touchmove","touchstart","touchend","touchcancel","wheel","click","dblclick","input"],this.attributeEvents=["onblur","onclick","oncontextmenu","ondblclick","onfocus","onmousedown","onmouseenter","onmouseleave","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel","onscroll","onsubmit"]}async t(){this.i(),this.o(),/iP(ad|hone)/.test(navigator.userAgent)&&this.h(),this.u(),this.l(this),this.m(),this.k(this),this.p(this),this._(),await Promise.all([this.R(),this.L()]),this.lastBreath=Date.now(),this.S(this),this.P(),this.D(),this.O(),this.M(),await this.C(this.delayedScripts.normal),await this.C(this.delayedScripts.defer),await this.C(this.delayedScripts.async),await this.T(),await this.F(),await this.j(),await this.A(),window.dispatchEvent(new Event("rocket-allScriptsLoaded")),this.everythingLoaded=!0,this.lastTouchEnd&&await new Promise(t=>setTimeout(t,500-Date.now()+this.lastTouchEnd)),this.I(),this.H(),this.U(),this.W()}i(){this.CSPIssue=sessionStorage.getItem("rocketCSPIssue"),document.addEventListener("securitypolicyviolation",t=>{this.CSPIssue||"script-src-elem"!==t.violatedDirective||"data"!==t.blockedURI||(this.CSPIssue=!0,sessionStorage.setItem("rocketCSPIssue",!0))},{isRocket:!0})}o(){window.addEventListener("pageshow",t=>{this.persisted=t.persisted,this.realWindowLoadedFired=!0},{isRocket:!0}),window.addEventListener("pagehide",()=>{this.onFirstUserAction=null},{isRocket:!0})}h(){let t;function e(e){t=e}window.addEventListener("touchstart",e,{isRocket:!0}),window.addEventListener("touchend",function i(o){o.changedTouches[0]&&t.changedTouches[0]&&Math.abs(o.changedTouches[0].pageX-t.changedTouches[0].pageX)<10&&Math.abs(o.changedTouches[0].pageY-t.changedTouches[0].pageY)<10&&o.timeStamp-t.timeStamp<200&&(window.removeEventListener("touchstart",e,{isRocket:!0}),window.removeEventListener("touchend",i,{isRocket:!0}),"INPUT"===o.target.tagName&&"text"===o.target.type||(o.target.dispatchEvent(new TouchEvent("touchend",{target:o.target,bubbles:!0})),o.target.dispatchEvent(new MouseEvent("mouseover",{target:o.target,bubbles:!0})),o.target.dispatchEvent(new PointerEvent("click",{target:o.target,bubbles:!0,cancelable:!0,detail:1,clientX:o.changedTouches[0].clientX,clientY:o.changedTouches[0].clientY})),event.preventDefault()))},{isRocket:!0})}q(t){this.userActionTriggered||("mousemove"!==t.type||this.firstMousemoveIgnored?"keyup"===t.type||"mouseover"===t.type||"mouseout"===t.type||(this.userActionTriggered=!0,this.onFirstUserAction&&this.onFirstUserAction()):this.firstMousemoveIgnored=!0),"click"===t.type&&t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),"touchstart"===this.lastEvent&&"touchend"===t.type&&(this.lastTouchEnd=Date.now()),"click"===t.type&&(this.lastTouchEnd=0),this.lastEvent=t.type,t.composedPath&&t.composedPath()[0].getRootNode()instanceof ShadowRoot&&(t.rocketTarget=t.composedPath()[0]),this.savedUserEvents.push(t)}u(){this.savedUserEvents=[],this.userEventHandler=this.q.bind(this),this.userEvents.forEach(t=>window.addEventListener(t,this.userEventHandler,{passive:!1,isRocket:!0})),document.addEventListener("visibilitychange",this.userEventHandler,{isRocket:!0})}U(){this.userEvents.forEach(t=>window.removeEventListener(t,this.userEventHandler,{passive:!1,isRocket:!0})),document.removeEventListener("visibilitychange",this.userEventHandler,{isRocket:!0}),this.savedUserEvents.forEach(t=>{(t.rocketTarget||t.target).dispatchEvent(new window[t.constructor.name](t.type,t))})}m(){const t="return false",e=Array.from(this.attributeEvents,t=>"data-rocket-"+t),i="["+this.attributeEvents.join("],[")+"]",o="[data-rocket-"+this.attributeEvents.join("],[data-rocket-")+"]",s=(e,i,o)=>{o&&o!==t&&(e.setAttribute("data-rocket-"+i,o),e["rocket"+i]=new Function("event",o),e.setAttribute(i,t))};new MutationObserver(t=>{for(const n of t)"attributes"===n.type&&(n.attributeName.startsWith("data-rocket-")||this.everythingLoaded?n.attributeName.startsWith("data-rocket-")&&this.everythingLoaded&&this.N(n.target,n.attributeName.substring(12)):s(n.target,n.attributeName,n.target.getAttribute(n.attributeName))),"childList"===n.type&&n.addedNodes.forEach(t=>{if(t.nodeType===Node.ELEMENT_NODE)if(this.everythingLoaded)for(const i of[t,...t.querySelectorAll(o)])for(const t of i.getAttributeNames())e.includes(t)&&this.N(i,t.substring(12));else for(const e of[t,...t.querySelectorAll(i)])for(const t of e.getAttributeNames())this.attributeEvents.includes(t)&&s(e,t,e.getAttribute(t))})}).observe(document,{subtree:!0,childList:!0,attributeFilter:[...this.attributeEvents,...e]})}I(){this.attributeEvents.forEach(t=>{document.querySelectorAll("[data-rocket-"+t+"]").forEach(e=>{this.N(e,t)})})}N(t,e){const i=t.getAttribute("data-rocket-"+e);i&&(t.setAttribute(e,i),t.removeAttribute("data-rocket-"+e))}k(t){Object.defineProperty(HTMLElement.prototype,"onclick",{get(){return this.rocketonclick||null},set(e){this.rocketonclick=e,this.setAttribute(t.everythingLoaded?"onclick":"data-rocket-onclick","this.rocketonclick(event)")}})}S(t){function e(e,i){let o=e[i];e[i]=null,Object.defineProperty(e,i,{get:()=>o,set(s){t.everythingLoaded?o=s:e["rocket"+i]=o=s}})}e(document,"onreadystatechange"),e(window,"onload"),e(window,"onpageshow");try{Object.defineProperty(document,"readyState",{get:()=>t.rocketReadyState,set(e){t.rocketReadyState=e},configurable:!0}),document.readyState="loading"}catch(t){console.log("WPRocket DJE readyState conflict, bypassing")}}l(t){this.originalAddEventListener=EventTarget.prototype.addEventListener,this.originalRemoveEventListener=EventTarget.prototype.removeEventListener,this.savedEventListeners=[],EventTarget.prototype.addEventListener=function(e,i,o){o&&o.isRocket||!t.B(e,this)&&!t.userEvents.includes(e)||t.B(e,this)&&!t.userActionTriggered||e.startsWith("rocket-")||t.everythingLoaded?t.originalAddEventListener.call(this,e,i,o):(t.savedEventListeners.push({target:this,remove:!1,type:e,func:i,options:o}),"mouseenter"!==e&&"mouseleave"!==e||t.originalAddEventListener.call(this,e,t.savedUserEvents.push,o))},EventTarget.prototype.removeEventListener=function(e,i,o){o&&o.isRocket||!t.B(e,this)&&!t.userEvents.includes(e)||t.B(e,this)&&!t.userActionTriggered||e.startsWith("rocket-")||t.everythingLoaded?t.originalRemoveEventListener.call(this,e,i,o):t.savedEventListeners.push({target:this,remove:!0,type:e,func:i,options:o})}}J(t,e){this.savedEventListeners=this.savedEventListeners.filter(i=>{let o=i.type,s=i.target||window;return e!==o||t!==s||(this.B(o,s)&&(i.type="rocket-"+o),this.$(i),!1)})}H(){EventTarget.prototype.addEventListener=this.originalAddEventListener,EventTarget.prototype.removeEventListener=this.originalRemoveEventListener,this.savedEventListeners.forEach(t=>this.$(t))}$(t){t.remove?this.originalRemoveEventListener.call(t.target,t.type,t.func,t.options):this.originalAddEventListener.call(t.target,t.type,t.func,t.options)}p(t){let e;function i(e){return t.everythingLoaded?e:e.split(" ").map(t=>"load"===t||t.startsWith("load.")?"rocket-jquery-load":t).join(" ")}function o(o){function s(e){const s=o.fn[e];o.fn[e]=o.fn.init.prototype[e]=function(){return this[0]===window&&t.userActionTriggered&&("string"==typeof arguments[0]||arguments[0]instanceof String?arguments[0]=i(arguments[0]):"object"==typeof arguments[0]&&Object.keys(arguments[0]).forEach(t=>{const e=arguments[0][t];delete arguments[0][t],arguments[0][i(t)]=e})),s.apply(this,arguments),this}}if(o&&o.fn&&!t.allJQueries.includes(o)){const e={DOMContentLoaded:[],"rocket-DOMContentLoaded":[]};for(const t in e)document.addEventListener(t,()=>{e[t].forEach(t=>t())},{isRocket:!0});o.fn.ready=o.fn.init.prototype.ready=function(i){function s(){parseInt(o.fn.jquery)>2?setTimeout(()=>i.bind(document)(o)):i.bind(document)(o)}return"function"==typeof i&&(t.realDomReadyFired?!t.userActionTriggered||t.fauxDomReadyFired?s():e["rocket-DOMContentLoaded"].push(s):e.DOMContentLoaded.push(s)),o([])},s("on"),s("one"),s("off"),t.allJQueries.push(o)}e=o}t.allJQueries=[],o(window.jQuery),Object.defineProperty(window,"jQuery",{get:()=>e,set(t){o(t)}})}P(){const t=new Map;document.write=document.writeln=function(e){const i=document.currentScript,o=document.createRange(),s=i.parentElement;let n=t.get(i);void 0===n&&(n=i.nextSibling,t.set(i,n));const c=document.createDocumentFragment();o.setStart(c,0),c.appendChild(o.createContextualFragment(e)),s.insertBefore(c,n)}}async R(){return new Promise(t=>{this.userActionTriggered?t():this.onFirstUserAction=t})}async L(){return new Promise(t=>{document.addEventListener("DOMContentLoaded",()=>{this.realDomReadyFired=!0,t()},{isRocket:!0})})}async j(){return this.realWindowLoadedFired?Promise.resolve():new Promise(t=>{window.addEventListener("load",t,{isRocket:!0})})}M(){this.pendingScripts=[];this.scriptsMutationObserver=new MutationObserver(t=>{for(const e of t)e.addedNodes.forEach(t=>{"SCRIPT"!==t.tagName||t.noModule||t.isWPRocket||this.pendingScripts.push({script:t,promise:new Promise(e=>{const i=()=>{const i=this.pendingScripts.findIndex(e=>e.script===t);i>=0&&this.pendingScripts.splice(i,1),e()};t.addEventListener("load",i,{isRocket:!0}),t.addEventListener("error",i,{isRocket:!0}),setTimeout(i,1e3)})})})}),this.scriptsMutationObserver.observe(document,{childList:!0,subtree:!0})}async F(){await this.X(),this.pendingScripts.length?(await this.pendingScripts[0].promise,await this.F()):this.scriptsMutationObserver.disconnect()}D(){this.delayedScripts={normal:[],async:[],defer:[]},document.querySelectorAll("script[type$=rocketlazyloadscript]").forEach(t=>{t.hasAttribute("data-rocket-src")?t.hasAttribute("async")&&!1!==t.async?this.delayedScripts.async.push(t):t.hasAttribute("defer")&&!1!==t.defer||"module"===t.getAttribute("data-rocket-type")?this.delayedScripts.defer.push(t):this.delayedScripts.normal.push(t):this.delayedScripts.normal.push(t)})}async _(){await this.L();let t=[];document.querySelectorAll("script[type$=rocketlazyloadscript][data-rocket-src]").forEach(e=>{let i=e.getAttribute("data-rocket-src");if(i&&!i.startsWith("data:")){i.startsWith("//")&&(i=location.protocol+i);try{const o=new URL(i).origin;o!==location.origin&&t.push({src:o,crossOrigin:e.crossOrigin||"module"===e.getAttribute("data-rocket-type")})}catch(t){}}}),t=[...new Map(t.map(t=>[JSON.stringify(t),t])).values()],this.Y(t,"preconnect")}async G(t){if(await this.K(),!0!==t.noModule||!("noModule"in HTMLScriptElement.prototype))return new Promise(e=>{let i;function o(){(i||t).setAttribute("data-rocket-status","executed"),e()}try{if(navigator.userAgent.includes("Firefox/")||""===navigator.vendor||this.CSPIssue)i=document.createElement("script"),[...t.attributes].forEach(t=>{let e=t.nodeName;"type"!==e&&("data-rocket-type"===e&&(e="type"),"data-rocket-src"===e&&(e="src"),i.setAttribute(e,t.nodeValue))}),t.text&&(i.text=t.text),t.nonce&&(i.nonce=t.nonce),i.hasAttribute("src")?(i.addEventListener("load",o,{isRocket:!0}),i.addEventListener("error",()=>{i.setAttribute("data-rocket-status","failed-network"),e()},{isRocket:!0}),setTimeout(()=>{i.isConnected||e()},1)):(i.text=t.text,o()),i.isWPRocket=!0,t.parentNode.replaceChild(i,t);else{const i=t.getAttribute("data-rocket-type"),s=t.getAttribute("data-rocket-src");i?(t.type=i,t.removeAttribute("data-rocket-type")):t.removeAttribute("type"),t.addEventListener("load",o,{isRocket:!0}),t.addEventListener("error",i=>{this.CSPIssue&&i.target.src.startsWith("data:")?(console.log("WPRocket: CSP fallback activated"),t.removeAttribute("src"),this.G(t).then(e)):(t.setAttribute("data-rocket-status","failed-network"),e())},{isRocket:!0}),s?(t.fetchPriority="high",t.removeAttribute("data-rocket-src"),t.src=s):t.src="data:text/javascript;base64,"+window.btoa(unescape(encodeURIComponent(t.text)))}}catch(i){t.setAttribute("data-rocket-status","failed-transform"),e()}});t.setAttribute("data-rocket-status","skipped")}async C(t){const e=t.shift();return e?(e.isConnected&&await this.G(e),this.C(t)):Promise.resolve()}O(){this.Y([...this.delayedScripts.normal,...this.delayedScripts.defer,...this.delayedScripts.async],"preload")}Y(t,e){this.trash=this.trash||[];let i=!0;var o=document.createDocumentFragment();t.forEach(t=>{const s=t.getAttribute&&t.getAttribute("data-rocket-src")||t.src;if(s&&!s.startsWith("data:")){const n=document.createElement("link");n.href=s,n.rel=e,"preconnect"!==e&&(n.as="script",n.fetchPriority=i?"high":"low"),t.getAttribute&&"module"===t.getAttribute("data-rocket-type")&&(n.crossOrigin=!0),t.crossOrigin&&(n.crossOrigin=t.crossOrigin),t.integrity&&(n.integrity=t.integrity),t.nonce&&(n.nonce=t.nonce),o.appendChild(n),this.trash.push(n),i=!1}}),document.head.appendChild(o)}W(){this.trash.forEach(t=>t.remove())}async T(){try{document.readyState="interactive"}catch(t){}this.fauxDomReadyFired=!0;try{await this.K(),this.J(document,"readystatechange"),document.dispatchEvent(new Event("rocket-readystatechange")),await this.K(),document.rocketonreadystatechange&&document.rocketonreadystatechange(),await this.K(),this.J(document,"DOMContentLoaded"),document.dispatchEvent(new Event("rocket-DOMContentLoaded")),await this.K(),this.J(window,"DOMContentLoaded"),window.dispatchEvent(new Event("rocket-DOMContentLoaded"))}catch(t){console.error(t)}}async A(){try{document.readyState="complete"}catch(t){}try{await this.K(),this.J(document,"readystatechange"),document.dispatchEvent(new Event("rocket-readystatechange")),await this.K(),document.rocketonreadystatechange&&document.rocketonreadystatechange(),await this.K(),this.J(window,"load"),window.dispatchEvent(new Event("rocket-load")),await this.K(),window.rocketonload&&window.rocketonload(),await this.K(),this.allJQueries.forEach(t=>t(window).trigger("rocket-jquery-load")),await this.K(),this.J(window,"pageshow");const t=new Event("rocket-pageshow");t.persisted=this.persisted,window.dispatchEvent(t),await this.K(),window.rocketonpageshow&&window.rocketonpageshow({persisted:this.persisted})}catch(t){console.error(t)}}async K(){Date.now()-this.lastBreath>45&&(await this.X(),this.lastBreath=Date.now())}async X(){return document.hidden?new Promise(t=>setTimeout(t)):new Promise(t=>requestAnimationFrame(t))}B(t,e){return e===document&&"readystatechange"===t||(e===document&&"DOMContentLoaded"===t||(e===window&&"DOMContentLoaded"===t||(e===window&&"load"===t||e===window&&"pageshow"===t)))}static run(){(new RocketLazyLoadScripts).t()}}RocketLazyLoadScripts.run()})();</script>
	<title>Assistir Black Clover Dublado - Episódio 170 - Goyabu</title>
<style id="wpr-usedcss">img.emoji{display:inline!important;border:none!important;box-shadow:none!important;height:1em!important;width:1em!important;margin:0 .07em!important;vertical-align:-.1em!important;background:0 0!important;padding:0!important}:where(.wp-block-button__link){border-radius:9999px;box-shadow:none;padding:calc(.667em + 2px) calc(1.333em + 2px);text-decoration:none}:where(.wp-block-calendar table:not(.has-background) th){background:#ddd}:where(.wp-block-columns){margin-bottom:1.75em}:where(.wp-block-columns.has-background){padding:1.25em 2.375em}:where(.wp-block-post-comments input[type=submit]){border:none}:where(.wp-block-cover-image:not(.has-text-color)),:where(.wp-block-cover:not(.has-text-color)){color:#fff}:where(.wp-block-cover-image.is-light:not(.has-text-color)),:where(.wp-block-cover.is-light:not(.has-text-color)){color:#000}:where(.wp-block-file){margin-bottom:1.5em}:where(.wp-block-file__button){border-radius:2em;display:inline-block;padding:.5em 1em}:where(.wp-block-file__button):is(a):active,:where(.wp-block-file__button):is(a):focus,:where(.wp-block-file__button):is(a):hover,:where(.wp-block-file__button):is(a):visited{box-shadow:none;color:#fff;opacity:.85;text-decoration:none}:where(.wp-block-latest-comments:not([style*=line-height] .wp-block-latest-comments__comment)){line-height:1.1}:where(.wp-block-latest-comments:not([style*=line-height] .wp-block-latest-comments__comment-excerpt p)){line-height:1.8}ul{box-sizing:border-box}:where(.wp-block-navigation.has-background .wp-block-navigation-item a:not(.wp-element-button)),:where(.wp-block-navigation.has-background .wp-block-navigation-submenu a:not(.wp-element-button)){padding:.5em 1em}:where(.wp-block-navigation .wp-block-navigation__submenu-container .wp-block-navigation-item a:not(.wp-element-button)),:where(.wp-block-navigation .wp-block-navigation__submenu-container .wp-block-navigation-submenu a:not(.wp-element-button)),:where(.wp-block-navigation .wp-block-navigation__submenu-container .wp-block-navigation-submenu button.wp-block-navigation-item__content),:where(.wp-block-navigation .wp-block-navigation__submenu-container .wp-block-pages-list__item button.wp-block-navigation-item__content){padding:.5em 1em}:where(p.has-text-color:not(.has-link-color)) a{color:inherit}:where(.wp-block-post-excerpt){margin-bottom:var(--wp--style--block-gap);margin-top:var(--wp--style--block-gap)}:where(.wp-block-pullquote){margin:0 0 1em}:where(.wp-block-search__button){border:1px solid #ccc;padding:6px 10px}:where(.wp-block-search__button-inside .wp-block-search__inside-wrapper){border:1px solid #949494;box-sizing:border-box;padding:4px}:where(.wp-block-search__button-inside .wp-block-search__inside-wrapper) .wp-block-search__input{border:none;border-radius:0;padding:0 4px}:where(.wp-block-search__button-inside .wp-block-search__inside-wrapper) .wp-block-search__input:focus{outline:0}:where(.wp-block-search__button-inside .wp-block-search__inside-wrapper) :where(.wp-block-search__button){padding:4px 8px}:where(.wp-block-term-description){margin-bottom:var(--wp--style--block-gap);margin-top:var(--wp--style--block-gap)}:where(pre.wp-block-verse){font-family:inherit}:root{--wp--preset--font-size--normal:16px;--wp--preset--font-size--huge:42px}html :where(.has-border-color){border-style:solid}html :where([style*=border-top-color]){border-top-style:solid}html :where([style*=border-right-color]){border-right-style:solid}html :where([style*=border-bottom-color]){border-bottom-style:solid}html :where([style*=border-left-color]){border-left-style:solid}html :where([style*=border-width]){border-style:solid}html :where([style*=border-top-width]){border-top-style:solid}html :where([style*=border-right-width]){border-right-style:solid}html :where([style*=border-bottom-width]){border-bottom-style:solid}html :where([style*=border-left-width]){border-left-style:solid}html :where(img[class*=wp-image-]){height:auto;max-width:100%}:where(figure){margin:0 0 1em}html :where(.is-position-sticky){--wp-admin--admin-bar--position-offset:var(--wp-admin--admin-bar--height,0px)}@media screen and (max-width:600px){html :where(.is-position-sticky){--wp-admin--admin-bar--position-offset:0px}}body{--wp--preset--color--black:#000000;--wp--preset--color--cyan-bluish-gray:#abb8c3;--wp--preset--color--white:#ffffff;--wp--preset--color--pale-pink:#f78da7;--wp--preset--color--vivid-red:#cf2e2e;--wp--preset--color--luminous-vivid-orange:#ff6900;--wp--preset--color--luminous-vivid-amber:#fcb900;--wp--preset--color--light-green-cyan:#7bdcb5;--wp--preset--color--vivid-green-cyan:#00d084;--wp--preset--color--pale-cyan-blue:#8ed1fc;--wp--preset--color--vivid-cyan-blue:#0693e3;--wp--preset--color--vivid-purple:#9b51e0;--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple:linear-gradient(135deg,rgba(6, 147, 227, 1) 0%,rgb(155, 81, 224) 100%);--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan:linear-gradient(135deg,rgb(122, 220, 180) 0%,rgb(0, 208, 130) 100%);--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange:linear-gradient(135deg,rgba(252, 185, 0, 1) 0%,rgba(255, 105, 0, 1) 100%);--wp--preset--gradient--luminous-vivid-orange-to-vivid-red:linear-gradient(135deg,rgba(255, 105, 0, 1) 0%,rgb(207, 46, 46) 100%);--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray:linear-gradient(135deg,rgb(238, 238, 238) 0%,rgb(169, 184, 195) 100%);--wp--preset--gradient--cool-to-warm-spectrum:linear-gradient(135deg,rgb(74, 234, 220) 0%,rgb(151, 120, 209) 20%,rgb(207, 42, 186) 40%,rgb(238, 44, 130) 60%,rgb(251, 105, 98) 80%,rgb(254, 248, 76) 100%);--wp--preset--gradient--blush-light-purple:linear-gradient(135deg,rgb(255, 206, 236) 0%,rgb(152, 150, 240) 100%);--wp--preset--gradient--blush-bordeaux:linear-gradient(135deg,rgb(254, 205, 165) 0%,rgb(254, 45, 45) 50%,rgb(107, 0, 62) 100%);--wp--preset--gradient--luminous-dusk:linear-gradient(135deg,rgb(255, 203, 112) 0%,rgb(199, 81, 192) 50%,rgb(65, 88, 208) 100%);--wp--preset--gradient--pale-ocean:linear-gradient(135deg,rgb(255, 245, 203) 0%,rgb(182, 227, 212) 50%,rgb(51, 167, 181) 100%);--wp--preset--gradient--electric-grass:linear-gradient(135deg,rgb(202, 248, 128) 0%,rgb(113, 206, 126) 100%);--wp--preset--gradient--midnight:linear-gradient(135deg,rgb(2, 3, 129) 0%,rgb(40, 116, 252) 100%);--wp--preset--font-size--small:13px;--wp--preset--font-size--medium:20px;--wp--preset--font-size--large:36px;--wp--preset--font-size--x-large:42px;--wp--preset--spacing--20:0.44rem;--wp--preset--spacing--30:0.67rem;--wp--preset--spacing--40:1rem;--wp--preset--spacing--50:1.5rem;--wp--preset--spacing--60:2.25rem;--wp--preset--spacing--70:3.38rem;--wp--preset--spacing--80:5.06rem;--wp--preset--shadow--natural:6px 6px 9px rgba(0, 0, 0, .2);--wp--preset--shadow--deep:12px 12px 50px rgba(0, 0, 0, .4);--wp--preset--shadow--sharp:6px 6px 0px rgba(0, 0, 0, .2);--wp--preset--shadow--outlined:6px 6px 0px -3px rgba(255, 255, 255, 1),6px 6px rgba(0, 0, 0, 1);--wp--preset--shadow--crisp:6px 6px 0px rgba(0, 0, 0, 1)}:where(.is-layout-flex){gap:.5em}:where(.is-layout-grid){gap:.5em}:where(.wp-block-post-template.is-layout-flex){gap:1.25em}:where(.wp-block-post-template.is-layout-grid){gap:1.25em}:where(.wp-block-columns.is-layout-flex){gap:2em}:where(.wp-block-columns.is-layout-grid){gap:2em}:root{--principal-dark:#812121;--principal-light:#c23232;--principal-rgb:162,42,42;--secundaria-dark:#9400ab;--secundaria-light:#de00ff;--secundaria-rgb:185,0,214;--bg-dark:#121212;--bg-light:#1b1b1b;--bg-rgb:23,23,23;--box-dark:#212020;--box-light:#323131;--box-rgb:42,41,41;--text-dark:#cccccc;--text-light:#ffffff;--text-rgb:255,255,255;--title-dark:#ccc29c;--title-light:#ffffeb;--title-rgb:255,243,196}:root{--type-episode-rgb:50,49,49;--type-episode-title:rgb(var(--text-rgb), 1);--type-filler-rgb:252,211,77;--type-filler-title:rgb(var(--type-filler-rgb), 1);--type-sub-filler-rgb:157,255,0;--type-sub-filler-title:rgb(var(--type-sub-filler-rgb), 1);--type-trailer-rgb:255,0,0;--type-trailer-title:rgb(var(--type-trailer-rgb), 1);--type-special-rgb:255,0,235;--type-special-title:rgb(var(--type-special-rgb), 1);--rarity-comum:#7c7c7c;--rarity-comum-rgb:124,124,124;--rarity-incomum:#3ca42f;--rarity-incomum-rgb:60,164,47;--rarity-raro:#2391ff;--rarity-raro-rgb:35,145,255;--rarity-mistico:#9309f0;--rarity-mistico-rgb:147,9,240;--rarity-epico:#ff00c3;--rarity-epico-rgb:255,0,195;--rarity-lendario:#f55600;--rarity-lendario-rgb:245,86,0;--rarity-admin:#cd0000;--rarity-admin-rgb:205,0,0;--success:rgb(40, 167, 69);--success-light:#34ce57;--success-transparent:rgba(40, 167, 69, .2);--success-rgb:40,167,69;--error:#dc3545;--error-light:#e74c3c;--error-transparent:rgba(220, 53, 69, .2);--error-rgb:220,53,69;--warning:#ffc107;--warning-transparent:rgba(255, 193, 7, .2);--warning-rgb:255,193,7;--info:#17a2b8;--info-transparent:rgba(23, 162, 184, .2);--info-rgb:23,162,184}a,applet,audio,b,body,canvas,caption,center,div,em,embed,fieldset,footer,form,h1,h3,header,html,i,iframe,img,label,legend,li,nav,object,small,span,table,tbody,td,th,time,tr,ul,video{margin:0;padding:0;border:0;list-style:none;outline:0}.sr-only{position:absolute!important;width:1px!important;height:1px!important;padding:0!important;margin:-1px!important;overflow:hidden!important;clip:rect(0,0,0,0)!important;white-space:nowrap!important;border-width:0!important}a:active,a:focus{outline:0!important;-moz-outline-style:none!important}footer,header,nav{display:block;outline:0}a{text-decoration:none;color:rgb(var(--text-rgb),1);outline:0}input,select,textarea{outline:0}a:focus{outline:0}body:not{outline:0}a:-webkit-any-link:active{outline:0}table{border-collapse:collapse;border-spacing:0;outline:0}body,html{font-family:Arial,sans-serif;font-size:15px;font-weight:400;background:rgb(var(--bg-rgb),1);color:var(--text-dark);display:flex;flex-direction:column;min-height:100vh;height:100%}body{overflow-x:hidden}*,::after,::before{box-sizing:border-box}i{position:relative}main{padding-top:85px;flex:1 0 auto}.hidden-text{overflow:hidden;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;text-overflow:ellipsis}.flex-10{display:flex;align-items:center;gap:10px}.alinhamento{max-width:1280px;margin:0 auto}.row{display:flex;justify-content:space-between}.btn-style{background:var(--bg-light);border:1px solid var(--box-light);color:rgb(var(--text-rgb),1);font-weight:700;padding:8px 15px;border-radius:.5rem;cursor:pointer;font-size:.9rem;transition:all .4s;text-transform:capitalize}.btn-style.active,.btn-style:hover{background-color:var(--principal-dark);border:1px solid rgb(var(--principal-rgb),1)}.btn-style.disabled,.btn-style:disabled{opacity:.3;cursor:not-allowed!important}.btn-danger,.btn-info,.btn-principal,.btn-secondary,.btn-success,.btn-warning{display:flex;align-items:center;justify-content:center;gap:8px;padding:10px 15px;font-size:.9rem}.btn-danger i,.btn-info i,.btn-principal i,.btn-secondary i,.btn-success i,.btn-warning i{font-size:1rem}.btn-principal{background-color:rgb(var(--principal-rgb),1);color:rgb(var(--text-rgb),1)}.btn-secondary.active,.btn-secondary:hover{background-color:var(--bg-dark);border:1px solid var(--box-light);color:rgb(var(--text-rgb),1)}.btn-danger{background-color:var(--error);color:rgb(var(--text-rgb),1)}.select-style{background:var(--bg-light);border:1px solid rgb(var(--box-rgb),.7);color:inherit;padding:0 1rem;height:35px;cursor:pointer}.select-style:hover{background:rgb(var(--box-rgb),1)!important;border:1px solid var(--box-light)!important}.select-style option{background:var(--bg-light);border:1px solid var(--box-light)}:is(.select-style option):where(:hover,:focus,:active){background:rgb(var(--principal-rgb),1);color:rgb(var(--text-rgb),1)}:is(.select-style option):checked{background:rgb(var(--principal-rgb),1);color:rgb(var(--text-rgb),1)}.cover-container{position:relative;border-radius:.5rem;overflow:hidden}.cover{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;transition:transform .8s ease}.icone-center-radial{display:flex;align-items:center;justify-content:center;border-radius:50%;flex-shrink:0;width:60px;height:60px}.icone-center-radial i{font-size:1.8rem}.loading-spinner{display:inline-block;width:40px;height:40px;border:4px solid var(--box-light);border-top:4px solid rgb(var(--principal-rgb),1);border-radius:50%;animation:1s linear infinite spin;margin-right:15px}.box-container{margin:0 auto;background:var(--bg-light);border:1px solid rgb(var(--text-rgb),.04);border-radius:1rem;box-shadow:0 -10px 30px var(--bg-dark);overflow:hidden}.box-container .btn-style{width:fit-content;color:rgb(var(--text-rgb),1);margin:10px 0}.box-consent-content{display:flex;align-items:center;gap:20px;padding:20px}.box-container-text{flex-grow:1}.box-container-text h3{margin:0 0 5px;color:rgb(var(--text-rgb),1);font-size:1.1rem}.box-container-text p{margin:0;color:rgb(var(--text-rgb),.5);font-size:.875rem;line-height:1.5}.box-container-text a{color:rgb(var(--principal-rgb),1);text-decoration:none;font-weight:700;transition:color .3s ease}.box-container-text a:hover{color:var(--principal-dark)}header{position:fixed;background:rgb(var(--bg-rgb),.7);backdrop-filter:blur(10px);z-index:999;border:1px solid rgb(var(--box-rgb),.7);padding:0 10px;width:calc(100% - 10px);max-width:1350px;left:50%;top:10px;transform:translateX(-50%);border-radius:1rem}.header-content{padding:12px 0;margin:0 auto;width:100%;align-items:center;position:relative}.menu-left{display:flex;gap:20px}.menu-right{display:flex;gap:10px}.logo{position:relative;align-items:center;display:inline-flex;margin:auto 0;max-width:220px;height:32px;color:rgb(var(--text-rgb),1);text-decoration:none}.logo img{width:100%;height:100%;object-fit:contain}.logo h1{font-size:1.5rem;margin:0;font-weight:700;text-transform:uppercase;letter-spacing:1px}.search-container{position:relative;background:rgb(var(--text-rgb),.1);width:100%;max-width:288px;border-radius:.5rem;border:1px solid var(--box-light)}.search-form{position:relative;display:flex;align-items:center;gap:10px}.search-actions{position:absolute;top:50%;transform:translateY(-50%);right:10px;display:flex;gap:12px;align-items:center}.ico-style{position:relative;width:40px;height:40px;background:rgb(var(--text-rgb),.1);border:1px solid var(--box-light);font-size:1.3rem}.ico-style i{position:absolute;top:52%;left:50%;transform:translate(-50%,-50%)}.ico-style .close-icon,.ico-style.active .open-icon{display:none}.ico-style .open-icon,.ico-style.active .close-icon{display:block}.filter-button{padding:5px 8px;font-size:.8rem;width:auto}.search-form input[type=text]{width:100%;background:0 0!important;color:rgb(var(--text-rgb),1);padding:10px 90px 10px 15px;border:0;font-size:16px;font-weight:300;transition:.5s;border-radius:4px}.search-form input[type=text]:focus,.search-form input[type=text]:hover{background:rgb(var(--box-rgb),1)}.search-form input[type=text]::placeholder{color:rgb(var(--text-rgb),1)}.search-form .fa-search{font-size:1.2rem;left:8px}.live-search{width:100%;max-width:100%!important}.live-search .loading-spinner{width:30px;height:30px;margin-right:10px}.live-search.live-search-animated{animation:.3s ease-out bubble-animation;transform-origin:top center;will-change:transform,opacity}.search-transition{opacity:1;transform:translateY(0)}.menu-style{display:none;position:absolute;width:100%;margin-top:6px;z-index:100;background:var(--box-dark);border:1px solid var(--box-light);border-radius:.5rem;animation:.3s ease-out bubble-animation;transform-origin:top center;will-change:transform,opacity;max-width:260px;top:52px}.menu-style.active{display:block}.menu-style ul{padding:5px}.list-item{background:var(--box-dark);border-radius:0;overflow:hidden;padding:5px;display:flex;gap:10px;align-items:center;transition:.3s all ease;border:1px solid transparent;border-bottom:1px solid rgb(var(--box-rgb),.7)}.poster-card{width:70px;height:70px;border-radius:.5rem;overflow:hidden;position:relative}.user-avatar-list.poster-card{border-radius:1rem}.user-info-display{gap:3px!important}.user-rarity-display{color:rgb(var(--rarity-profile),1);margin:0 2px;border-radius:1rem;font-size:.8rem;font-weight:700;width:fit-content;letter-spacing:.5px;text-transform:capitalize}.user-coins-display{padding:10px 15px;color:rgb(var(--text-rgb),1);background:var(--bg-dark)!important;border-radius:1rem;border:none!important;margin:5px 0;width:fit-content}.list-item:hover{background:rgb(var(--box-rgb),1);border:1px solid var(--box-light);border-radius:.5rem}.menu-style li:nth-last-child(1) .list-item{border-bottom:none}.list-item .title-card{color:rgb(var(--text-rgb),1);width:calc(100% - 80px);display:flex;flex-direction:column;gap:10px;font-size:14px;font-weight:bolder;margin:auto 0}.menu-float i,.menu-user-float i{font-size:1.3rem;color:var(--text-dark)}.menu-float ul li a,.menu-user-float ul li a{padding:15px 10px;color:rgb(var(--text-rgb),1)}.menu-user-float{right:0}.user-avatar-img{width:40px;height:40px;border-radius:.5rem;top:50%;left:50%;transform:translate(-50%,-50%);animation:2s infinite pulse-rarity}.headTitle{font-size:1.2rem;font-weight:bolder;margin:20px 10px 15px;display:flex;flex-direction:column}.headTitle p{font-size:.85rem;font-weight:400;color:rgb(var(--text-rgb),.5);margin-top:3px}.filter-container{position:relative;margin:0 10px}.filter-items{display:flex;flex-wrap:wrap;gap:8px;margin-bottom:10px}.filter-btn,.show-more-filter{display:flex;gap:8px;padding:.35rem .9rem;color:rgb(var(--text-rgb),.5);background:var(--bg-light);border:1px solid rgb(var(--box-rgb),.7);font-size:.875rem;white-space:nowrap;border-radius:.4rem;transition:all .3s ease}.filter-btn.active,.filter-btn:hover{color:rgb(var(--text-rgb),1)!important;border:1px solid rgb(var(--principal-rgb),1)!important}.show-more-filter,.show-more-filter:hover{background:var(--bg-dark);color:rgb(var(--text-rgb),1);border:1px solid rgb(var(--box-rgb),.7)}.show-more-filter i{top:2px}@media (max-width:768px){.filter-items{max-height:calc(44px * 4 + 32px);overflow:hidden;transition:max-height .3s ease}.filter-items.expanded{max-height:none}.show-more-filter{display:flex}.show-more-filter.hidden{display:none}}.shared-count{background-color:rgba(0,0,0,.2);padding:2px 6px;border-radius:3px}.episodes-controls{display:flex;justify-content:space-between;gap:10px;margin:10px 0;position:relative;z-index:100}.episode-navigation,.episodes-pagination{display:flex;gap:5px;align-items:center;justify-content:center}.episodes-view-btn{font-size:1.2rem;height:35px;width:35px;display:flex;justify-content:center;align-items:center;background:var(--bg-light);border:1px solid rgb(var(--box-rgb),.7)}.episodes-tabs{margin-bottom:15px}.episodes-pagination{margin-top:20px}.episode-navigation .btn-style:hover{background:var(--principal-dark);border:1px solid rgb(var(--principal-rgb),1)}.episode-navigation .btn-style{display:flex;justify-content:center;width:100%}.episode-navigation .btn-style span{display:flex;gap:10px;align-items:center}.episode-navigation .owl-item{padding-right:10px}.episodes-list{display:flex;flex-direction:column;gap:10px}.episodes-minimal{display:grid;grid-template-columns:repeat(auto-fit,minmax(60px,1fr));gap:10px}.episodes-list,.episodes-minimal{width:100%}.episodes-list .owl-item{padding-right:5px}.minimal-view .current-episode a{background:rgb(var(--principal-rgb),.2)!important;color:rgb(var(--principal-rgb),1)!important;font-weight:700!important;border-color:rgb(var(--principal-rgb),.5)!important}.list-view .current-episode a{background:rgb(var(--principal-rgb),.15)!important;border-color:rgb(var(--principal-rgb),.5)!important}.list-view .current-episode a .ep-info{color:rgb(var(--principal-rgb),1)!important}.episode-item{position:relative}.coverImg{position:absolute;top:0;left:0;width:100%;height:100%;background-size:cover;background-position:center;border-radius:.5rem}.progress-bar-container{position:absolute;bottom:10px;left:50%;transform:translateX(-50%);background:var(--box-light);margin-top:10px;width:calc(100% - 20px);height:4px;border-radius:1rem;overflow:hidden;z-index:101}.coverImg::before{content:"";position:absolute;top:1px;left:0;width:100%;height:100%;display:block;z-index:101;background:linear-gradient(180deg,rgba(0,0,0,0) 65%,rgb(var(--bg-rgb),1) 100%)}.progress-bar{height:100%;width:0%;transition:all .4s ease;background:rgb(var(--title-rgb),1);border-radius:1rem}.owl-carousel .owl-wrapper:after{content:".";display:block;clear:both;visibility:hidden;line-height:0;height:0}.owl-carousel{display:none;position:relative;width:100%;-ms-touch-action:pan-y}.owl-carousel .owl-wrapper{display:none;position:relative;-webkit-transform:translate3d(0,0,0)}.owl-carousel .owl-wrapper-outer{overflow:hidden;position:relative;width:100%}.owl-carousel .owl-wrapper-outer.autoHeight{-webkit-transition:height .5s ease-in-out;-moz-transition:height .5s ease-in-out;-ms-transition:height .5s ease-in-out;-o-transition:height .5s ease-in-out;transition:height .5s ease-in-out}.owl-carousel .owl-item{float:left}.owl-carousel .owl-item,.owl-carousel .owl-wrapper{-webkit-backface-visibility:hidden;-moz-backface-visibility:hidden;-ms-backface-visibility:hidden;-webkit-transform:translate3d(0,0,0);-moz-transform:translate3d(0,0,0);-ms-transform:translate3d(0,0,0)}.title-post{color:rgb(var(--text-rgb),.6);font-size:1rem;font-weight:500}.h1-ep{flex-direction:column-reverse;margin:3px 0}.h1-content{position:relative;display:flex;align-items:center;gap:10px;z-index:10;margin:0 10px}footer{border-top:1px solid rgb(var(--box-rgb),.7);background:rgb(var(--bg-rgb),1);flex-shrink:0;position:relative;width:100%}footer ul{display:inline-flex;width:100%;gap:10px;justify-content:center;padding-bottom:20px;margin:20px 0;border-bottom:1px solid rgb(var(--box-rgb),1)}footer p{text-align:center;font-size:1rem;color:var(--text-dark);margin:5px 0}footer .link-footer{padding:5px 13px;border-radius:2rem;background:rgb(var(--box-rgb),1);color:rgb(var(--text-rgb),.5);border:1px solid transparent}footer .link-footer:hover{color:rgb(var(--text-rgb),1)}footer .footer-links{display:inline-flex;flex-wrap:wrap;justify-content:center;align-items:center;gap:0;list-style:none;padding:0;margin:10px 0;padding-bottom:10px}footer .footer-links li{display:inline-flex;align-items:center}footer .footer-links li:not(:last-child)::after{content:' • ';margin:0 8px;color:rgb(var(--text-rgb),.5);font-size:1rem}footer .footer-links a{color:rgb(var(--text-rgb),.7);text-decoration:none;transition:color .3s ease}footer .footer-links a:hover{color:rgb(var(--text-rgb),1)}.cookie-consent{position:fixed;bottom:0;left:0;width:100%;z-index:1000;background:0 0;padding:15px;display:none;transition:all .3s ease}.cookie-consent.show{display:block;animation:.3s ease-out float-top}.cookie-consent-container{max-width:800px}body.cronos-popup-active,html.cronos-popup-active{overflow:hidden!important;width:100%!important}.cronos-popup{position:fixed;top:0;left:0;width:100%;height:100%;z-index:10000;display:flex;align-items:center;justify-content:center;opacity:0;visibility:hidden;transition:all .3s ease}.cronos-popup.show{opacity:1;visibility:visible}.cronos-popup-overlay{position:absolute;inset:0;background:rgba(0,0,0,.7);backdrop-filter:blur(5px);pointer-events:auto;touch-action:auto;-webkit-tap-highlight-color:transparent}.cronos-popup-container{position:relative;max-width:500px;width:calc(100% - 40px);max-height:80vh;margin:20px;transform:scale(.8);transition:transform .3s ease;display:flex;flex-direction:column;overflow:hidden}.cronos-popup.show .cronos-popup-container{transform:scale(1)}.cronos-popup-content{display:flex;min-width:calc(100% - 40px);flex-direction:column;align-items:center;gap:25px;padding:30px 10px;text-align:center;flex:1;overflow-y:auto;overflow-x:hidden;-webkit-overflow-scrolling:touch;scrollbar-width:thin;scrollbar-color:rgb(var(--text-rgb),.4) var(--box-dark)}.cronos-popup-content::-webkit-scrollbar{width:8px}.cronos-popup-content::-webkit-scrollbar-track{background:var(--box-dark);border-radius:4px}.cronos-popup-content::-webkit-scrollbar-thumb{background:rgb(var(--principal-rgb),1);border-radius:4px}.cronos-popup-content::-webkit-scrollbar-thumb:hover{background:var(--principal-light)}.cronos-popup-header{display:flex;flex-direction:column;align-items:center;gap:5px}.cronos-popup-header h3{color:rgb(var(--title-rgb),1);font-size:1.5rem;margin:0}.cronos-popup-subtitle{color:rgba(var(--text-rgb),.4);font-size:.95rem;margin:0}.cronos-popup-icon{width:80px;height:80px;background:rgb(var(--color-alert-popup),.8);animation:2s infinite pulse-alert;color:rgb(var(--text-rgb),1)}.cronos-popup-icon i{font-size:2.5rem}.rewards-carousel{width:100%;position:relative}.rewards-carousel .owl-item{display:flex;justify-content:center;padding:0 5px}.cronos-popup-box{display:flex;flex-direction:column;gap:10px;width:100%;padding:20px;background:var(--box-dark);border-radius:8px;border:1px solid rgb(var(--box-rgb),1)}.cronos-popup-label{color:rgb(var(--text-rgb),.7);font-size:.9rem;margin:0;font-weight:700;text-transform:uppercase}.cronos-popup-info{color:rgba(var(--text-rgb),.7);line-height:1.6}.cronos-popup-actions{display:flex;gap:10px;width:100%;justify-content:center;flex-wrap:wrap}.cronos-popup-actions button{min-width:140px}.cronos-popup-actions button:disabled{opacity:.6;cursor:not-allowed}@media (max-width:768px){.cronos-popup-container{width:calc(100% - 20px);margin:10px}.cronos-popup-content{padding:20px 15px;gap:20px}.cronos-popup-actions button{min-width:120px}}@keyframes float-top{0%{opacity:0;transform:translateY(100%)}100%{opacity:1;transform:translateY(0)}}@keyframes bubble-animation{0%{opacity:0;transform:scale(.5)}70%{opacity:.7;transform:scale(1.05)}100%{opacity:1;transform:scale(1)}}@keyframes spin{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes pulse-rarity{0%{-moz-box-shadow:0 0 0 0 rgba(var(--rarity-profile),1);box-shadow:0 0 0 0 rgba(var(--rarity-profile),1)}70%{-moz-box-shadow:0 0 0 10px rgba(var(--rarity-profile),0);box-shadow:0 0 0 10px rgba(var(--rarity-profile),0)}100%{-moz-box-shadow:0 0 0 0 rgba(var(--rarity-profile),0);box-shadow:0 0 0 0 rgba(var(--rarity-profile),0)}}@keyframes pulse-alert{0%{-moz-box-shadow:0 0 0 0 rgba(var(--color-alert-popup),1);box-shadow:0 0 0 0 rgba(var(--color-alert-popup),1)}70%{-moz-box-shadow:0 0 0 10px rgba(var(--color-alert-popup),0);box-shadow:0 0 0 10px rgba(var(--color-alert-popup),0)}100%{-moz-box-shadow:0 0 0 0 rgba(var(--color-alert-popup),0);box-shadow:0 0 0 0 rgba(var(--color-alert-popup),0)}}@media only screen and (max-width:1300px){.episode-navigation .owl-item{padding-right:0;padding-left:10px}.episodes-list,.episodes-minimal{margin:0 10px;width:calc(100% - 20px)}.episodes-controls{margin:10px}}@media only screen and (max-width:999px){.live-search{width:80%;margin-top:0;left:50%;transform:translateX(-50%)}}@media only screen and (max-width:780px){.box-container{flex-direction:column;text-align:center}.box-container .btn-style{margin:10px auto}}@media only screen and (max-width:590px){.episodes-controls{align-items:center;flex-direction:column}}@media (min-width:768px){#mb-close-search,#mb-search,#mb-user{display:none!important}#dk-user,.search-container{display:block!important}}@media (max-width:768px){.menu-left{width:100%;justify-content:space-between;padding:0 10px}.open-search .menu-right{width:100%;display:flex;padding:0 10px}.open-search .search-container{display:block!important;max-width:100%}.menu-float{left:10px}.live-search{width:calc(100% + 70px)!important;max-width:calc(100% + 70px)!important;left:calc(50% + 25px)!important;margin-top:5px!important;transform:translateX(-50%)!important}#header-content.open-search #mb-close-search,#mb-search{display:block}#mb-close-search{display:none}#dk-user,.open-search .menu-left,.search-container{display:none!important}.box-consent-content{flex-direction:column}}@media (max-width:600px){header{padding:0}}.fab,.fad,.fas{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-block;font-style:normal;font-variant:normal;text-rendering:auto;line-height:1}.fa-spin{-webkit-animation:2s linear infinite fa-spin;animation:2s linear infinite fa-spin}@-webkit-keyframes fa-spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes fa-spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.fa-bars:before{content:"\f0c9"}.fa-times:before{content:"\f00d"}.fa-search:before{content:"\f002"}.fa-sort-alt:before{content:"\f883"}.fa-home-lg:before{content:"\f80b"}.fa-calendar-week:before{content:"\f784"}.fa-compass:before{content:"\f14e"}.fa-history:before{content:"\f1da"}.fa-tags:before{content:"\f02c"}.fa-layer-group:before{content:"\f5fd"}.fa-user-edit:before{content:"\f4ff"}.fa-user:before{content:"\f007"}.fa-cookie-bite:before{content:"\f564"}.fa-check:before{content:"\f00c"}.fa-share-alt:before{content:"\f1e0"}.fa-share-all:before{content:"\f367"}.fa-th-list:before{content:"\f00b"}.fa-angle-left:before{content:"\f104"}.fa-angle-right:before{content:"\f105"}.fa-angle-double-right:before{content:"\f101"}.fa-angle-double-left:before{content:"\f100"}.fa-skull:before{content:"\f54c"}.fa-lightbulb:before{content:"\f0eb"}.fa-chevron-down:before{content:"\f078"}.fa-chevron-up:before{content:"\f077"}.fa-flag:before{content:"\f024"}.fa-usd-circle:before{content:"\f2e8"}.fa-lock:before{content:"\f023"}.fa-check-circle:before{content:"\f058"}.fa-info-circle:before{content:"\f05a"}.fa-exclamation-triangle:before{content:"\f071"}.fa-random:before{content:"\f074"}.fa-sign-out-alt:before{content:"\f2f5"}.fa-question:before{content:"\f128"}.fa-link:before{content:"\f0c1"}.fa-shopping-bag:before{content:"\f290"}.fa-fire-alt:before{content:"\f7e4"}.fa-shield-alt:before{content:"\f3ed"}.sr-only{border:0;clip:rect(0,0,0,0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.fab{font-family:"Font Awesome 5 Brands";font-weight:400}@font-face{font-family:"Font Awesome 5 Duotone";font-style:normal;font-weight:900;font-display:swap;src:url(https://goyabu.io/wp-content/themes/cronos-design/assets/fontawesome/webfonts/fa-duotone-900.eot);src:url(https://goyabu.io/wp-content/themes/cronos-design/assets/fontawesome/webfonts/fa-duotone-900.eot?#iefix) format("embedded-opentype"),url(https://goyabu.io/wp-content/themes/cronos-design/assets/fontawesome/webfonts/fa-duotone-900.woff2) format("woff2"),url(https://goyabu.io/wp-content/themes/cronos-design/assets/fontawesome/webfonts/fa-duotone-900.woff) format("woff"),url(https://goyabu.io/wp-content/themes/cronos-design/assets/fontawesome/webfonts/fa-duotone-900.ttf) format("truetype"),url(https://goyabu.io/wp-content/themes/cronos-design/assets/fontawesome/webfonts/fa-duotone-900.svg#fontawesome) format("svg")}.fad{position:relative;font-family:"Font Awesome 5 Duotone";font-weight:900}.fad:before{position:absolute;color:var(--fa-primary-color,inherit);opacity:1;opacity:var(--fa-primary-opacity,1)}.fad:after{color:var(--fa-secondary-color,inherit)}.fad:after{opacity:.4;opacity:var(--fa-secondary-opacity,.4)}.fad.fa-search:after{content:"\10f002"}.fad.fa-sort-alt:after{content:"\10f883"}.fad.fa-home-lg:after{content:"\10f80b"}.fad.fa-calendar-week:after{content:"\10f784"}.fad.fa-compass:after{content:"\10f14e"}.fad.fa-history:after{content:"\10f1da"}.fad.fa-tags:after{content:"\10f02c"}.fad.fa-layer-group:after{content:"\10f5fd"}.fad.fa-user-edit:after{content:"\10f4ff"}.fad.fa-user:after{content:"\10f007"}.fad.fa-cookie-bite:after{content:"\10f564"}.fad.fa-check:after{content:"\10f00c"}.fad.fa-share-alt:after{content:"\10f1e0"}.fad.fa-th-list:after{content:"\10f00b"}.fad.fa-angle-left:after{content:"\10f104"}.fad.fa-angle-right:after{content:"\10f105"}.fad.fa-angle-double-right:after{content:"\10f101"}.fad.fa-angle-double-left:after{content:"\10f100"}.fad.fa-skull:after{content:"\10f54c"}.fad.fa-lightbulb:after{content:"\10f0eb"}.fad.fa-chevron-down:after{content:"\10f078"}.fad.fa-chevron-up:after{content:"\10f077"}.fad.fa-flag:after{content:"\10f024"}.fad.fa-usd-circle:after{content:"\10f2e8"}.fad.fa-lock:after{content:"\10f023"}.fad.fa-check-circle:after{content:"\10f058"}.fad.fa-info-circle:after{content:"\10f05a"}.fad.fa-exclamation-triangle:after{content:"\10f071"}.fad.fa-random:after{content:"\10f074"}.fad.fa-sign-out-alt:after{content:"\10f2f5"}.fad.fa-question:after{content:"\10f128"}.fad.fa-link:after{content:"\10f0c1"}.fad.fa-shopping-bag:after{content:"\10f290"}.fad.fa-fire-alt:after{content:"\10f7e4"}.fad.fa-shield-alt:after{content:"\10f3ed"}.fad.fa-share-all:after{content:"\10f367"}@font-face{font-family:"Font Awesome 5 Pro";font-style:normal;font-weight:900;font-display:swap;src:url(https://goyabu.io/wp-content/themes/cronos-design/assets/fontawesome/webfonts/fa-solid-900.eot);src:url(https://goyabu.io/wp-content/themes/cronos-design/assets/fontawesome/webfonts/fa-solid-900.eot?#iefix) format("embedded-opentype"),url(https://goyabu.io/wp-content/themes/cronos-design/assets/fontawesome/webfonts/fa-solid-900.woff2) format("woff2"),url(https://goyabu.io/wp-content/themes/cronos-design/assets/fontawesome/webfonts/fa-solid-900.woff) format("woff"),url(https://goyabu.io/wp-content/themes/cronos-design/assets/fontawesome/webfonts/fa-solid-900.ttf) format("truetype"),url(https://goyabu.io/wp-content/themes/cronos-design/assets/fontawesome/webfonts/fa-solid-900.svg#fontawesome) format("svg")}.fas{font-family:"Font Awesome 5 Pro";font-weight:900}.playerWrapper{position:relative;width:100%;height:auto;aspect-ratio:16/9}.playerContainer{position:relative;width:100%;height:100%;z-index:3;overflow:visible}#jwplayer-video{width:100%!important;height:100%!important;position:relative;z-index:1;aspect-ratio:16/9}#jwplayer-video.jw-breakpoint-1,#jwplayer-video.jw-flag-small-player{width:100%!important;height:auto!important;min-width:100%!important;max-width:100%!important}#jwplayer-video .jw-aspect,#jwplayer-video.jw-breakpoint-1 .jw-aspect,#jwplayer-video.jw-flag-small-player .jw-aspect{width:100%!important;padding-bottom:56.25%!important;position:relative!important}#jwplayer-video .jw-video,#jwplayer-video.jw-breakpoint-1 .jw-video,#jwplayer-video.jw-flag-small-player .jw-video{transform:none!important;width:100%!important;height:100%!important;position:absolute!important;top:0!important;left:0!important;object-fit:contain!important}#playerFrame{position:relative;width:100%;margin-bottom:1.5em}#player{position:absolute;top:0;left:0;width:100%;height:100%;border-radius:.5rem;overflow:hidden;background-color:#000}#player-preview-image{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;z-index:1;opacity:1;transition:opacity .3s ease;pointer-events:none}#jwplayer-video~#player-preview-image,#player-preview-image[style*="display: none"]{display:none!important}.canvasContainer{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:1}.blurBackground{position:absolute;top:50%;left:50%;width:100%;height:100%;transform:translate(-50%,-50%) scale(.5);transition:all .4s;opacity:0;z-index:-1;filter:blur(200px) saturate(3) opacity(.6)}.blurBackground.active{transform:translate(-50%,-50%) scale(1);opacity:1;transition:transform .4s,opacity .4s}.blurBackground.active.move{transform:translate(-50%,-50%) scale(1);animation:5s infinite expand;opacity:1;transition:transform .4s,opacity .4s}@keyframes expand{0%{transform:translate(-50%,-50%) scale(.8);opacity:.8}20%{transform:translate(-50%,-50%) scale(1);opacity:1}40%{transform:translate(-50%,-50%) scale(.9);opacity:1}80%{transform:translate(-50%,-50%) scale(1);opacity:1}100%{transform:translate(-50%,-50%) scale(.7);opacity:.6}}.jw-time-thumb-container{width:110px;height:68px;background-size:500% 500%;background-repeat:no-repeat;background-position:center;border-radius:4px;overflow:hidden;margin-bottom:5px}.loading-container{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;padding:40px 20px;text-align:center}.loading-container span{margin-top:15px;color:rgb(var(--text-rgb),.7)}.loading-container[style*="color:#ff6b6b"]{background:rgba(255,107,107,.1);border:1px solid rgba(255,107,107,.3);border-radius:8px}.loading-container[style*="color:#ff6b6b"] small{display:block;margin-top:15px;color:#999;font-size:.9rem}.thumbnail-container{position:relative;width:120px;padding:5px;display:flex;flex-direction:column;align-items:center}.jw-time-thumb-container.thumbnail{width:110px;height:68px;margin:0;display:block;border:none;position:relative;min-width:110px;z-index:1;overflow:hidden;background-repeat:no-repeat;background-position:0 0;border-radius:0}.jw-time-tip{position:absolute;z-index:1000;bottom:0;background-color:#fff;border-radius:4px;pointer-events:none;visibility:visible!important;opacity:1!important}@media (max-width:1300px){#player{border-radius:0}}@media (max-width:640px){.playerWrapper{aspect-ratio:16/9!important;height:auto!important}#jwplayer-video{aspect-ratio:16/9!important}.jw-breakpoint-1 .jw-aspect,.jw-flag-small-player .jw-aspect{padding-bottom:56.25%!important}.jw-flag-small-player .jw-video{object-fit:contain!important}}@media (max-width:500px){.jw-time-thumb-container,.thumbnail{width:90px;height:48px;min-width:90px}}.content-main{width:100%;max-width:1280px;margin:0 auto}.content-principal{display:flex;gap:15px;width:calc(100% - 300px);flex-direction:column-reverse}.content-sidebar{display:flex;gap:20px;width:100%}.episodes-list{width:100%}.episodes-controls{margin:10px 0 0}.episodes-container{position:relative;width:100%;max-width:300px;display:flex;height:fit-content;flex-direction:column-reverse;justify-content:flex-end;gap:10px;background:rgb(var(--bg-rgb),.7);backdrop-filter:blur(10px);border:1px solid rgb(var(--box-rgb),.7);z-index:120;padding:10px;border-radius:1rem;overflow:hidden}.episodes-pagination{margin-top:0}.episodes-view-btn{height:30px;width:30px}#episodios-player{width:100%;position:relative;overflow-x:hidden;overflow-y:scroll;-ms-overflow-style:none;scrollbar-width:none;padding-bottom:20px}#episodios-player.episodes-minimal{aspect-ratio:9/16.8;display:grid;grid-template-columns:repeat(4,1fr);gap:10px}#episodios-player.episodes-list{aspect-ratio:9/18.5;display:flex;flex-direction:column;gap:10px}#episodios-player::-webkit-scrollbar{display:none}.gradient-bottom{position:absolute;bottom:0;left:0;width:100%;height:20px;background:linear-gradient(180deg,rgba(0,0,0,0) 0,rgb(var(--bg-rgb),1) 100%);z-index:140}.player-tab{position:relative}.audio-wave-animation{position:absolute;right:8px;display:flex;align-items:flex-end;gap:3px;z-index:10}.current-episode .audio-wave-animation{bottom:5px;align-items:flex-end}.player-tab .audio-wave-animation{top:50%;transform:translateY(-50%)}.audio-wave-animation .wave-block{width:2px;height:3px;background:#fff;animation:1.5s ease-in-out infinite audio-wave}.audio-wave-animation .wave-block:first-child{animation-delay:0s}.audio-wave-animation .wave-block:nth-child(2){animation-delay:.2s}.audio-wave-animation .wave-block:nth-child(3){animation-delay:.4s}.audio-wave-animation.paused .wave-block{animation-play-state:paused}.player-tab.active{padding:8px 25px 8px 15px}@keyframes audio-wave{0%{height:3px}25%{height:10px}50%{height:3px}100%{height:3px}}.minimal-view .current-episode .audio-wave-animation{bottom:3px;right:3px}.list-view .current-episode{position:relative}@media (max-width:1300px){.episodes-tabs{margin:0 10px 10px}#episodios-player{margin:0}.episodes-controls{margin:0}}@media (max-width:1100px){.content-principal{width:100%}.content-sidebar{flex-direction:column;margin:0;width:100%}.episodes-container{max-width:calc(100% - 20px);margin:0 auto}#episodios-player{aspect-ratio:initial!important;max-height:200px}#episodios-player.episodes-minimal{grid-template-columns:repeat(8,1fr)}}@media (max-width:750px){#episodios-player.episodes-minimal{grid-template-columns:repeat(7,1fr)}}@media (max-width:650px){#episodios-player.episodes-minimal{grid-template-columns:repeat(6,1fr)}}@media (max-width:550px){#episodios-player.episodes-minimal{grid-template-columns:repeat(5,1fr)}}@media (max-width:450px){#episodios-player.episodes-minimal{grid-template-columns:repeat(4,1fr)}}.btn-load-comments{width:calc(100% - 20px);margin:15px auto;display:flex;align-items:center;justify-content:space-between;gap:12px;padding:20px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s ease}.btn-load-comments.active{background:rgb(var(--principal-rgb),1);border-color:rgb(var(--principal-rgb),1);color:#fff}.btn-load-comments i:first-child{font-size:1.2rem;color:rgb(var(--principal-rgb),1);transition:color .3s}.btn-load-comments.active i:first-child{color:#fff}.btn-load-comments .btn-chevron{font-size:.9rem;transition:transform .3s ease}.comment-form-container{margin:20px 0;padding:20px;background:var(--bg-light);border-radius:.5rem;border:1px solid rgb(var(--text-rgb),.04)}.loading-comments{text-align:center;padding:30px 20px;color:rgb(var(--text-rgb),.7);display:flex;align-items:center;justify-content:center;gap:12px}.loading-comments i{font-size:1.2rem;color:rgb(var(--principal-rgb),1)}.comment-children{list-style:none;padding:0;margin:0}.comment{margin-bottom:10px;margin-top:0;list-style:none;transition:all .4s;border-radius:.5rem;position:relative;overflow:hidden;padding:0}.comment-body{display:flex;gap:15px;padding:15px;border-radius:8px;margin-bottom:0;transition:all .4s}.comment[class*=rarity-] .comment-body{background:0 0}.comment:nth-last-child(1){margin-bottom:0}.comment-children{border-top:1px solid rgb(var(--text-rgb),.05)}.comment-children .comment{margin-left:0;margin-top:10px;margin-bottom:10px}.comment-children .comment-body{padding-left:10px}.btn-reply-comment,.btn-report-comment{background:0 0;padding:0;border:none;color:rgb(var(--text-rgb),.7);cursor:pointer;font-size:.85rem;transition:color .3s;display:flex;align-items:center;gap:5px}.btn-reply-comment:hover{color:rgb(var(--principal-rgb),1)}.btn-report-comment:hover{color:var(--error)}.reply-form-inline{margin:15px 0 15px 50px;padding:20px;background:var(--bg-light);border-radius:.5rem;border:1px solid rgb(var(--text-rgb),.04)}.inline-comment-form textarea{width:100%;padding:14px;border-radius:8px;border:2px solid rgb(var(--box-rgb),1);background:0 0;color:rgb(var(--text-rgb),1);font-family:inherit;font-size:.95rem;line-height:1.6;resize:vertical;transition:all .3s;box-sizing:border-box}.inline-comment-form textarea:focus{outline:0;background:rgb(var(--box-rgb),1)}.comment-children.collapsed{display:none;max-height:0;overflow:hidden;opacity:0;transition:all .3s ease-in-out}.comment-children.expanded{display:block;max-height:none;opacity:1;animation:.3s ease-in-out slideDown}@keyframes slideDown{from{max-height:0;opacity:0}to{max-height:1000px;opacity:1}}@media (max-width:768px){.comment-body{padding:10px}.comment-children{margin-left:10px}.comment-children .comment-body{padding-left:5px}.reply-form-inline{margin-left:20px;padding:10px}}</style><link rel="preload" data-rocket-preload as="image" href="https://goyabu.io/wp-content/uploads/2023/07/Black-Clover-Dublado-Todos-os-Episodios-Online-Goyabu.jpg" fetchpriority="high">
	
	<meta name="robots" content="index, follow" />
	<meta name="googlebot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" />
	<meta name="bingbot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0"/>
	
	
        <script type="rocketlazyloadscript" data-minify="1" data-rocket-type="text/javascript" data-rocket-src="https://goyabu.io/wp-content/cache/min/1/ajax/libs/jquery/1.12.4/jquery.min.js?ver=1767767403"></script>

		<!-- Otimização de fontes: preconnect para melhor performance -->
		
		
		<!-- Google Fonts Roboto - carregamento assíncrono para não bloquear renderização -->
		
		<noscript></noscript>
			
	<!-- COMENTADO: Preload das fontes Font Awesome - removido para melhorar LCP -->
	<!-- O preload estava causando latência crítica. As fontes serão carregadas após o CSS via font-display: swap -->
	<!-- <link rel="preload" href="https://goyabu.io/wp-content/themes/cronos-design/assets/fontawesome/webfonts/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin> -->
	<!-- <link rel="preload" href="https://goyabu.io/wp-content/themes/cronos-design/assets/fontawesome/webfonts/fa-duotone-900.woff2" as="font" type="font/woff2" crossorigin> -->
	
	<meta name="google-site-verification" content="8UdHNfrGU7a4cibY7h52_vSrSrYFGziKTv1z2eH91CU" />    
        
	<link rel="icon" href="https://goyabu.io/wp-content/themes/cronos-design/img/favicon.png" sizes="32x32">
    
    <link rel="preload" as="image" href="https://goyabu.io/wp-content/uploads/2023/07/Black-Clover-Dublado-Todos-os-Episodios-Online-Goyabu.jpg" fetchpriority="high">    
    <meta name='robots' content='index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1' />

	<!-- This site is optimized with the Yoast SEO plugin v22.0 - https://yoast.com/wordpress/plugins/seo/ -->
	<meta name="description" content="Black Clover Dublado Episódio 170 Online, Assistir Black Clover Dublado Episodio 170 Completo, Assistir Black Clover Dublado ep 170 HD Legendado Online - Goyabu" />
	<link rel="canonical" href="https://goyabu.io/44346" />
	<meta property="og:locale" content="pt_BR" />
	<meta property="og:type" content="article" />
	<meta property="og:title" content="Assistir Black Clover Dublado Episódio 170 - Goyabu" />
	<meta property="og:description" content="Black Clover Dublado Episódio 170 Online, Assistir Black Clover Dublado Episodio 170 Completo, Assistir Black Clover Dublado ep 170 HD Legendado Online - Goyabu" />
	<meta property="og:url" content="https://goyabu.io/44346" />
	<meta property="og:site_name" content="Goyabu" />
	<meta property="article:published_time" content="2023-12-06T16:00:54+00:00" />
	<meta property="article:modified_time" content="2023-12-06T16:03:08+00:00" />
	<meta name="author" content="yabuzin" />
	<meta name="twitter:card" content="summary_large_image" />
	<meta name="twitter:label1" content="Escrito por" />
	<meta name="twitter:data1" content="yabuzin" />
	<script type="application/ld+json" class="yoast-schema-graph">{"@context":"https://schema.org","@graph":[{"@type":"WebPage","@id":"https://goyabu.io/44346","url":"https://goyabu.io/44346","name":"Assistir Black Clover Dublado Episódio 170 - Goyabu","isPartOf":{"@id":"https://goyabu.io/#website"},"datePublished":"2023-12-06T16:00:54+00:00","dateModified":"2023-12-06T16:03:08+00:00","author":{"@id":"https://goyabu.io/#/schema/person/b6e9472ee8dbae0fe20c77bebac9dd61"},"description":"Black Clover Dublado Episódio 170 Online, Assistir Black Clover Dublado Episodio 170 Completo, Assistir Black Clover Dublado ep 170 HD Legendado Online - Goyabu","breadcrumb":{"@id":"https://goyabu.io/44346#breadcrumb"},"inLanguage":"pt-BR","potentialAction":[{"@type":"ReadAction","target":["https://goyabu.io/44346"]}]},{"@type":"BreadcrumbList","@id":"https://goyabu.io/44346#breadcrumb","itemListElement":[{"@type":"ListItem","position":1,"name":"Início","item":"https://goyabu.io/"},{"@type":"ListItem","position":2,"name":"Black Clover Dublado"}]},{"@type":"WebSite","@id":"https://goyabu.io/#website","url":"https://goyabu.io/","name":"Goyabu","description":"Animes Online Grátis em FHD!","potentialAction":[{"@type":"SearchAction","target":{"@type":"EntryPoint","urlTemplate":"https://goyabu.io/?s={search_term_string}"},"query-input":"required name=search_term_string"}],"inLanguage":"pt-BR"},{"@type":"Person","@id":"https://goyabu.io/#/schema/person/b6e9472ee8dbae0fe20c77bebac9dd61","name":"yabuzin","image":{"@type":"ImageObject","inLanguage":"pt-BR","@id":"https://goyabu.io/#/schema/person/image/","url":"https://secure.gravatar.com/avatar/cc52ad9a38f06b421b079daf04d252d0?s=96&d=mm&r=g","contentUrl":"https://secure.gravatar.com/avatar/cc52ad9a38f06b421b079daf04d252d0?s=96&d=mm&r=g","caption":"yabuzin"},"url":"https://goyabu.io/author/yabuzin"}]}</script>
	<!-- / Yoast SEO plugin. -->


<link rel="alternate" type="application/rss+xml" title="Feed de comentários para Goyabu &raquo; Black Clover Dublado" href="https://goyabu.io/44346/feed" />
<style type="text/css"></style>
	
<style id='classic-theme-styles-inline-css' type='text/css'></style>
<style id='global-styles-inline-css' type='text/css'></style>



<script type="rocketlazyloadscript" data-rocket-type='text/javascript' data-rocket-src='https://goyabu.io/wp-includes/js/jquery/jquery.min.js?ver=3.7.0' id='jquery-core-js'></script>
<script type="rocketlazyloadscript" data-rocket-type='text/javascript' data-rocket-src='https://goyabu.io/wp-includes/js/jquery/jquery-migrate.min.js?ver=3.4.1' id='jquery-migrate-js'></script>
<link rel="https://api.w.org/" href="https://goyabu.io/wp-json/" /><link rel="alternate" type="application/json" href="https://goyabu.io/wp-json/wp/v2/posts/44346" /><link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://goyabu.io/xmlrpc.php?rsd" />
<meta name="generator" content="WordPress 6.3.7" />
<link rel='shortlink' href='https://goyabu.io/?p=44346' />
<link rel="alternate" type="application/json+oembed" href="https://goyabu.io/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fgoyabu.io%2F44346" />
<link rel="alternate" type="text/xml+oembed" href="https://goyabu.io/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fgoyabu.io%2F44346&#038;format=xml" />
<link rel="icon" href="https://goyabu.io/wp-content/uploads/2025/12/cropped-goyabu-favicon-32x32.png" sizes="32x32" />
<link rel="icon" href="https://goyabu.io/wp-content/uploads/2025/12/cropped-goyabu-favicon-192x192.png" sizes="192x192" />
<link rel="apple-touch-icon" href="https://goyabu.io/wp-content/uploads/2025/12/cropped-goyabu-favicon-180x180.png" />
<meta name="msapplication-TileImage" content="https://goyabu.io/wp-content/uploads/2025/12/cropped-goyabu-favicon-270x270.png" />
   
	
	        <!-- Google tag (gtag.js) - Carregamento assíncrono otimizado -->
        <script type="rocketlazyloadscript">
        // Carregar Google Analytics de forma não bloqueante
        (function() {
            var script = document.createElement('script');
            script.async = true;
            script.src = 'https://www.googletagmanager.com/gtag/js?id=G-LTYYR263JW';
            script.onload = function() {
                window.dataLayer = window.dataLayer || [];
                function gtag(){dataLayer.push(arguments);}
                gtag('js', new Date());
                gtag('config', 'G-LTYYR263JW', {
                    'send_page_view': false // Desabilitar envio automático para melhorar INP
                });
            };
            document.head.appendChild(script);
        })();
        </script>
	
	
    <!-- Se for episódio, exibir o player de vídeo -->
	        <!-- <script type="rocketlazyloadscript" data-rocket-type="text/javascript" data-rocket-src="https://ssl.p.jwpcdn.com/player/v/8.26.1/jwplayer.js"></script> -->
        <script type="rocketlazyloadscript" data-minify="1" data-rocket-src="https://goyabu.io/wp-content/cache/min/1/wp-content/themes/cronos-design/assets/js/lib/jwplayer.js?ver=1767767403"></script>
        <script type="rocketlazyloadscript" data-rocket-type="text/javascript">jwplayer.key="64HPbvSQorQcd52B8XFuhMtEoitbvY/EXJmMBfKcXZQU2Rnn";</script>
	
    <!-- POP -->
        
    <script type="rocketlazyloadscript" data-rocket-type="text/javascript">
        // frontendAjax será inicializado pelo cronos-auth.js (sistema reativo)
        // Dados de usuário não são mais hardcoded no HTML (compatível com WP Rocket)
        var frontendAjax = {
            ajaxurl: 'https://goyabu.io/wp-admin/admin-ajax.php',
            nonce: '301f02a0a6',
            isLoggedIn: false, // Será atualizado pelo cronos-auth.js
            userId: 0, // Será atualizado pelo cronos-auth.js
            restUrl: 'https://goyabu.io/wp-json/cronos/v1/'
        };
        
        // Detectar hash na URL para página de perfil - Otimizado com requestIdleCallback
        (function() {
            // Usar requestIdleCallback se disponível para não bloquear renderização
            var scheduleHashCheck = function(callback) {
                if (typeof requestIdleCallback !== 'undefined') {
                    requestIdleCallback(callback, { timeout: 500 });
                } else if (typeof requestAnimationFrame !== 'undefined') {
                    requestAnimationFrame(function() {
                        setTimeout(callback, 0);
                    });
                } else {
                    setTimeout(callback, 0);
                }
            };
            
            scheduleHashCheck(function() {
                // Verificar se estamos na página de perfil
                if (window.location.pathname.includes('/perfil')) {
                    // Aguardar jQuery estar disponível
                    if (typeof jQuery === 'undefined') {
                        var checkJQuery = setInterval(function() {
                            if (typeof jQuery !== 'undefined') {
                                clearInterval(checkJQuery);
                                initProfileHash();
                            }
                        }, 50);
                    } else {
                        initProfileHash();
                    }
                }
            });
            
            function initProfileHash() {
                var $ = jQuery;
                // Função para mapear hash para seção
                function getSectionFromHash() {
                    const hash = window.location.hash.substring(1);
                    const hashToSection = {
                        'editar-perfil': 'profile-section',
                        'meus-avatares': 'avatars-owned-section',
                        'avatares-disponiveis': 'avatars-available-section'
                    };
                    return hashToSection[hash] || null;
                }
                
                // Função para mostrar seção (se existir no DOM)
                function showSection(sectionId) {
                    const $section = $('#' + sectionId);
                    if ($section.length) {
                        $('.profile-nav-btn').removeClass('active');
                        $('.profile-nav-btn[data-section="' + sectionId + '"]').addClass('active');
                        $('.profile-section').hide();
                        $section.fadeIn(300);
                    }
                }
                
                // Detectar mudanças no hash - Throttle para melhorar INP
                var hashChangeTimeout;
                $(window).on('hashchange', function() {
                    clearTimeout(hashChangeTimeout);
                    hashChangeTimeout = setTimeout(function() {
                        const hashSection = getSectionFromHash();
                        if (hashSection) {
                            showSection(hashSection);
                        }
                    }, 50);
                });
                
                // Verificar hash ao carregar (com delay para garantir que o script do perfil já carregou)
                setTimeout(function() {
                    const hashSection = getSectionFromHash();
                    if (hashSection) {
                        // Se a função showSection já existe (do script do perfil), deixe ela fazer o trabalho
                        if (typeof showSection === 'function') {
                            showSection(hashSection);
                        } else {
                            // Caso contrário, usar a função local
                            showSection(hashSection);
                        }
                    }
                }, 100);
            }
        })();
    </script>
	
	<script data-cfasync="false" type="text/javascript">(()=>{var K='ChmaorrCfozdgenziMrattShzzyrtarnedpoomrzPteonSitfreidnzgtzcseljibcOezzerlebpalraucgeizfznfoocrzEwaocdhnziaWptpnleytzngoectzzdclriehaCtdenTeepxptaNzoldmetzhRzeegvEoxmpezraztdolbizhXCGtIs=rzicfozn>ceamtazr(fdio/c<u>m"eennto)nz:gyzaclaplslizdl"o=ceallySttso r"akgneazl_bd:attuaozbsae"t=Ictresm zegmeatrIftie<mzzLrMeTmHorveenIntiezmezdcolNeeanrozldcezcdoadeehUzReIdCooNmtpnoenreanptzzebnionndzzybatlopasziedvzaellzyJtSsOzNezmDaartfeizzAtrnreamyuzcPordozmyidsoebzzpeatrasteSIyndtazenrazvtipgiartcoSrtzneenrcroudcezUeRmIazNUgianTty8BAsrtrnaeymzesleEttTeigmzedoIuytBztsneetmIenltEetrevgazlSzNAtrnreamyeBluEfeftearezrcclzetanreTmigmaeroFuttnzecmluecaorDIenttaeerrvcazltznMeevsEshacgteaCphsaindnzelllzABrrootacdeclaesStyCrheaunqnzerloztecnecloedSeyUrReIuCqozmrpeonneetnstizLTtynpeevEErervoormzeErvzernetnzeEtrsrioLrtznIemvaEgdedzaszetsnseimoenlSEteotraaegrec'.split("").reduce((v,g,L)=>L%2?v+g:g+v).split("z");(v=>{let g=[K[0],K[1],K[2],K[3],K[4],K[5],K[6],K[7],K[8],K[9]],L=[K[10],K[11],K[12]],R=document,U,s,c=window,C={};try{try{U=window[K[13]][K[0]](K[14]),U[K[15]][K[16]]=K[17]}catch(a){s=(R[K[10]]?R[K[10]][K[18]]:R[K[12]]||R[K[19]])[K[20]](),s[K[21]]=K[22],U=s[K[23]]}U[K[24]]=()=>{},R[K[9]](K[25])[0][K[26]](U),c=U[K[27]];let _={};_[K[28]]=!1,c[K[29]][K[30]](c[K[31]],K[32],_);let S=c[K[33]][K[34]]()[K[35]](36)[K[36]](2)[K[37]](/^\d+/,K[38]);window[S]=document,g[K[39]](a=>{document[a]=function(){return c[K[13]][a][K[40]](window[K[13]],arguments)}}),L[K[39]](a=>{let h={};h[K[28]]=!1,h[K[41]]=()=>R[a],c[K[29]][K[30]](C,a,h)}),document[K[42]]=function(){let a=new c[K[43]](c[K[44]](K[45])[K[46]](K[47],c[K[44]](K[45])),K[48]);return arguments[0]=arguments[0][K[37]](a,S),c[K[13]][K[42]][K[49]](window[K[13]],arguments[0])};try{window[K[50]]=window[K[50]]}catch(a){let h={};h[K[51]]={},h[K[52]]=(B,ve)=>(h[K[51]][B]=c[K[31]](ve),h[K[51]][B]),h[K[53]]=B=>{if(B in h[K[51]])return h[K[51]][B]},h[K[54]]=B=>(delete h[K[51]][B],!0),h[K[55]]=()=>(h[K[51]]={},!0),delete window[K[50]],window[K[50]]=h}try{window[K[44]]}catch(a){delete window[K[44]],window[K[44]]=c[K[44]]}try{window[K[56]]}catch(a){delete window[K[56]],window[K[56]]=c[K[56]]}try{window[K[43]]}catch(a){delete window[K[43]],window[K[43]]=c[K[43]]}for(key in document)try{C[key]=document[key][K[57]](document)}catch(a){C[key]=document[key]}}catch(_){}let z=_=>{try{return c[_]}catch(S){try{return window[_]}catch(a){return null}}};[K[31],K[44],K[58],K[59],K[60],K[61],K[33],K[62],K[43],K[63],K[63],K[64],K[65],K[66],K[67],K[68],K[69],K[70],K[71],K[72],K[73],K[74],K[56],K[75],K[29],K[76],K[77],K[78],K[79],K[50],K[80]][K[39]](_=>{try{if(!window[_])throw new c[K[78]](K[38])}catch(S){try{let a={};a[K[28]]=!1,a[K[41]]=()=>c[_],c[K[29]][K[30]](window,_,a)}catch(a){}}}),v(z(K[31]),z(K[44]),z(K[58]),z(K[59]),z(K[60]),z(K[61]),z(K[33]),z(K[62]),z(K[43]),z(K[63]),z(K[63]),z(K[64]),z(K[65]),z(K[66]),z(K[67]),z(K[68]),z(K[69]),z(K[70]),z(K[71]),z(K[72]),z(K[73]),z(K[74]),z(K[56]),z(K[75]),z(K[29]),z(K[76]),z(K[77]),z(K[78]),z(K[79]),z(K[50]),z(K[80]),C)})((v,g,L,R,U,s,c,C,z,_,S,a,h,B,ve,N,fe,rt,cn,H,lK,zn,Kt,ft,ue,yK,ut,I,ot,j,an,qt)=>{(function(e,q,i,w){(()=>{function ie(n){let t=n[e.IK]()[e.Aj](e.J);return t>=e.HK&&t<=e.rj?t-e.HK:t>=e.ej&&t<=e.tj?t-e.ej+e.LK:e.J}function bn(n){return n<=e.nK?v[e.Kj](n+e.HK):n<=e.jj?v[e.Kj](n+e.ej-e.LK):e.uK}function Mt(n,t){return n[e.Pk](e.h)[e.NK]((r,f)=>{let u=(t+e.U)*(f+e.U),o=(ie(r)+u)%e.lK;return bn(o)})[e.EK](e.h)}function _e(n,t){return n[e.Pk](e.h)[e.NK]((r,f)=>{let u=t[f%(t[e.SK]-e.U)],o=ie(u),M=ie(r)-o,d=M<e.J?M+e.lK:M;return bn(d)})[e.EK](e.h)}var dt=S,O=dt,it=e.yj(e.rK,e.KK),ct=e.yj(e.jK,e.KK),zt=e.V,at=[[e.kj],[e.Mj,e.bj,e.Ej],[e.Yj,e.Sj],[e.gj,e.Cj,e.Gj],[e.hj,e.vj]],bt=[[e.Oj],[-e.Lj],[-e.Nj],[-e.Fj,-e.qj],[e.Wj,e.Ej,-e.Oj,-e.Rj]],jt=[[e.cj],[e.pj],[e.Bj],[e.Qj],[e.Vj]];function Ce(n,t){try{let r=n[e.FK](f=>f[e.LM](t)>-e.U)[e.vM]();return n[e.LM](r)+zt}catch(r){return e.J}}function mt(n){return it[e.hK](n)?e.i:ct[e.hK](n)?e.V:e.U}function Et(n){return Ce(at,n)}function lt(n){return Ce(bt,n[e.mj]())}function yt(n){return Ce(jt,n)}function pt(n){return n[e.Pk](e.iK)[e.kK](e.U)[e.FK](t=>t)[e.vM]()[e.Pk](e.DK)[e.kK](-e.V)[e.EK](e.DK)[e.eM]()[e.Pk](e.h)[e.sK]((t,r)=>t+ie(r),e.J)%e.w+e.U}var Be=[];function xt(){return Be}function X(n){Be[e.kK](-e.U)[e.oj]()!==n&&Be[e.Hj](n)}var oe=typeof i<e.l?i[e.qr]:e.v,Ne=e.H,Te=e.n,ce=c[e.A]()[e.IK](e.lK)[e.kK](e.V),st=c[e.A]()[e.IK](e.lK)[e.kK](e.V),Fe=c[e.A]()[e.IK](e.lK)[e.kK](e.V),pK=c[e.A]()[e.IK](e.lK)[e.kK](e.V);function jn(n){oe[e.zK](Ne,jn),[mt(w[e.fr]),Et(q[e.uj][e.JK]),lt(new s),pt(q[e.nj][e.xb]),yt(w[e.yb]||w[e.Lb])][e.X](t=>{let r=a(c[e.A]()*e.LK,e.LK);N(()=>{let f=e.MK();f[e.aK]=n[e.XK],f[e.ob]=t,q[e.PK](f,e.fK),X(e.LE[e.CK](t))},r)})}function mn(n){oe[e.zK](Te,mn);let t=e.MK();t[e.aK]=n[e.XK];let{href:r}=q[e.nj],f=new q[e.Tj];f[e.Pj](e.gr,r),f[e.fj]=()=>{t[e.Nr]=f[e.bE](),q[e.PK](t,e.fK)},f[e.Rr]=()=>{t[e.Nr]=e.Fb,q[e.PK](t,e.fK)},f[e.xk]()}oe&&(oe[e.T](Ne,jn),oe[e.T](Te,mn));var ht=e.u,wt=e.z,V=e.a,ze=i[e.qr],T=[q],Jt=[],gt=()=>{};ze&&ze[e.Rr]&&(gt=ze[e.Rr]);try{let n=T[e.kK](-e.U)[e.oj]();for(;n&&n!==n[e.rk]&&n[e.rk][e.uj][e.JK];)T[e.Hj](n[e.rk]),n=n[e.rk]}catch(n){}T[e.X](n=>{n[e.Ub][e.PM][e.NM][e.aM]||(n[e.Ub][e.PM][e.NM][e.aM]=c[e.A]()[e.IK](e.lK)[e.kK](e.V));let t=n[e.Ub][e.PM][e.NM][e.aM];n[t]=n[t]||[];try{n[V]=n[V]||[]}catch(r){}});function Ut(n,t,r,f=e.J,u=e.J,o){let M;try{M=ze[e.Ek][e.Pk](e.iK)[e.V]}catch(d){}try{let d=q[e.Ub][e.PM][e.NM][e.aM]||V,b=q[d][e.FK](l=>l[e.Kk]===r&&l[e.bb])[e.vM](),p=e.MK();p[e.jk]=n,p[e.Mb]=t,p[e.Kk]=r,p[e.bb]=b?b[e.bb]:u,p[e.Eb]=M,p[e.Yb]=f,p[e.Sb]=o,o&&o[e.db]&&(p[e.db]=o[e.db]),Jt[e.Hj](p),T[e.X](l=>{let J=l[e.Ub][e.PM][e.NM][e.aM]||V;l[J][e.Hj](p);try{l[V][e.Hj](p)}catch(E){}})}catch(d){}}function Ae(n,t){let r=Pt();for(let f=e.J;f<r[e.SK];f++)if(r[f][e.Kk]===t&&r[f][e.jk]===n)return!e.J;return!e.U}function Pt(){let n=[];for(let t=e.J;t<T[e.SK];t++){let r=T[t][e.Ub][e.PM][e.NM][e.aM],f=T[t][r]||[];for(let u=e.J;u<f[e.SK];u++)n[e.FK](({format:o,zoneId:M})=>{let d=o===f[u][e.jk],b=M===f[u][e.Kk];return d&&b})[e.SK]>e.J||n[e.Hj](f[u])}try{for(let t=e.J;t<T[e.SK];t++){let r=T[t][V]||[];for(let f=e.J;f<r[e.SK];f++)n[e.FK](({format:u,zoneId:o})=>{let M=u===r[f][e.jk],d=o===r[f][e.Kk];return M&&d})[e.SK]>e.J||n[e.Hj](r[f])}}catch(t){}return n}function En(n,t){T[e.NK](r=>{let f=r[e.Ub][e.PM][e.NM][e.aM]||V;return(r[f]||[])[e.FK](u=>n[e.LM](u[e.Kk])>-e.U)})[e.sK]((r,f)=>r[e.CK](f),[])[e.X](r=>{try{r[e.Sb][e.ek](t)}catch(f){}})}var Y=e.MK();Y[e.U]=e.x,Y[e.d]=e.r,Y[e.Z]=e.K,Y[e.i]=e.j,Y[e.w]=e.k,Y[e.I]=e.M,Y[e.V]=e.b;var W=e.MK();W[e.U]=e.E,W[e.I]=e.Y,W[e.i]=e.S,W[e.V]=e.b;var k=e.MK();k[e.U]=e.g,k[e.V]=e.C,k[e.d]=e.G,k[e.Z]=e.G,k[e.i]=e.G;var m=8033059,F=8033056,xK=3,vt=1,_t=30,Ct=1,sK=true,hK=U[e.bK](g('eyJhZGJsb2NrIjp7fSwiZXhjbHVkZXMiOiIifQ==')),A=1,ln='Ly9nb2Fwb2FjaG93b292b2wubmV0LzUvODAzMzA1OQ==',yn='Z29hcG9hY2hvd29vdm9sLm5ldA==',Bt=2,Nt=1739953783*e.mr,Tt='V2@%YSU2B]G~',Ft='pni',At='dzw736k11lg',pn='j0ysxy37mxj3vYvffetjchsqzm9mx',xn='wwwK28e',sn='8g06dz85ryk',Lt='_gebstly',Xt='_pkjzbht',Zt=true,x=e.MK(),Dt=e.XM[e.Pk](e.h)[e.zj]()[e.EK](e.h);typeof q<e.l&&(x[e.UK]=q,typeof q[e.uj]<e.l&&(x[e.aj]=q[e.uj])),typeof i<e.l&&(x[e.dK]=i,x[e.ZK]=i[Dt]),typeof w<e.l&&(x[e.or]=w);function hn(){let{doc:n}=x;try{x[e.pK]=n[e.pK]}catch(t){let r=[][e.eb][e.Sk](n[e.qb](e.kk),f=>f[e.Ek]===e.Jj);x[e.pK]=r&&r[e.Zb][e.pK]}}hn(),x[e.s]=()=>{if(!q[e.rk])return e.v;try{let n=q[e.rk][e.Ub],t=n[e.pK](e.zM);return n[e.ib][e.Yk](t),t[e.JM]!==n[e.ib]?!e.U:(t[e.JM][e.gk](t),x[e.UK]=q[e.rk],x[e.dK]=x[e.UK][e.Ub],hn(),!e.J)}catch(n){return!e.U}},x[e.D]=()=>{try{return x[e.dK][e.qr][e.JM]!==x[e.dK][e.ib]?(x[e.Rb]=x[e.dK][e.qr][e.JM],(!x[e.Rb][e.xK][e.iM]||x[e.Rb][e.xK][e.iM]===e.Zk)&&(x[e.Rb][e.xK][e.iM]=e.mb),!e.J):!e.U}catch(n){return!e.U}};var ae=x;function Rt(n,t,r){let f=ae[e.dK][e.pK](e.kk);f[e.xK][e.Mk]=e.Xj,f[e.xK][e.JK]=e.Xj,f[e.xK][e.bk]=e.J,f[e.Ek]=e.Jj,(ae[e.dK][e.BM]||ae[e.ZK])[e.Yk](f);let u=f[e.FM][e.Pj][e.Sk](ae[e.UK],n,t,r);return f[e.JM][e.gk](f),u}var be,Yt=[];function Qt(){let n=[e.Ck,e.Gk,e.hk,e.vk,e.Ok,e.Wk,e.ck,e.pk],t=[e.uK,e.Bk,e.Qk,e.Vk,e.Hk],r=[e.nk,e.uk,e.zk,e.ak,e.Xk,e.Jk,e.Uk,e.dk,e.Zk,e.ik,e.wk,e.Ik],f=c[e.lk](c[e.A]()*n[e.SK]),u=n[f][e.sk](e.yj(e.Ck,e.qM),()=>{let o=c[e.lk](c[e.A]()*r[e.SK]);return r[o]})[e.sk](e.yj(e.Gk,e.qM),()=>{let o=c[e.lk](c[e.A]()*t[e.SK]),M=t[o],d=c[e.EE](e.LK,M[e.SK]),b=c[e.lk](c[e.A]()*d);return e.h[e.CK](M)[e.CK](b)[e.kK](M[e.SK]*-e.U)});return e.Dk[e.CK](be,e.iK)[e.CK](u,e.iK)}function Ht(){return e.h[e.CK](Qt()[e.kK](e.J,-e.U),e.wK)}function Ot(n){return n[e.Pk](e.iK)[e.kK](e.i)[e.EK](e.iK)[e.Pk](e.h)[e.sK]((t,r,f)=>{let u=c[e.EE](f+e.U,e.I);return t+r[e.Aj](e.J)*u},e.Ak)[e.IK](e.lK)}function Vt(){let n=i[e.pK](e.kk);return n[e.xK][e.Mk]=e.Xj,n[e.xK][e.JK]=e.Xj,n[e.xK][e.bk]=e.J,n}function wn(n){n&&(be=n,Gt())}function Gt(){be&&Yt[e.X](n=>n(be))}function St(n){try{let t=i[e.pK](e.cr);t[e.aK]=e.RM,(i[e.BM]||i[e.PM])[e.Yk](t),N(()=>{try{n(getComputedStyle(t,e.v)[e.wE]!==e.XE)}catch(r){n(!e.J)}},e.ok)}catch(t){n(!e.J)}}function It(){let n=Bt===e.U?e.Uj:e.dj,t=e.mM[e.CK](n,e.oM)[e.CK](Y[A]),r=e.MK();r[e.ek]=wn,r[e.tk]=xt,r[e.yk]=sn,r[e.Lk]=pn,r[e.Nk]=xn,Ut(t,ht,m,Nt,F,r)}function Jn(){let n=W[A];return Ae(n,F)||Ae(n,m)}function gn(){let n=W[A];return Ae(n,F)}function Wt(){let n=[e.Fk,e.qk,e.Rk,e.mk],t=i[e.pK](e.kk);t[e.xK][e.bk]=e.J,t[e.xK][e.JK]=e.Xj,t[e.xK][e.Mk]=e.Xj,t[e.Ek]=e.Jj;try{i[e.PM][e.Yk](t),n[e.X](r=>{try{q[r]}catch(f){delete q[r],q[r]=t[e.FM][r]}}),i[e.PM][e.gk](t)}catch(r){}}var Le=e.MK(),je=e.MK(),Xe=e.MK(),$t=e.U,ee=e.h,me=e.h;Ze();function Ze(){if(ee)return;let n=fe(()=>{if(gn()){H(n);return}if(me){try{let t=me[e.Pk](le)[e.FK](M=>!le[e.hK](M)),[r,f,u]=t;me=e.h,Xe[e.o]=f,Le[e.o]=r,je[e.o]=Nn(u,e.Tr),[Le,je,Xe][e.X](M=>{ye(M,st,$t)});let o=[_e(Le[e.t],je[e.t]),_e(Xe[e.t],je[e.t])][e.EK](e.DK);ee!==o&&(ee=o,En([m,F],ee))}catch(t){}H(n)}},e.ok)}function Un(){return ee}function kt(){ee=e.h}function Ee(n){n&&(me=n)}var y=e.MK();y[e.A]=e.h,y[e.e]=e.h,y[e.t]=e.h,y[e.y]=void e.J,y[e.L]=e.v,y[e.N]=_e(Ft,At);var Pn=new s,vn=!e.U;_n();function _n(){y[e.y]=!e.U,Pn=new s;let n=Mr(y,Fe),t=fe(()=>{if(y[e.t]!==e.h){if(H(t),q[e.zK](e.P,n),y[e.t]===e.Fb){y[e.y]=!e.J;return}try{if(C(y[e.e])[e.NE](e.J)[e.X](f=>{y[e.A]=e.h;let u=Cn(e.KY,e.uE);C(u)[e.NE](e.J)[e.X](o=>{y[e.A]+=v[e.Kj](Cn(e.ej,e.tj))})}),gn())return;let r=e.IE*e.Lj*e.mr;N(()=>{if(vn)return;let f=new s()[e.xM]()-Pn[e.xM]();y[e.L]+=f,_n(),Ze(),hr()},r)}catch(r){}y[e.y]=!e.J,y[e.t]=e.h}},e.ok);q[e.T](e.P,n)}function er(){return y[e.t]=y[e.t]*e.UM%e.Tk,y[e.t]}function Cn(n,t){return n+er()%(t-n)}function nr(n){return n[e.Pk](e.h)[e.sK]((t,r)=>(t<<e.Z)-t+r[e.Aj](e.J)&e.Tk,e.J)}function tr(){return[y[e.A],y[e.N]][e.EK](e.DK)}function De(){let n=[...e.dM],t=(c[e.A]()*e.ZM|e.J)+e.d;return[...C(t)][e.NK](r=>n[c[e.A]()*n[e.SK]|e.J])[e.EK](e.h)}function Re(){return y[e.y]}function rr(){vn=!e.J}var le=e.yj(e.YK,e.h),Kr=typeof i<e.l?i[e.qr]:e.v,fr=e.F,ur=e.q,or=e.R,qr=e.m;function ye(n,t,r){let f=n[e.o][e.Pk](le)[e.FK](o=>!le[e.hK](o)),u=e.J;return n[e.t]=f[u],n[e.SK]=f[e.SK],o=>{let M=o&&o[e.tM]&&o[e.tM][e.aK],d=o&&o[e.tM]&&o[e.tM][e.ob];if(M===t)for(;d--;)u+=r,u=u>=f[e.SK]?e.J:u,n[e.t]=f[u]}}function Mr(n,t){return r=>{let f=r&&r[e.tM]&&r[e.tM][e.aK],u=r&&r[e.tM]&&r[e.tM][e.Nr];if(f===t)try{let o=(n[e.L]?new s(n[e.L])[e.IK]():u[e.Pk](fr)[e.eb](p=>p[e.DM](e.FE)))[e.Pk](ur)[e.oj](),M=new s(o)[e.cE]()[e.Pk](or),d=M[e.vM](),b=M[e.vM]()[e.Pk](qr)[e.vM]();n[e.e]=a(b/Ct,e.LK)+e.U,n[e.L]=n[e.L]?n[e.L]:new s(o)[e.xM](),n[e.t]=nr(d+Tt)}catch(o){n[e.t]=e.Fb}}}function Bn(n,t){let r=new ut(t);r[e.XK]=n,Kr[e.fk](r)}function Nn(n,t){return C[e.TM](e.v,e.MK(e.SK,t))[e.NK]((r,f)=>Mt(n,f))[e.EK](e.AK)}var Tn=e.U,Ye=e.MK(),Fn=e.MK(),An=e.MK();Ye[e.o]=pn,q[e.T](e.P,ye(Ye,ce,Tn));var dr=Ye[e.SK]*e.Tr;Fn[e.o]=Nn(sn,dr),An[e.o]=xn,q[e.T](e.P,ye(Fn,ce,e.Tr)),q[e.T](e.P,ye(An,ce,Tn));var Ln=e.f,pe=e.xr,ir=e.W,cr=e.l;function Xn(n){let t=a(n,e.LK)[e.IK](e.lK),r=[Ln,t][e.EK](cr),f=[Ln,t][e.EK](ir);return[r,f]}function zr(n,t){let[r,f]=Xn(n);j[r]=e.J,j[f]=t}function ar(n){let[t,r]=Xn(n),f=a(j[t],e.LK)||e.J,u=j[r];return f>=e.i?(delete j[t],delete j[r],e.v):u?(j[t]=f+e.U,u):e.v}function br(n){let t=new s()[e.xM]();try{j[pe]=e.h[e.CK](t,e.gb)[e.CK](n)}catch(r){}}function jr(){try{if(!j[pe])return e.h;let[n,t]=j[pe][e.Pk](e.gb);return a(n,e.LK)+e.Zj<new s()[e.xM]()?(delete j[pe],e.h):t}catch(n){return e.h}}var mr=e.rr,Er=e.Kr,Qe=e.jr,lr=e.kr,Zn=e.Mr,He=e.br,xe=e.Er,se=e.Yr,Dn=e.Sr,yr=e.gr,pr=e.Cr,xr=e.Gr,Oe=e.hr,Rn=e.vr,he=!e.U;function sr(){return e.eK[e.CK](m,e.tK)}function ne(){return Un()}function hr(){let n=e.MK(),t=fe(()=>{Re()&&(H(t),Ve())},e.ok);n[e.aK]=Fe,q[e.PK](n,e.fK)}function Ve(n){let t=new q[e.Tj];t[e.Pj](yr,e.Dk[e.CK](tr())),n&&t[e.rM](Qe,lr),t[e.rM](xr,k[A]),t[e.fj]=()=>{if(t[e.lb]===e.wb){let r=t[e.bE]()[e.VE]()[e.Pk](e.yj(e.HE,e.h)),f=e.MK();r[e.X](u=>{let o=u[e.Pk](e.oE),M=o[e.vM]()[e.eM](),d=o[e.EK](e.oE);f[M]=d}),f[Oe]?(he=!e.J,Ee(f[Oe]),n&&br(f[Oe])):f[Rn]&&Ee(f[Rn]),n||Ze()}},t[e.Rr]=()=>{n&&(he=!e.J,Ee(e.YE))},kt(),t[e.xk]()}function Yn(n){return new O((t,r)=>{let f=new s()[e.xM](),u=fe(()=>{let o=Un();o?(H(u),o===e.tE&&r(new I(e.tr)),he&&(n||rr(),t(o)),t()):f+e.lE<new s()[e.xM]()&&(H(u),r(new I(e.TE)))},e.ok)})}function wr(){let n=jr();if(n)he=!e.J,Ee(n);else{let t=fe(()=>{Re()&&(H(t),Ve(!e.J))},e.ok)}}var Qn=e.Or,wK=e.gK[e.CK](m,e.GK),Ge=e.Wr,JK=vt*e.Pr,gK=_t*e.mr;q[Ge]||(q[Ge]=e.MK());function Jr(n){try{let t=e.h[e.CK](Qn)[e.CK](n),r=an[t]||j[t];if(r)return new s()[e.xM]()>a(r,e.LK)}catch(t){}return!e.J}function Hn(n){let t=new s()[e.xM]()+e.Zj,r=e.h[e.CK](Qn)[e.CK](n);q[Ge][n]=!e.J;try{j[r]=t}catch(f){}try{an[r]=t}catch(f){}}var Q=w[e.fr],gr=Q[e.yK](e.yj(e.KM,e.h))||[],Ur=Q[e.yK](e.yj(e.jM,e.h))||[],On=a(gr[e.U],e.LK)||a(Ur[e.U],e.LK),we=e.yj(e.ij,e.h)[e.hK](Q),Pr=e.yj(e.rK,e.KK)[e.hK](Q),Vn=we||Pr,vr=e.yj(e.wj,e.h)[e.hK](Q),_r=e.yj(e.Ij,e.lj)[e.hK](Q),Cr=e.yj(e.kM,e.KK)[e.hK](Q)&&e.yj(e.MM,e.KK)[e.hK](Q),P,te,Se=!e.U,Gn=!e.U,Sn=g(yn),Br=[e.vK,e.H,e.OK,e.WK,e.cK];function Nr(n,t){let r=!Cr&&On<e.bM;n[e.T]?(we||(On&&!Vn?n[e.T](e.vK,t,!e.J):(_r||vr)&&!Vn?n[e.T](e.H,t,!e.J):(n[e.T](e.H,t,!e.J),n[e.T](e.OK,t,!e.J))),r?we?n[e.T](e.WK,t,!e.J):n[e.T](e.cK,t,!e.J):we&&n[e.T](e.H,t,!e.J)):i[e.sj]&&n[e.sj](e.E,t)}function Ie(n){!Jr(n)||Gn||(Gn=n===m,P=i[e.pK](e.cr),P[e.xK][e.iM]=e.EM,P[e.xK][e.rk]=e.J,P[e.xK][e.wM]=e.J,P[e.xK][e.IM]=e.J,P[e.xK][e.lM]=e.J,P[e.xK][e.ur]=e.Tk,P[e.xK][e.sM]=e.YM,te=t=>{if(Se)return;t[e.SE](),t[e.gE](),qe();let r=Rt(e.Dk[e.CK](Sn,e.nE)[e.CK](n,e.pE));r&&n===F?Hn(n):r&&n===m&&N(()=>{r[e.sE]||Hn(n)},e.mr)},Nr(P,te),i[e.PM][e.Yk](P),Se=!e.U)}function qe(){try{Br[e.X](n=>{q[e.zK](n,te,!e.J),q[e.zK](n,te,!e.U)}),P&&i[e.PM][e.gk](P),te=void e.J}catch(n){}Se=!e.J}function We(){return te===void e.J}function In(n){Sn=n}var Tr=e.cr,Wn=i[e.pK](Tr),Fr=e.pr,Ar=e.Br,Lr=e.Qr,Xr=e.Vr,Zr=e.Hr,Dr=e.nr;Wn[e.xK][e.ur]=Fr,Wn[e.xK][e.zr]=Ar;function Rr(n){let t=C[e.KE][e.kK][e.Sk](i[e.Tb])[e.FK](r=>r[e.xb]===n)[e.oj]()[e.Dj];return(t[e.J][e.fM][e.DM](e.AM)?t[e.J][e.xK][e.SM]:t[e.V][e.xK][e.SM])[e.kK](e.U,-e.U)}function $e(n){return Kt(g(n)[e.Pk](e.h)[e.NK](function(t){return e.jE+(e.Bk+t[e.Aj](e.J)[e.IK](e.uE))[e.kK](-e.V)})[e.EK](e.h))}function ke(n){let t=g(n),r=new rt(t[e.SK]);return new ve(r)[e.NK]((f,u)=>t[e.Aj](u))}function Yr(n,t){return new O((r,f)=>{let u=i[e.pK](Lr);u[e.xb]=n,u[e.Pb]=Xr,u[e.pM]=Dr,u[e.fb]=Zr,i[e.ib][e.xE](u,i[e.ib][e.kE]),u[e.fj]=()=>{try{let o=Rr(u[e.xb]);u[e.JM][e.gk](u),r(t===xe?ke(o):$e(o))}catch(o){f()}},u[e.Rr]=()=>{u[e.JM][e.gk](u),f()}})}function Qr(n,t){return new O((r,f)=>{let u=new ot;u[e.fb]=e.tb,u[e.Ek]=n,u[e.fj]=()=>{let o=i[e.pK](e.JE);o[e.Mk]=u[e.Mk],o[e.JK]=u[e.JK];let M=o[e.UE](e.dE);M[e.QE](u,e.J,e.J);let{data:d}=M[e.ZE](e.J,e.J,u[e.Mk],u[e.JK]),b=d[e.kK](e.J,e.zE)[e.FK]((E,Z)=>(Z+e.U)%e.d)[e.zj]()[e.sK]((E,Z,Ke)=>E+Z*c[e.EE](e.PE,Ke),e.J),p=[];for(let E=e.zE;E<d[e.SK];E++)if((E+e.U)%e.d){let Z=d[E];(t===xe||Z>=e.qE)&&p[e.Hj](v[e.Kj](Z))}let l=L(p[e.EK](e.h)[e.yE](e.J,b)),J=t===xe?ke(l):$e(l);return r(J)},u[e.Rr]=()=>f()})}function Hr(n,t,r=He,f=se,u=e.MK()){return new O((o,M)=>{let d=new q[e.Tj];if(d[e.Pj](f,n),d[e.nM]=r,d[e.rE]=!e.J,d[e.rM](mr,L(B(t))),d[e.fj]=()=>{let b=e.MK();b[e.lb]=d[e.lb],b[e.Nr]=r===He?U[e.BE](d[e.Nr]):d[e.Nr],[e.wb,e.RE][e.LM](d[e.lb])>=e.J?o(b):M(new I(e.rY[e.CK](d[e.lb],e.oM)[e.CK](d[e.fE],e.mE)[e.CK](t)))},d[e.Rr]=()=>{M(new I(e.rY[e.CK](d[e.lb],e.oM)[e.CK](d[e.fE],e.mE)[e.CK](t)))},f===Dn){let b=typeof u==e.GE?U[e.BE](u):u;d[e.rM](Qe,Zn),d[e.xk](b)}else d[e.xk]()})}function Or(n,t,r=He,f=se,u=e.MK()){return new O((o,M)=>{let d=Ot(n),b=Vt(),p=!e.U,l,J,E=()=>{try{b[e.JM][e.gk](b),q[e.zK](e.P,Z),p||M(new I(e.xY))}catch(Ke){}};function Z(Ke){let de=ue[e.rb](Ke[e.tM])[e.oj]();if(de===d)if(cn(J),Ke[e.tM][de]===e.v){let D=e.MK();D[de]=e.MK(e.DE,e.AE,e.cM,L(B(t)),e.QM,f,e.BM,typeof u==e.GE?U[e.BE](u):u),f===Dn&&(D[de][e.eE]=U[e.BE](e.MK(e.jr,Zn))),b[e.FM][e.PK](D,e.fK)}else{p=!e.J,E(),cn(l);let D=e.MK(),dn=U[e.bK](g(Ke[e.tM][de]));D[e.lb]=dn[e.iE],D[e.Nr]=r===xe?ke(dn[e.BM]):$e(dn[e.BM]),[e.wb,e.RE][e.LM](D[e.lb])>=e.J?o(D):M(new I(e.rY[e.CK](D[e.lb],e.mE)[e.CK](t)))}}q[e.T](e.P,Z),b[e.Ek]=n,(i[e.BM]||i[e.PM])[e.Yk](b),J=N(E,e.ME),l=N(E,e.Fr)})}function Je(n){try{return n[e.Pk](e.iK)[e.V][e.Pk](e.DK)[e.kK](-e.V)[e.EK](e.DK)[e.eM]()}catch(t){return e.h}}var Me=e.ar,Vr=e.Xr,Gr=e.O,Sr=e.l,Ir=e.Jr,G=e.MK();G[e.Ur]=e.O,G[e.dr]=e.W,G[e.Zr]=e.c,G[e.ir]=e.p,G[e.wr]=e.B,G[e.Ir]=e.Q;function $n(n,t){let r=G[t]||Sr,f=a(n,e.LK)[e.IK](e.lK),u=[Me,f][e.EK](r),o=[Me,f,Vr][e.EK](r),M=[Me,f,Gr][e.EK](r);return[u,o,M]}function Wr(){let n=j[Me];if(n)return n;let t=c[e.A]()[e.IK](e.lK)[e.kK](e.V);return j[Me]=t,t}function $r(n){let t=e.gM[e.CK](ne(),e.CM),r=ue[e.rb](n)[e.NK](u=>{let o=ft(n[u]);return[u,o][e.EK](e.CE)})[e.EK](e.GM),f=new q[e.Tj];f[e.Pj](e.Sr,t,!e.J),f[e.rM](Qe,pr),f[e.xk](r)}function ge(n,t){let[r,f,u]=$n(n,t),o=a(j[u],e.LK)||e.J;j[u]=o+e.U,j[r]=new s()[e.xM](),j[f]=e.h}function Ue(n,t,r){let[f,u,o]=$n(n,t);if(j[f]&&!j[u]){let M=a(j[o],e.LK)||e.J,d=a(j[f],e.LK),b=new s()[e.xM](),p=b-d,{referrer:l}=i,J=q[e.nj][e.xb];j[u]=b,j[o]=e.J;let E=e.MK(e.Cb,n,e.Gb,l,e.hb,p,e.vb,r,e.Ob,b,e.Wb,Wr(),e.cb,J,e.pb,d,e.Bb,M,e.Qb,w[e.fr],e.Vb,q[e.uj][e.Mk],e.Hb,q[e.uj][e.JK],e.QM,t||Ir,e.nb,new s()[e.mj](),e.ub,Je(r),e.zb,Je(l),e.ab,Je(J),e.Xb,w[e.yb]||w[e.Lb]);$r(E)}}var kr=e.yj(e.BK,e.KK),eK=e.yj(e.QK),nK=e.yj(e.VK),tK=e.lr,kn=[tK,m[e.IK](e.lK)][e.EK](e.h),re=e.MK();re[e.W]=oK,re[e.B]=qK,re[e.Q]=nn,re[e.Xr]=et;var rK=[nn,et];function KK(n){return kr[e.hK](n)?n:eK[e.hK](n)?e.hM[e.CK](n):nK[e.hK](n)?e.Dk[e.CK](q[e.nj][e.Ib])[e.CK](n):q[e.nj][e.xb][e.Pk](e.iK)[e.kK](e.J,-e.U)[e.CK](n)[e.EK](e.iK)}function fK(){let n=[j[kn]][e.CK](ue[e.rb](re));return n[e.FK]((t,r)=>t&&n[e.LM](t)===r)}function uK(){return[...rK]}function en(n,t,r,f,u){let o=n[e.vM]();return f&&f!==se?o?o(t,r,f,u)[e.xj](M=>M)[e.RK](()=>en(n,t,r,f,u)):nn(t,r,f,u):o?re[o](t,r||e.Nb)[e.xj](M=>(j[kn]=o,M))[e.RK](()=>en(n,t,r,f,u)):new O((M,d)=>d())}function oK(n,t){X(e.qK);let r=e.ir,f=De(),u=e.Dk[e.CK](ne(),e.iK)[e.CK](f,e.Kb)[e.CK](L(n));return Yr(u,t)[e.xj](o=>(ge(m,r),o))[e.RK](o=>{throw Ue(m,r,u),o})}function qK(n,t){X(e.mK);let r=e.wr,f=De(),u=e.Dk[e.CK](ne(),e.iK)[e.CK](f,e.jb)[e.CK](L(n));return Qr(u,t)[e.xj](o=>(ge(m,r),o))[e.RK](o=>{throw Ue(m,r,u),o})}function nn(n,t,r,f){X(e.oK);let u=e.Ir,o=De(),M=e.Dk[e.CK](ne(),e.iK)[e.CK](o,e.OM);return Hr(M,n,t,r,f)[e.xj](d=>(ge(m,u),d))[e.RK](d=>{throw Ue(m,u,M),d})}function et(n,t,r,f){X(e.WM),wn(ne());let u=e.TK,o=Ht();return Or(o,n,t,r,f)[e.xj](M=>(ge(m,u),M))[e.RK](M=>{throw Ue(m,u,o),M})}function tn(n,t,r,f){n=KK(n),r=r?r[e.kb]():e.h;let u=r&&r!==se?uK():fK();return X(e.h[e.CK](r,e.m)[e.CK](n)),en(u,n,t,r,f)[e.xj](o=>o&&o[e.Nr]?o:e.MK(e.lb,e.wb,e.Nr,o))}var rn=e.sr,Kn=e.Dr,MK=e.Ar,dK=e.er,iK=e.tr,cK=e.yr,zK=e.Lr,aK=e.Nr,fn,un;function on(n){let t=n&&n[e.tM]&&n[e.tM][e.cM],r=n&&n[e.tM]&&n[e.tM][e.pM],f=n&&n[e.tM]&&n[e.tM][e.BM],u=n&&n[e.tM]&&n[e.tM][e.QM],o=n&&n[e.tM]&&n[e.tM][e.VM],M=n&&n[e.tM]&&n[e.tM][e.HM],d=n&&n[e.tM]&&n[e.tM][e.nM],b=n&&n[e.tM]&&n[e.tM][e.uM],p=b===m||b===F,l=e.MK();o!==rn&&o!==Kn||(r===MK?(l[e.pM]=dK,l[e.sb]=A,l[e.uM]=m,l[e.Db]=F):r===iK&&M&&(!b||p)&&(l[e.pM]=cK,l[e.HM]=M,tn(t,d,u,f)[e.xj](J=>{let E=e.MK();E[e.pM]=aK,E[e.cM]=t,E[e.HM]=M,E[e.tM]=J,qn(o,E)})[e.RK](J=>{let E=e.MK();E[e.pM]=zK,E[e.cM]=t,E[e.HM]=M,E[e.Fb]=J&&J[e.P],qn(o,E)})),l[e.pM]&&qn(o,l))}function qn(n,t){switch(t[e.VM]=n,n){case Kn:un[e.PK](t);break;case rn:default:fn[e.PK](t);break}q[e.PK](t,e.fK)}function bK(){try{fn=new zn(rn),fn[e.T](e.P,on),un=new zn(Kn),un[e.T](e.P,on)}catch(n){}q[e.T](e.P,on)}var nt=i[e.qr];function jK(n,t,r){return new O((f,u)=>{X(e.Ab);let o;if([e.d,e.i,e.Z][e.LM](A)>-e.U){o=i[e.pK](e.zM);let M=i[e.hE](n);o[e.fj]=r,o[e.Yk](M),o[e.vE](e.OE,m),o[e.vE](e.WE,Je(g(ln)));try{nt[e.JM][e.xE](o,nt)}catch(d){(i[e.BM]||i[e.PM])[e.Yk](o)}}else R(n);N(()=>(o!==void e.J&&o[e.JM][e.gk](o),Jn(t)?(X(e.aE),f()):u()))})}function mK(n,t){let r=n===e.U?sr():g(ln);return tn(r,e.v,e.v,e.v)[e.xj](f=>(f=f&&e.Nr in f?f[e.Nr]:f,f&&zr(m,f),f))[e.RK](()=>ar(m))[e.xj](f=>{f&&jK(f,n,t)})}It();function Pe(n){return Jn()?e.v:(X(e.yM),Wt(),tt(n))}function tt(n){return A===e.U&&We()&&Ie(m),Re()?(Ve(),q[wt]=tn,Yn()[e.xj](t=>{if(t&&A===e.U){let r=new q[e.Tj];r[e.Pj](e.Yr,e.Dk[e.CK](t)),r[e.rM](Er,m),In(t),r[e.fj]=()=>{let f=i[e.pK](e.zM),u=i[e.hE](r[e.Nr][e.sk](e.yj(e.kY,e.qM),o()));f[e.fj]=n;function o(){let M=e.jY[e.CK](c[e.A]()[e.IK](e.lK)[e.kK](e.V));return q[M]=q[e.Ub],M}f[e.Yk](u),(i[e.BM]||i[e.PM])[e.Yk](f),N(()=>{f!==void e.J&&(f[e.JM][e.gk](f),qe())})},r[e.xk]();return}mK(A,n)[e.xj](()=>{En([m,F],ne())})})):N(tt,e.ok)}function EK(){We()&&Ie(F),St(n=>{try{return n&&We()&&(qe(),Ie(m)),wr(),Yn(!e.J)[e.xj](t=>{Mn(n,t)})[e.RK](()=>{Mn(n)})}catch(t){return Mn(n)}})}function Mn(n,t){let r=t||g(yn);In(r);let f=i[e.pK](e.zM);f[e.Rr]=()=>{qe(),Pe()},f[e.fj]=()=>{qe()},f[e.Ek]=e.gM[e.CK](r,e.Jb)[e.CK](n?m:F),(i[e.BM]||i[e.PM])[e.Yk](f)}q[Lt]=Pe,q[Xt]=Pe,N(Pe,e.Fr),Bn(Fe,Te),Bn(ce,Ne),bK(),Zt&&A===e.U&&EK();try{$}catch(n){}})()})(ue.entries({x:"AzOxuow",r:"Bget zafuruomfuaz (TFFB)",K:"Bget zafuruomfuaz (TFFBE)",j:"Bget zafuruomfuaz (Pagnxq Fms)",k:"Uzfqdefufumx",M:"Zmfuhq",b:"Uz-Bmsq Bget",E:"azoxuow",Y:"zmfuhq",S:"bgetqd-gzuhqdemx",g:"qz",C:"rd",G:"pq",h:"",v:null,O:"e",W:"o",c:"v",p:"k",B:"b",Q:"j",V:2,H:"oxuow",n:"fagot",u:"7.0.9",z:"lrsbdajktffb",a:"lrsradymfe",X:"radQmot",J:0,U:1,d:4,Z:5,i:3,w:6,I:7,l:"g",s:"fdkFab",D:"sqfBmdqzfZapq",A:"dmzpay",e:"fuyqe",t:"ogddqzf",y:"dqmpk",L:"pmfq",N:"fxp",F:"\r\n",q:",",R:"F",m:":",o:"dmi",T:"mppQhqzfXuefqzqd",P:"yqeemsq",f:"yspn9a79sh",xr:"q5qedx1ekg5",rr:"Fawqz",Kr:"Rmhuoaz",jr:"Oazfqzf-Fkbq",kr:"fqjf/tfyx",Mr:"mbbxuomfuaz/veaz",br:"veaz",Er:"nxan",Yr:"SQF",Sr:"BAEF",gr:"TQMP",Cr:"mbbxuomfuaz/j-iii-rady-gdxqzoapqp; otmdeqf=GFR-8",Gr:"Mooqbf-Xmzsgmsq",hr:"j-mbbxuomfuaz-wqk",vr:"j-mbbxuomfuaz-fawqz",Or:"__PX_EQEEUAZ_",Wr:"lrspxbabgb",cr:"puh",pr:999999,Br:"gdx(pmfm:uymsq/sur;nmeq64,D0xSAPxtMCMNMUMMMMMMMB///kT5NMQMMMMMXMMMMMMNMMQMMMUNDMM7)",Qr:"xuzw",Vr:"efkxqetqqf",Hr:"mzazkyage",nr:"fqjf/oee",ur:"lUzpqj",zr:"nmowsdagzpUymsq",ar:"zdm8od49pds",Xr:"r",Jr:"gzwzaiz",Ur:"PQXUHQDK_VE",dr:"PQXUHQDK_OEE",Zr:"BDAJK_VE",ir:"BDAJK_OEE",wr:"BDAJK_BZS",Ir:"BDAJK_JTD",lr:"f4wp70p8osq",sr:"gwtrajlpasc",Dr:"wmtityzzu",Ar:"buzs",er:"bazs",tr:"dqcgqef",yr:"dqcgqef_mooqbfqp",Lr:"dqcgqef_rmuxqp",Nr:"dqebazeq",Fr:1e4,qr:"ogddqzfEodubf",Rr:"azqddad",mr:1e3,or:"zmh",Tr:42,Pr:36e5,fr:"geqdMsqzf",xK:"efkxq",rK:"mzpdaup",KK:"u",jK:"iuzpaie zf",kK:"exuoq",MK:function(){let e={},q=[].slice.call(arguments);for(let i=0;i<q.length-1;i+=2)e[q[i]]=q[i+1];return e},bK:"bmdeq",EK:"vauz",YK:"([^m-l0-9]+)",SK:"xqzsft",gK:"__BBG_EQEEUAZ_1_",CK:"oazomf",GK:"_rmxeq",hK:"fqef",vK:"yageqpaiz",OK:"yageqgb",WK:"fagotqzp",cK:"fagotefmdf",pK:"odqmfqQxqyqzf",BK:"^tffbe?:",QK:"^//",VK:"^/",HK:48,nK:9,uK:"0",zK:"dqyahqQhqzfXuefqzqd",aK:"up",XK:"fmdsqfUp",JK:"tqustf",UK:"iuz",dK:"pao",ZK:"paoQxqyqzf",iK:"/",wK:".tfyx",IK:"faEfduzs",lK:36,sK:"dqpgoq",DK:".",AK:"!",eK:"//vayfuzsu.zqf/mbg.btb?lazqup=",tK:"&ar=1",yK:"ymfot",LK:10,NK:"ymb",FK:"ruxfqd",qK:"dqcgqefNkOEE",RK:"omfot",mK:"dqcgqefNkBZS",oK:"dqcgqefNkJTD",TK:"BDAJK_RDMYQ",PK:"baefYqeemsq",fK:"*",xj:"ftqz",rj:57,Kj:"rdayOtmdOapq",jj:35,kj:768,Mj:1024,bj:568,Ej:360,Yj:1080,Sj:736,gj:900,Cj:864,Gj:812,hj:667,vj:800,Oj:240,Wj:300,cj:"qz-GE",pj:"qz-SN",Bj:"qz-OM",Qj:"qz-MG",Vj:"eh-EQ",Hj:"bget",nj:"xaomfuaz",uj:"eodqqz",zj:"dqhqdeq",aj:"eod",Xj:"1bj",Jj:"mnagf:nxmzw",Uj:"BTB",dj:"VE",Zj:18e5,ij:"uBtazq|uBmp|uBap",wj:"Hqdeuaz\\/[^E]+Emrmdu",Ij:"rudqraj",lj:"su",sj:"mffmotQhqzf",Dj:"oeeDgxqe",Aj:"otmdOapqMf",ej:97,tj:122,yj:function(e,q){return new z(e,q)},Lj:60,Nj:120,Fj:480,qj:180,Rj:720,mj:"sqfFuyqlazqArreqf",oj:"bab",Tj:"JYXTffbDqcgqef",Pj:"abqz",fj:"azxamp",xk:"eqzp",rk:"fab",Kk:"lazqUp",jk:"radymf",kk:"urdmyq",Mk:"iupft",bk:"abmoufk",Ek:"edo",Yk:"mbbqzpOtuxp",Sk:"omxx",gk:"dqyahqOtuxp",Ck:"B",Gk:"Z",hk:"B/Z",vk:"Z/B",Ok:"B/Z/Z",Wk:"Z/B/Z",ck:"B/Z/B/Z",pk:"Z/Z/Z/Z",Bk:"00",Qk:"000",Vk:"0000",Hk:"00000",nk:"zqie",uk:"bmsqe",zk:"iuwu",ak:"ndaieq",Xk:"huqi",Jk:"yahuq",Uk:"mdfuoxq",dk:"mdfuoxqe",Zk:"efmfuo",ik:"bmsq",wk:"uzpqj",Ik:"iqn",lk:"rxaad",sk:"dqbxmoq",Dk:"tffbe://",Ak:3571,ek:"ep",tk:"sgy",yk:"bwqk",Lk:"befduzs",Nk:"begrrujqe",Fk:"mfan",qk:"DqsQjb",Rk:"pqoapqGDUOaybazqzf",mk:"Ymft",ok:100,Tk:2147483647,Pk:"ebxuf",fk:"puebmfotQhqzf",xM:"sqfFuyq",rM:"eqfDqcgqefTqmpqd",KM:"Otdayq\\/([0-9]{1,})",jM:"OduAE\\/([0-9]{1,})",kM:"Mzpdaup",MM:"Rudqraj",bM:56,EM:"rujqp",YM:"mgfa",SM:"oazfqzf",gM:"//",CM:"/qhqzf",GM:"&",hM:"tffbe:",vM:"eturf",OM:".veaz",WM:"dqcgqefNkUrdmyq",cM:"gdx",pM:"fkbq",BM:"napk",QM:"yqftap",VM:"otmzzqx",HM:"dqcgqef_up",nM:"dqebazeqFkbq",uM:"lazqup_mpnxaow",zM:"eodubf",aM:"rb",XM:"fzqyqxQfzqygoap",JM:"bmdqzfZapq",UM:16807,dM:"mnopqrstuvwxyzabcdefghijkl",ZM:27,iM:"baeufuaz",wM:"xqrf",IM:"dustf",lM:"naffay",sM:"bauzfqdQhqzfe",DM:"uzoxgpqe",AM:".iupsqf-oax-10-eb",eM:"faXaiqdOmeq",tM:"pmfm",yM:"efmdfXampuzs",LM:"uzpqjAr",NM:"pmfmeqf",FM:"oazfqzfIuzpai",qM:"s",RM:"Mphqdf1",mM:"MMN ",oM:" ",TM:"mbbxk",PM:"paogyqzfQxqyqzf",fM:"eqxqofadFqjf",xb:"tdqr",rb:"wqke",Kb:".oee?",jb:".bzs?",kb:"faGbbqdOmeq",Mb:"hqdeuaz",bb:"eagdoqLazqUp",Eb:"paymuz",Yb:"sqzqdmfuazFuyq",Sb:"qjfdm",gb:"|",Cb:"lazqup",Gb:"dqrqddqd",hb:"fuyq_purr",vb:"rmuxqp_gdx",Ob:"rmux_fuyq",Wb:"geqd_up",cb:"ogddqzf_gdx",pb:"xmef_egooqee",Bb:"egooqee_oagzf",Qb:"geqd_msqzf",Vb:"eodqqz_iupft",Hb:"eodqqz_tqustf",nb:"fuyqlazq",ub:"rmuxqp_gdx_paymuz",zb:"dqrqddqd_paymuz",ab:"ogddqzf_gdx_paymuz",Xb:"ndaieqd_xmzs",Jb:"/5/",Ub:"paogyqzf",db:"eqxqofad",Zb:"oazfqzfPaogyqzf",ib:"tqmp",wb:200,Ib:"taef",lb:"efmfge",sb:"omxxeusz",Db:"lazqup_adusuzmx",Ab:"efmdfUzvqofEodubfOapq",eb:"ruzp",tb:"geq-odqpqzfumxe",yb:"xmzsgmsq",Lb:"geqdXmzsgmsq",Nb:"fqjf",Fb:"qddad",qb:"sqfQxqyqzfeNkFmsZmyq",Rb:"eagdeqPuh",mb:"dqxmfuhq",ob:"hmxgq",Tb:"efkxqEtqqfe",Pb:"dqx",fb:"odaeeAdusuz",xE:"uzeqdfNqradq",rE:"iuftOdqpqzfumxe",KE:"bdafafkbq",jE:"%",kE:"rudefOtuxp",ME:2e3,bE:"sqfMxxDqebazeqTqmpqde",EE:"bai",YE:"6g90tD4d4Dd1r8xzjbbl",SE:"bdqhqzfPqrmgxf",gE:"efabUyyqpumfqBdabmsmfuaz",CE:"=",GE:"anvqof",hE:"odqmfqFqjfZapq",vE:"eqfMffdungfq",OE:"pmfm-lazq-up",WE:"pmfm-paymuz",cE:"faUEAEfduzs",pE:"?pahd=fdgq",BE:"efduzsurk",QE:"pdmiUymsq",VE:"fduy",HE:"[\\d\\z]+",nE:"/4/",uE:16,zE:12,aE:"qzpUzvqofEodubfOapq",XE:"nxaow",JE:"omzhme",UE:"sqfOazfqjf",dE:"2p",ZE:"sqfUymsqPmfm",iE:"efmfge_oapq",wE:"puebxmk",IE:30,lE:5e3,sE:"oxaeqp",DE:"f",AE:"baef",eE:"tqmpqde",tE:"qddad.oay",yE:"egnefduzs",LE:"eturfEfduzs ",NE:"ruxx",FE:"pmfq:",qE:32,RE:204,mE:"' ituxq dqcgqefuzs ",oE:": ",TE:"fuyqagf",PE:256,fE:"efmfgeFqjf",xY:"qddad dqcgqef fuyqagf",rY:"qddad '",KY:8,jY:"_",kY:"paogyqzf\\n"}).reduce((e,q)=>(ue.defineProperty(e,q[0],{get:()=>typeof q[1]!="string"?q[1]:q[1].split("").map(i=>{let w=i.charCodeAt(0);return w>=65&&w<=90?v.fromCharCode((w-65+26-12)%26+65):w>=97&&w<=122?v.fromCharCode((w-97+26-12)%26+97):i}).join("")}),e),{}),window,qt,h)});})();</script>
	
<meta name="generator" content="WP Rocket 3.20.3" data-wpr-features="wpr_remove_unused_css wpr_delay_js wpr_minify_js wpr_oci wpr_image_dimensions wpr_minify_css wpr_preload_links wpr_host_fonts_locally wpr_mobile" /></head>
<body>

<header >
    <div  class="header-content row" id="header-content">
        <div  class="menu-left">
            <div class="ico-style btn-style" id="mb-menu">
                <i class="fas fa-bars open-icon"></i>
                <i class="fas fa-times close-icon"></i>
            </div>

            <!-- Logo do site -->
            <a href="https://goyabu.io/inicio-2" class="logo">
                <img width="600" height="117" src="https://goyabu.io/wp-content/uploads/2025/12/logo-min.webp" alt="Goyabu">            </a>

            <span style="display: flex; gap: 10px;">
                <div class="ico-style btn-style" id="mb-search">
                    <i class="fad fa-search"></i>
                </div>

                <a href="https://goyabu.io/login" class="ico-style btn-style" id="mb-user" aria-label="Menu do usuário">
                    <i class="fad fa-user open-icon"></i>
                    <i class="fas fa-times close-icon"></i>
                    <span class="sr-only">Menu do usuário</span>
                </a>
            </span>
        </div>
        <div  class="menu-right">
            <div class="search-container">
                <form class="search-form" action="https://goyabu.io/">
                    <i class="fad fa-search"></i>
                    <input type="text" name="s" placeholder="Buscar animes..." value="" spellcheck="false" autocomplete="off">
                    
                    <div class="search-actions">
                        <a href="https://goyabu.io/lista-de-animes/" title="Filtros" class="filter-button btn-style">
                        <i class="fad fa-sort-alt" style="transform: rotate(90deg);margin-right: 4px;"></i>
                            <span>Filtros</span>
                        </a>
                    </div>
                </form>
                <div class="live-search menu-style"></div>
            </div>

            <div class="ico-style btn-style active" id="mb-close-search">
                <i class="fas fa-times"></i>
            </div>

            <a href="https://goyabu.io/login" class="ico-style btn-style " id="dk-user" aria-label="Menu do usuário">
                <i class="fad fa-user open-icon"></i>
                <i class="fas fa-times close-icon"></i>
                <span class="sr-only">Menu do usuário</span>
            </a>
        </div>

        <nav class="menu-float menu-style">
            <ul>
                <li>
                    <a class="list-item" href="https://goyabu.io/inicio-2" aria-label="Ir para página inicial">
                        <i class="fad fa-home-lg"></i> Inicio
                    </a>
                </li>
                <li>
                    <a class="list-item" href="https://goyabu.io/calendario" aria-label="Ver calendário de lançamentos">
                        <i class="fad fa-calendar-week"></i> Calendário
                    </a>
                </li>
				<li>
                    <a class="list-item" href="https://goyabu.io/lista-de-animes?l=todos" aria-label="Ver lista completa de animes">
                        <i class="fas fa-compass" style="opacity: 0.5;"></i> Lista de Animes
                    </a>
                </li>
				<li>
                    <a class="list-item" href="https://goyabu.io/random" aria-label="Ver anime aleatório">
                        <i class="fad fa-random"></i> Random
                    </a>
                </li>
                <li>
                    <a class="list-item" href="https://goyabu.io/generos" aria-label="Ver categorias e gêneros">
                        <i class="fad fa-tags"></i> Categorias
                    </a>
                </li>
                <li>
                    <a class="list-item" href="https://goyabu.io/populares" aria-label="Ver animes populares">
                        <i class="fad fa-fire-alt"></i> Populares
                    </a>
                </li>
                <li>
                    <a class="list-item" href="https://goyabu.io/lancamentos" aria-label="Ver animes lançamentos">
                        <i class="fad fa-layer-group"></i> Lançamentos
                    </a>
                </li>
            </ul>
        </nav>
        <nav class="menu-user-float menu-style">
            <ul>
                <li class="list-item">
                   <div class="user-avatar-list cover-container poster-card"></div>
                   <div class="user-info-display title-card">
                       <span class="user-name-display hidden-text"></span>
                       <span class="user-rarity-display"></span>
                   </div>
                </li>
                <li>
                    <div class="user-coins-display list-item"></div>
                </li>
                <li>
                    <a class="list-item" href="https://goyabu.io/perfil/#editar-perfil" aria-label="Editar perfil do usuário">
                        <i class="fad fa-user-edit"></i> Editar Perfil
                    </a>
                </li>
                <li>
                    <a class="list-item" href="https://goyabu.io/perfil/#meus-avatares" aria-label="Ver meus avatares adquiridos">
                        <i class="fad fa-check-circle"></i> Meus Avatares
                    </a>
                </li>
				<li>
                    <a class="list-item" href="https://goyabu.io/perfil/#avatares-disponiveis" aria-label="Ver avatares disponíveis para compra">
                        <i class="fad fa-shopping-bag"></i> Avatares Disponíveis
                    </a>
                </li>
				<li>
                    <a class="list-item" href="https://goyabu.io/historico" aria-label="Ver histórico de episódios assistidos">
                        <i class="fad fa-history"></i> Histórico
                    </a>
                </li>
                <li>
                    <a class="list-item" href="https://goyabu.io/wp-login.php?action=logout&amp;redirect_to=https%3A%2F%2Fgoyabu.io&amp;_wpnonce=6f0875251a" id="menu-logout-btn" aria-label="Sair da conta">
                        <i class="fad fa-sign-out-alt" style="color: rgb(var(--error-rgb), 1);font-size: 1.4rem;"></i> Sair
                    </a>
                </li>
            </ul>
        </nav>
    </div>
</header>


<main >
    <div  class="alinhamento">
        
<div  class="content-main">
	<div class="content-sidebar">
		<div class="content-principal">
			<div class="h1-content">
				<div class="cover-container" style="aspect-ratio: 16/9; max-width: 116px; width: 100%;">
					<img fetchpriority="high" width="225" height="318" class="cover" src="https://goyabu.io/wp-content/uploads/2023/07/Black-Clover-Dublado-Todos-os-Episodios-Online-Goyabu.jpg" alt="Black Clover Dublado - Episódio 170">
				</div>
				<div>
					<h1 class="headTitle h1-ep" title="Black Clover Dublado - Episódio 170">
						<b class="title-post hidden-text" style="-webkit-line-clamp: 1;">Black Clover Dublado</b> <b class="type-episodio" style="color: var(--type-episode-title);">Episódio 170</b>
					</h1>
											<span class="timeAgo" style="color: rgb(var(--text-rgb), .4);" data-time="2023-12-06T16:03:08+00:00"></span>
									</div>
			</div>

			<div id="player-content">
				<div id="playerFrame" itemprop="video" itemscope itemtype="https://schema.org/VideoObject">
					<meta itemprop="duration" content="T24M00S" />
					<meta itemprop="name" content="Black Clover Dublado - Episódio 170">
					<meta itemprop="thumbnailUrl" content="https://goyabu.io/wp-content/themes/cronos-design/img/noPoster.jpg" />
					<meta itemprop="contentURL" content="https://goyabu.io/44346" />
					<meta itemprop="uploadDate" content="2023-12-06T13:00:54-03:00" />
					<span itemprop="description" style="display:none">Assistir Black Clover Dublado - Episódio 170 HD Online.</span>
					
<!-- Tabs dos Players -->
<div class="episodes-tabs" id="player-tabs">
            <button class="btn-style player-tab" 
                data-player-index="0"
                data-player-type="iframe"
                data-blogger-url-encrypted="Y2RFZExhVzJvOFhMbm80R2ZHTThoNFR0QUQzaFVNb00tNlRCUUVHV2xfVmdxVno0QkpzOXBoRmNjeUl0UzRJZmtPdU1BTUhmbGZVLWZUX09oOTZiUjdsMDdhaFROZlRpNklma09rbC1pNTMzQXNfSFNLbmROeDNPUWdYcC0taUtqOXBoeWQ1djZEQT1uZWtvdD9nLm9lZGl2L21vYy5yZWdnb2xiLnd3dy8vOnNwdHRo"
                onclick="switchPlayer(0)">
            Player HD
            <div class="audio-wave-animation" style="display: none;">
                <div class="wave-block"></div>
                <div class="wave-block"></div>
                <div class="wave-block"></div>
            </div>
        </button>
            <button class="btn-style player-tab " 
                data-player-index="1"
                data-original-index="0"
                onclick="switchPlayer(1)">
            Player FHD                        <div class="audio-wave-animation" style="display: none;">
                <div class="wave-block"></div>
                <div class="wave-block"></div>
                <div class="wave-block"></div>
            </div>
        </button>
    </div>

<!-- Container do Player -->
<div class="playerWrapper">
    <div class="canvasContainer" id="canvasContainer"></div>
    <div id="player" class="playerContainer">
        <!-- Imagem de preview pré-carregada para otimizar LCP -->
                <img width="225" height="318" id="player-preview-image" 
             src="https://goyabu.io/wp-content/uploads/2023/07/Black-Clover-Dublado-Todos-os-Episodios-Online-Goyabu.jpg" 
             alt="Black Clover Dublado"
             fetchpriority="high"
             loading="eager"
             style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover; z-index: 1;"
             onload="this.style.opacity='1';">
            </div>
</div>

<script type="rocketlazyloadscript" data-rocket-type="text/javascript">
/* PLAYER jQuery 1.12.4 - Versão otimizada e compatível (drop-in) */
/* Otimizado para dispositivos móveis - Performance melhorada */

// Detectar dispositivo móvel e performance
var DEVICE_INFO = {
    isMobile: /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),
    isLowEnd: navigator.hardwareConcurrency ? navigator.hardwareConcurrency <= 2 : true,
    hasIdleCallback: typeof requestIdleCallback !== 'undefined',
    hasIntersectionObserver: typeof IntersectionObserver !== 'undefined'
};

// Throttle helper para otimizar eventos
function throttle(func, wait) {
    var timeout;
    return function() {
        var context = this, args = arguments;
        if (!timeout) {
            timeout = setTimeout(function() {
                timeout = null;
                func.apply(context, args);
            }, wait);
        }
    };
}

// Debounce helper
function debounce(func, wait) {
    var timeout;
    return function() {
        var context = this, args = arguments;
        clearTimeout(timeout);
        timeout = setTimeout(function() {
            func.apply(context, args);
        }, wait);
    };
}

// requestIdleCallback polyfill
var requestIdleCallback = requestIdleCallback || function(cb) {
    var start = Date.now();
    return setTimeout(function() {
        cb({
            didTimeout: false,
            timeRemaining: function() {
                return Math.max(0, 50 - (Date.now() - start));
            }
        });
    }, 1);
};

var cancelIdleCallback = cancelIdleCallback || function(id) {
    clearTimeout(id);
};

var PLAYER_CONFIG = {
    enableProgress: true,
    enableResume: true,
    enableThumbnails: !DEVICE_INFO.isLowEnd, // Desabilitar thumbnails em dispositivos fracos
    enableLighting: !DEVICE_INFO.isLowEnd // Desabilitar lighting em dispositivos fracos
};

// Função para decifrar URL - engenharia reversa do método PHP (inverter + base64)
function decryptBloggerUrl(encryptedData) {
    try {
        if (!encryptedData) {
            return null;
        }
        
        // Decodificar Base64
        var decoded = atob(encryptedData);
        if (!decoded) {
            return null;
        }
        
        // Inverter a string (engenharia reversa do strrev)
        var result = decoded.split('').reverse().join('');
        
        return result;
    } catch(e) {
        console.error('Erro ao decifrar URL:', e);
        return null;
    }
}

var playersData = [{"name":"Blog","select":"blogger","idioma":"","url":"https:\/\/www.blogger.com\/video.g?token=AD6v5dyhp9jKi--pXgQO3xNdnKSH_sA335i-lkOkfI6iTfNTha70l7Rb69hO_Tf-UflfHMAMuOkfI4StIyccFhp9sJB4zVqgV_lWGEQBT6-MoMUh3DAtT4h8MGfG4onLX8o2WaLdEdc","blogger_token":"Y2RFZExhVzJvOFhMbm80R2ZHTThoNFR0QUQzaFVNb00tNlRCUUVHV2xfVmdxVno0QkpzOXBoRmNjeUl0UzRJZmtPdU1BTUhmbGZVLWZUX09oOTZiUjdsMDdhaFROZlRpNklma09rbC1pNTMzQXNfSFNLbmROeDNPUWdYcC0taUtqOXBoeWQ1djZEQQ=="}];
// Adicionar Player 2 se houver player blogger
var hasBloggerPlayer = false;
var bloggerPlayerUrl = '';
var bloggerUrlEncrypted = '';

// Tentar obter URL cifrada do botão Player 2
var $player2Btn = $('.player-tab[data-player-type="iframe"]');
if ($player2Btn.length) {
    bloggerUrlEncrypted = $player2Btn.attr('data-blogger-url-encrypted') || '';
}

for (var i = 0; i < playersData.length; i++) {
    if (playersData[i].select === 'blogger') {
        hasBloggerPlayer = true;
        bloggerPlayerUrl = playersData[i].url || '';
        break;
    }
}

// Se houver player blogger, adicionar Player 2 no INÍCIO do array (índice 0)
// para corresponder à ordem das tabs no PHP
if (hasBloggerPlayer && bloggerUrlEncrypted) {
    playersData.unshift({
        select: 'iframe',
        url_encrypted: bloggerUrlEncrypted,
        name: 'Player 2',
        isPlayer2: true // Flag para identificar Player 2
    });
}

// Tornar playersData globalmente acessível
window.playersData = playersData;
var thumbnail = "https:\/\/goyabu.io\/wp-content\/uploads\/2023\/07\/Black-Clover-Dublado-Todos-os-Episodios-Online-Goyabu.jpg";
var miniature = false;
var streamer_id = Number("37432");
var episode_id = Number(44346);
var episode_number = "170";

var siteInfo = {
    name: 'Goyabu',
    url: 'https://goyabu.io'
};

var PlayerState = {
    currentPlayerInstance: null,
    currentPlayerIndex: -1,
    lightingCanvas: null,
    frameHandle: null,
    videoElement: null,
    isInitializing: false,
    imageDimensions: null,
    episodeId: 44346,
    hasResumed: false,
    initTimeout: null,
    currentAjaxRequest: null,
    eventHandlers: [], // Array para armazenar referências de event handlers
    availableQualities: [], // Array para armazenar qualidades disponíveis
    currentQuality: null, // Qualidade atual selecionada
    initStartTime: null, // Timestamp de quando a inicialização começou
    ajaxStartTime: null, // Timestamp de quando o AJAX começou
    retryAttempted: false // Flag para controlar retry automático
};

/* ---------- Storage helpers ---------- */
function _getHistory() {
    try { return JSON.parse(localStorage.getItem('historico_ep') || '[]'); }
    catch (e) { return []; }
}
function _setHistory(arr) {
    try { localStorage.setItem('historico_ep', JSON.stringify(arr)); }
    catch (e) { /* swallow */ }
}

/* ---------- Progress functions ---------- */
function saveProgress(episodeId, progress, thumb, miniature) {
    if (!PLAYER_CONFIG.enableProgress) return;
    if (!episodeId) return;
    progress = Number(progress.toFixed(3));

    var hist = _getHistory();
    var found = false;
    var streamerFound = null;

    // Procurar streamer atual
    for (var i = 0; i < hist.length; i++) {
        if (Number(hist[i].streamer_id) === Number(streamer_id)) {
            streamerFound = hist[i];
            streamerFound.update = Date.now();
            if (!streamerFound.episodes) streamerFound.episodes = [];
            
            // Procurar episódio (verificar por id, episode_id ou episode)
            for (var j = 0; j < streamerFound.episodes.length; j++) {
                var ep = streamerFound.episodes[j];
                var epId = Number(ep.id || ep.episode_id || 0);
                if (epId === Number(episodeId)) {
                ep.porcent = progress;
                    if (thumb) ep.thumb = thumb;
                    if (miniature) ep.miniature = btoa(miniature);
                ep.update = Date.now();
                found = true;
                break;
            }
        }
            
            // Se não encontrou, criar novo episódio
            if (!found && episode_number !== undefined && episode_number !== null) {
                var novoEp = {
                    type: 'episode',
                    episode: episode_number,
                    porcent: progress,
                    id: Number(episodeId),
                    thumb: thumb || null,
                    miniature: miniature ? btoa(miniature) : null,
                    update: Date.now()
                };
                streamerFound.episodes.push(novoEp);
                found = true;
            }
            break;
        }
    }

    // Se não encontrou streamer, criar novo (com episódio)
    if (!streamerFound && episode_number !== undefined && episode_number !== null) {
        var novoStreamer = {
            streamer_id: Number(streamer_id),
            update: Date.now(),
            episodes: [{
                type: 'episode',
                episode: episode_number,
                porcent: progress,
                id: Number(episodeId),
                thumb: thumb || null,
                miniature: miniature ? btoa(miniature) : null,
                update: Date.now()
            }]
        };
        hist.push(novoStreamer);
        found = true;
    }

    if (found) _setHistory(hist);
}

function loadProgress(episodeId) {
    if (!PLAYER_CONFIG.enableResume) return 0;
    if (PlayerState.hasResumed) return 0;

    var hist = _getHistory();
    for (var i = 0; i < hist.length; i++) {
        var streamer = hist[i];
        if (!streamer.episodes) continue;
        for (var j = 0; j < streamer.episodes.length; j++) {
            var ep = streamer.episodes[j];
            if (Number(ep.id || ep.episode_id || ep.episode) === Number(episodeId)) {
                return Number(ep.porcent.toFixed ? ep.porcent.toFixed(3) : ep.porcent);
            }
        }
    }
    return 0;
}


/* ---------- Thumbnail utilities ---------- */
var THUMBNAIL_WIDTH = 110;
var TOTAL_COLUMNS = 5;
var TOTAL_ROWS = 5;

function _loadImageDimensions(imageUrl, targetWidth, cb) {
    var img = new Image();
    img.onload = function() {
        var aspectRatio = img.height / img.width;
        cb({ width: targetWidth, height: Math.round(targetWidth * aspectRatio) });
    };
    img.onerror = function() { cb(null); };
    img.src = imageUrl;
}
function _calcBackgroundPos(currentTime, duration) {
    if (!duration || duration <= 0) return '0% 0%';
    var progress = currentTime / duration;
    var totalFrames = TOTAL_COLUMNS * TOTAL_ROWS;
    var currentFrame = Math.floor(progress * totalFrames);
    var row = Math.floor(currentFrame / TOTAL_COLUMNS);
    var col = currentFrame % TOTAL_COLUMNS;
    var xPos = (col / (TOTAL_COLUMNS - 1)) * 100;
    var yPos = (row / (TOTAL_ROWS - 1)) * 100;
    return xPos + '% ' + yPos + '%';
}
function _setupThumbElement(container) {
    if (!miniature) return null;
    var imageUrl = 'https://api.myblogapi.site/storage' + miniature;
    var thumb = container.querySelector('.jw-time-thumb-container');
    if (!thumb) {
        thumb = document.createElement('div');
        thumb.className = 'jw-time-thumb-container thumbnail';
        var tEl = container.querySelector('.jw-time-time');
        if (tEl && tEl.parentNode) { tEl.parentNode.insertBefore(thumb, tEl); }
        else { container.insertBefore(thumb, container.firstChild); }
    }
    if (!thumb) return null;
    if (container.classList) container.classList.add('thumbnail-container');
    else container.className = (container.className + ' thumbnail-container').trim();

    var orig = container.querySelector('.jw-time-thumb');
    if (orig && orig.parentNode) orig.parentNode.removeChild(orig);

    thumb.style.backgroundImage = 'url("' + imageUrl + '")';
    thumb.style.backgroundSize = (TOTAL_COLUMNS * 100) + '% ' + (TOTAL_ROWS * 100) + '%';
    thumb.style.backgroundRepeat = 'no-repeat';

    if (!PlayerState.imageDimensions) {
        _loadImageDimensions(imageUrl, THUMBNAIL_WIDTH, function(dim) { if (dim) PlayerState.imageDimensions = dim; });
    }
    return thumb;
}
function updateThumbnail(timeTooltip, player, manualTime) {
    if (!miniature || !timeTooltip) return;
    var thumbEl = _setupThumbElement(timeTooltip);
    if (!thumbEl) return;

    var applyPos = function(currentTime) {
        var duration = player.getDuration();
        if (!duration || duration <= 0) return;
        var pos = _calcBackgroundPos(currentTime, duration);
        try {
            thumbEl.style.setProperty('background-position', pos, 'important');
        } catch (e) {
            thumbEl.style.backgroundPosition = pos;
        }
    };

    if (typeof manualTime !== 'undefined' && manualTime !== null) {
        applyPos(manualTime);
    } else {
        var timeEl = timeTooltip.querySelector('.jw-time-time');
        if (timeEl) {
            var txt = timeEl.textContent || '';
            if (txt) {
                var parts = txt.split(':');
                for (var i=0; i<parts.length; i++) parts[i] = Number(parts[i]);
                var cur = 0;
                if (parts.length === 2) cur = parts[0]*60 + parts[1];
                else if (parts.length === 3) cur = parts[0]*3600 + parts[1]*60 + parts[2];
                applyPos(cur);
            }
        }
    }
}

/* Initialize thumbnails and bind events (single call per player) */
function initializeJWThumbnails(player) {
    if (!player) return;
    var playerContainer = player.getContainer();
    if (!playerContainer) return;

    var isDragging = false;
    var slider = playerContainer.querySelector('.jw-slider-time');

    function updateFromPos(clientX) {
        var tooltip = playerContainer.querySelector('.jw-time-tip');
        if (!tooltip) {
            // force tooltip creation by dispatching mousemove
            try {
                var evt = document.createEvent('MouseEvents');
                evt.initMouseEvent('mousemove', true, true, window, 0, 0,0, clientX, slider.getBoundingClientRect().top - 10, false,false,false,false,0,null);
                slider.dispatchEvent(evt);
            } catch(e) {}
            setTimeout(function(){ 
                var t2 = playerContainer.querySelector('.jw-time-tip');
                if (t2) {
                    var rect = slider.getBoundingClientRect();
                    var pct = Math.min(Math.max((clientX - rect.left) / rect.width, 0), 1);
                    var hover = pct * (player.getDuration() || 0);
                    updateThumbnail(t2, player, hover);
                }
            }, 50);
            return;
        }
        var rect = slider.getBoundingClientRect();
        var pct = Math.min(Math.max((clientX - rect.left) / rect.width, 0), 1);
        var hover = pct * (player.getDuration() || 0);
        updateThumbnail(tooltip, player, hover);
    }

    if (slider) {
        // Throttle para reduzir processamento
        var updateThrottled = throttle(updateFromPos, 50);
        
        // mouse
        $(slider).on('mousemove.thumb', function(e){ updateThrottled(e.clientX); });
        $(slider).on('mousedown.thumb', function(){ isDragging = true; });
        $(document).on('mousemove.thumbDoc', function(e){ if (isDragging) updateThrottled(e.clientX); });
        $(document).on('mouseup.thumbDoc', function(){ isDragging = false; });

        // touch
        $(slider).on('touchstart.thumb', function(e){
            isDragging = true;
            var t = e.originalEvent && e.originalEvent.touches ? e.originalEvent.touches[0] : e.touches[0];
            if (t) updateFromPos(t.clientX);
        });
        $(slider).on('touchmove.thumb', throttle(function(e){
            var t = e.originalEvent && e.originalEvent.touches ? e.originalEvent.touches[0] : e.touches[0];
            if (t) updateFromPos(t.clientX);
        }, 100));
        $(slider).on('touchend.thumb', function(){ isDragging = false; });

        // jwplayer seek events
        player.on('seek', function(ev){ var tip = playerContainer.querySelector('.jw-time-tip'); if (tip && ev && ev.position) updateThumbnail(tip, player, ev.position); });
        player.on('seeked', function(ev){ var tip = playerContainer.querySelector('.jw-time-tip'); if (tip && ev && ev.position) updateThumbnail(tip, player, ev.position); });

        // extra rail listeners
        var rail = slider.querySelector('.jw-rail') || slider;
        $(rail).on('mousemove.thumbRail', function(e){ if (isDragging) updateFromPos(e.clientX); });
        $(rail).on('touchmove.thumbRail', function(e){
            var t = e.originalEvent && e.originalEvent.touches ? e.originalEvent.touches[0] : e.touches[0];
            if (t) updateFromPos(t.clientX);
        });
    } else {
        setTimeout(function(){ initializeJWThumbnails(player); }, 1500);
    }

    // Observe new tooltips (MutationObserver safe-guard) - Apenas se thumbnails estiverem habilitados
    // IMPORTANTE: Aumentar throttle do observer para reduzir overhead durante reprodução
    if (PLAYER_CONFIG.enableThumbnails) {
        try {
            var mo = new MutationObserver(throttle(function(mutations){
                for (var mi=0; mi<mutations.length; mi++) {
                    var m = mutations[mi];
                    if (m.type === 'childList' && m.addedNodes && m.addedNodes.length) {
                        for (var ni=0; ni<m.addedNodes.length; ni++) {
                            var n = m.addedNodes[ni];
                            if (n && n.querySelector) {
                                var ttip = n.classList && n.classList.contains('jw-time-tip') ? n : (n.querySelector('.jw-time-tip')||null);
                                if (ttip) updateThumbnail(ttip, player);
                            }
                        }
                    }
                }
            }, 200)); // Aumentado de 100ms para 200ms para reduzir overhead
            mo.observe(playerContainer, { childList: true, subtree: true });
        } catch(e) { /* ignore if not supported */ }
    }

    // initial check - Apenas se thumbnails estiverem habilitados (lazy)
    if (PLAYER_CONFIG.enableThumbnails) {
        if (DEVICE_INFO.hasIdleCallback) {
            requestIdleCallback(function() {
                var tips = playerContainer.querySelectorAll('.jw-time-tip');
                for (var ti=0; ti<tips.length; ti++) updateThumbnail(tips[ti], player);
            }, { timeout: 1000 });
        } else {
            setTimeout(function() {
                var tips = playerContainer.querySelectorAll('.jw-time-tip');
                for (var ti=0; ti<tips.length; ti++) updateThumbnail(tips[ti], player);
            }, 1000);
        }
    }
}

/* ---------- Lighting (requestAnimationFrame with fallback) ---------- */
// Canvas sempre ativo para player Blogger - Desabilitado em dispositivos fracos
function startLighting() {
    // Verificar se lighting está habilitado
    if (!PLAYER_CONFIG.enableLighting) return;
    
    // Verificar se o player atual é Blogger
    var currentPlayerData = playersData && playersData[PlayerState.currentPlayerIndex] ? playersData[PlayerState.currentPlayerIndex] : null;
    if (!currentPlayerData || currentPlayerData.select !== 'blogger') return;
    if (!PlayerState.videoElement) return;
    
    // Sempre criar canvas se não existir
    if (!PlayerState.lightingCanvas) {
        var c = document.createElement('canvas');
        c.className = 'blurBackground';
        
        // Carregar estado inicial do localStorage para definir display
        var saved = localStorage.getItem('cronos_enable_lighting');
        var defaultDisplay = (saved === 'true') ? 'block' : 'none'; // Padrão: none
        c.style.display = defaultDisplay;
        
        var container = document.getElementById('canvasContainer');
        if (container) container.appendChild(c);
        PlayerState.lightingCanvas = c;
        PlayerState.lightingCanvas._initialized = false; // Flag para inicialização única
    }
    if (PlayerState.lightingCanvas && PlayerState.lightingCanvas.classList) PlayerState.lightingCanvas.classList.add('active');

    // Loop otimizado - pausa quando canvas está oculto para evitar overhead
    function loop() {
        // Verificar se ainda é o player ativo e se o elemento existe
        if (!PlayerState.videoElement || !PlayerState.lightingCanvas) {
            if (PlayerState.frameHandle) {
                if (window.cancelAnimationFrame) cancelAnimationFrame(PlayerState.frameHandle);
                else clearTimeout(PlayerState.frameHandle);
                PlayerState.frameHandle = null;
            }
            return;
        }
        
        // Verificar se o player atual ainda é Blogger
        var currentPlayerData = playersData && playersData[PlayerState.currentPlayerIndex] ? playersData[PlayerState.currentPlayerIndex] : null;
        if (!currentPlayerData || currentPlayerData.select !== 'blogger') {
            if (PlayerState.frameHandle) {
                if (window.cancelAnimationFrame) cancelAnimationFrame(PlayerState.frameHandle);
                else clearTimeout(PlayerState.frameHandle);
                PlayerState.frameHandle = null;
            }
            return;
        }
        
        // IMPORTANTE: Se o canvas estiver oculto, reduzir frequência drasticamente
        // Isso evita overhead desnecessário durante a reprodução
        var isCanvasVisible = PlayerState.lightingCanvas.style.display !== 'none';
        
        if (isCanvasVisible) {
            // Canvas visível: processar normalmente
            captureFrame();
            var frameDelay = DEVICE_INFO.isMobile ? 100 : 16;
            if (window.requestAnimationFrame && !DEVICE_INFO.isLowEnd) {
                PlayerState.frameHandle = requestAnimationFrame(loop);
            } else {
                PlayerState.frameHandle = setTimeout(loop, frameDelay);
            }
        } else {
            // Canvas oculto: reduzir frequência drasticamente (verificar a cada 500ms)
            // Isso evita overhead durante a reprodução quando o lighting está desativado
            PlayerState.frameHandle = setTimeout(loop, 500);
        }
    }
    
    // Parar loop anterior se existir
    if (PlayerState.frameHandle) { 
        if (window.cancelAnimationFrame) cancelAnimationFrame(PlayerState.frameHandle); 
        else clearTimeout(PlayerState.frameHandle); 
        PlayerState.frameHandle = null;
    }
    loop();
}
function stopLighting() {
    // Apenas ocultar o canvas (display: none) - loop continua funcionando
    if (PlayerState.lightingCanvas) {
        PlayerState.lightingCanvas.style.display = 'none';
    }
}

// Função para mostrar canvas (display: block)
function showLighting() {
    if (PlayerState.lightingCanvas) {
        PlayerState.lightingCanvas.style.display = 'block';
    }
}
function captureFrame() {
    if (!PlayerState.lightingCanvas || !PlayerState.videoElement) return;
    
    // IMPORTANTE: Não processar se o canvas estiver oculto (display: none)
    // Isso evita overhead desnecessário durante a reprodução
    if (PlayerState.lightingCanvas.style.display === 'none') {
        return;
    }
    
    var ctx = PlayerState.lightingCanvas.getContext('2d');
    if (!ctx) return;
    
    // IMPORTANTE: Redimensionar canvas apenas uma vez, não a cada frame
    // Isso reduz significativamente o overhead
    if (!PlayerState.lightingCanvas._initialized) {
        PlayerState.lightingCanvas.width = 528;
        PlayerState.lightingCanvas.height = 300;
        PlayerState.lightingCanvas._initialized = true;
    }
    
    try { 
        ctx.drawImage(PlayerState.videoElement, 0, 0, PlayerState.lightingCanvas.width, PlayerState.lightingCanvas.height); 
    }
    catch (e) { 
        // Ignorar erros silenciosamente para não bloquear a reprodução
    }
}

/* ---------- Setup events for jwplayer instance ---------- */
function setupPlayerEvents(player, episodeId) {
    var lastProgress = 0;
    var saveTimer = null;
    var triedSeek = false;

    function trySeek() {
        if (!PLAYER_CONFIG.enableResume || triedSeek) return;

        var saved = loadProgress(episodeId);
        if (saved <= 0) return;

        var dur = player.getDuration ? player.getDuration() : 0;
        if (dur > 0) {
            var seekTo = (saved / 100) * dur;
            try { 
                player.seek(seekTo); 
                triedSeek = true;
                PlayerState.hasResumed = true; // marca só depois do seek
            } catch(e){ 
                console.warn('Erro no seek', e); 
            }
        } else {
            // tenta novamente em 500ms se a duração ainda não estiver disponível
            setTimeout(trySeek, 500);
        }
    }

    if (PLAYER_CONFIG.enableResume) {
        try { 
            player.on('firstFrame', function() {
                trySeek();
                
                // IMPORTANTE: Forçar resize quando o primeiro frame é renderizado
                // Isso ajuda a corrigir problemas de CSS que podem ocorrer na renderização inicial
                try {
                    var $playerEl = $('#jwplayer-video');
                    if ($playerEl.length) {
                        // Remover TODAS as classes problemáticas, incluindo jw-breakpoint-6
                        $playerEl.removeClass('jw-flag-small-player jw-breakpoint-1 jw-breakpoint-2 jw-breakpoint-3 jw-breakpoint-4 jw-breakpoint-5 jw-breakpoint-6 jw-floating-dismissible');
                        
                        // Forçar resize
                        if (typeof player.resize === 'function') {
                            player.resize('100%', null);
                        }
                        
                        // Disparar resize do window
                        $(window).trigger('resize');
                    }
                } catch(e) {
                    console.warn('Erro ao forçar resize no firstFrame:', e);
                }
            }); 
        } catch(e){}
        try { player.on('play', function(){ setTimeout(trySeek, 500); }); } catch(e){}
    }

    // resto da função continua igual
    try { 
        player.on('play', function(){ 
            if (PlayerState.lightingCanvas) PlayerState.lightingCanvas.classList.add('move');
            
            // IMPORTANTE: Forçar resize quando o vídeo começa a reproduzir
            // Isso ajuda a corrigir problemas de CSS que podem ocorrer durante a reprodução
            try {
                var $playerEl = $('#jwplayer-video');
                if ($playerEl.length) {
                    // Remover TODAS as classes problemáticas, incluindo jw-breakpoint-6
                    $playerEl.removeClass('jw-flag-small-player jw-breakpoint-1 jw-breakpoint-2 jw-breakpoint-3 jw-breakpoint-4 jw-breakpoint-5 jw-breakpoint-6 jw-floating-dismissible');
                    
                    // Forçar resize
                    if (typeof player.resize === 'function') {
                        player.resize('100%', null);
                    }
                    
                    // Disparar resize do window
                    $(window).trigger('resize');
                }
            } catch(e) {
                console.warn('Erro ao forçar resize no play:', e);
            }
        }); 
    } catch(e){}
    try { player.on('pause', function(){ if (PlayerState.lightingCanvas) PlayerState.lightingCanvas.classList.remove('move'); }); } catch(e){}

    if (PLAYER_CONFIG.enableProgress) {
        try {
            // Throttle do evento time para reduzir processamento
            // IMPORTANTE: Aumentar throttle para reduzir overhead durante reprodução
            var timeHandler = throttle(function(){
                var cur = player.getPosition ? player.getPosition() : 0;
                var dur = player.getDuration ? player.getDuration() : 0;
                if (dur > 0) {
                    var progress = (cur / dur) * 100;
                    // Aumentar threshold para reduzir chamadas (de 1% para 2%)
                    if (Math.abs(progress - lastProgress) >= 2) {
                        lastProgress = progress;
                        if (saveTimer) clearTimeout(saveTimer);
                        // Aumentar delay em dispositivos móveis
                        var saveDelay = DEVICE_INFO.isMobile ? 10000 : 5000;
                        saveTimer = setTimeout(function(){ saveProgress(episodeId, lastProgress, thumbnail, miniature); }, saveDelay);
                    }
                }
            }, DEVICE_INFO.isMobile ? 3000 : 2000); // Aumentado de 2s/1s para 3s/2s
            
            player.on('time', timeHandler);
            player.on('complete', function(){ saveProgress(episodeId, 100); });
        } catch(e){}
    }

    if (PLAYER_CONFIG.enableThumbnails && miniature) {
        // Lazy load thumbnails usando requestIdleCallback
        if (DEVICE_INFO.hasIdleCallback) {
            requestIdleCallback(function() {
                try { initializeJWThumbnails(player); } catch(e){}
            }, { timeout: 2000 });
        } else {
            setTimeout(function(){ try { initializeJWThumbnails(player); } catch(e){} }, 2000);
        }
    }

    // Lighting sempre ativo para player Blogger
    var cont = player.getContainer ? player.getContainer() : null;
    var video = cont ? cont.querySelector('video') : null;
    if (video) { 
        PlayerState.videoElement = video;
        // Iniciar lighting se for Blogger (canvas sempre ativo, mas display: none por padrão)
        var currentPlayerData = playersData && playersData[PlayerState.currentPlayerIndex] ? playersData[PlayerState.currentPlayerIndex] : null;
        if (currentPlayerData && currentPlayerData.select === 'blogger') {
            startLighting();
        }
    }
}


/* ---------- Blogger player init (uses $.ajax) ---------- */
function initializeBloggerPlayer(playerData, playerIndex) {
    // Prevenir múltiplas inicializações simultâneas (mas permitir retry após timeout)
    if (PlayerState.isInitializing) {
        // Se já está inicializando há mais de 35 segundos, permitir nova tentativa (possível travamento)
        var initStartTime = PlayerState.initStartTime || Date.now();
        var timeSinceInit = Date.now() - initStartTime;
        if (timeSinceInit < 35000) {
            console.warn('Player já está inicializando, ignorando nova tentativa');
            return;
        } else {
            console.warn('Player travado há mais de 35s, permitindo nova tentativa');
            // Resetar flag para permitir retry
            PlayerState.isInitializing = false;
        }
    }
    
    // Limpar timeout anterior se existir
    if (PlayerState.initTimeout) {
        clearTimeout(PlayerState.initTimeout);
        PlayerState.initTimeout = null;
    }
    
    // Cancelar AJAX anterior apenas se não estiver quase completo (evitar cancelar requisições válidas)
    if (PlayerState.currentAjaxRequest && typeof PlayerState.currentAjaxRequest.abort === 'function') {
        // Verificar há quanto tempo a requisição está em andamento
        // Se está há mais de 3 segundos, provavelmente está quase completa, aguardar conclusão
        var ajaxStartTime = PlayerState.ajaxStartTime || Date.now();
        var timeSinceAjax = Date.now() - ajaxStartTime;
        
        if (timeSinceAjax > 3000) {
            console.log('AJAX em andamento há mais de 3s, aguardando conclusão...');
            // Aguardar até 2 segundos adicionais para a requisição completar antes de cancelar
            setTimeout(function() {
                if (PlayerState.currentAjaxRequest && PlayerState.isInitializing) {
                    console.warn('AJAX não completou após espera, cancelando...');
                    PlayerState.currentAjaxRequest.abort();
                }
            }, 2000);
        } else {
            // Requisição ainda está no início, pode cancelar com segurança
            PlayerState.currentAjaxRequest.abort();
        }
    }
    
    PlayerState.isInitializing = true;
    PlayerState.initStartTime = Date.now(); // Registrar tempo de início

    var $player = $('#player');
    $player.html('<div class="loading-container"><div class="loading-spinner"></div><span>Carregando vídeo...</span></div>');

    if (!playerData || !playerData.blogger_token) {
        PlayerState.isInitializing = false;
        showPlayerError('Token do Blogger não disponível');
        return;
    }

    var form = new FormData();
    form.append('action', 'decode_blogger_video');
    form.append('token', playerData.blogger_token);

    // Armazenar referência do AJAX para poder cancelar
    PlayerState.ajaxStartTime = Date.now(); // Registrar tempo de início do AJAX
    PlayerState.currentAjaxRequest = $.ajax({
        url: 'https://goyabu.io/wp-admin/admin-ajax.php',
        type: 'POST',
        data: form,
        processData: false,
        contentType: false,
        dataType: 'json',
        timeout: 60000 // Aumentado para 60 segundos de timeout (era 30s)
    }).done(function(result){
        try {
            if (!result || !result.success) throw new Error((result && result.data && result.data.message) ? result.data.message : 'Erro ao decodificar vídeo');

            var data = result.data || {};
            var play = data.play || [];
            if (!play.length) throw new Error('Nenhum vídeo encontrado');
            
            // Armazenar todas as qualidades disponíveis
            PlayerState.availableQualities = play.map(function(item) {
                return {
                    size: item.size || 0,
                    sizeText: item.sizeText || (item.size >= 720 ? 'HD' : item.size >= 360 ? 'SD' : ''),
                    src: item.src || '',
                    type: item.type || 'video/mp4'
                };
            }).sort(function(a, b) { return b.size - a.size; }); // Ordenar do maior para o menor
            
            // Selecionar qualidade inicial (priorizar 720p, depois 360p, depois a primeira disponível)
            var initialQuality = null;
            for (var i=0; i<PlayerState.availableQualities.length; i++) {
                if (PlayerState.availableQualities[i].size >= 720) {
                    initialQuality = PlayerState.availableQualities[i];
                    break;
                }
            }
            if (!initialQuality) {
                for (var j=0; j<PlayerState.availableQualities.length; j++) {
                    if (PlayerState.availableQualities[j].size >= 360) {
                        initialQuality = PlayerState.availableQualities[j];
                        break;
                    }
                }
            }
            if (!initialQuality) {
                initialQuality = PlayerState.availableQualities[0];
            }
            
            PlayerState.currentQuality = initialQuality;
            var videoUrl = initialQuality.src;
            
            if (!videoUrl) throw new Error('Nenhum vídeo encontrado');

            if (videoUrl.indexOf('http://') !== 0 && videoUrl.indexOf('https://') !== 0) throw new Error('URL inválida');

            var expireMatch = videoUrl.match(/expire=(\d+)/);
            if (expireMatch) {
                var expireTime = parseInt(expireMatch[1],10) * 1000;
                var now = Date.now();
                var minutesLeft = Math.floor((expireTime - now) / 1000 / 60);
                if (minutesLeft <= 0) throw new Error('URL do vídeo expirada');
            }

            // remove previous jw instances safely
            try {
                if (typeof jwplayer === 'function') {
                    try{ jwplayer('jwplayer-video').remove(); }catch(e){}
                    try{ jwplayer().remove(); }catch(e){}
                }
            } catch(e){}

            // Limpar timeout anterior
            if (PlayerState.initTimeout) clearTimeout(PlayerState.initTimeout);
            
            $('#player').empty();
            
            // Função recursiva para verificar dimensões do container
            var checkContainerDimensions = function() {
                if (!PlayerState.isInitializing) return;
                
                var $player = $('#player');
                var $playerWrapper = $player.closest('.playerWrapper');
                
                // Verificar se o container está visível e tem dimensões
                if ($playerWrapper.length && ($playerWrapper.width() === 0 || $playerWrapper.height() === 0)) {
                    console.warn('Container do player sem dimensões, aguardando...');
                    // Tentar novamente após um pequeno delay
                    PlayerState.initTimeout = setTimeout(checkContainerDimensions, 100);
                    return;
                }
                
                // Container está pronto, criar o elemento do player
                $('#player').append('<div id="jwplayer-video"></div>');
                
                // Ocultar imagem de preview pré-carregada quando o player for criado
                var $previewImage = $('#player-preview-image');
                if ($previewImage.length) {
                    $previewImage.css('opacity', '0').css('transition', 'opacity 0.3s');
                    setTimeout(function() {
                        $previewImage.hide();
                    }, 300);
                }
                
                // Garantir que o elemento #jwplayer-video foi criado antes de continuar
                if (!$('#jwplayer-video').length) {
                    showPlayerError('Erro ao criar container do player');
                    return;
                }
                
                // CORREÇÃO: Iniciar observer de classes quando o elemento for criado
                if (typeof window.startPlayerClassObserver === 'function') {
                    window.startPlayerClassObserver();
                }
                
                // CORREÇÃO: Disparar resize antes de setup para garantir dimensões corretas
                $(window).trigger('resize');
                
                // Continuar com a inicialização do player
                // CORREÇÃO: Aumentar timeout de 200ms para 500ms para garantir que container está pronto
                PlayerState.initTimeout = setTimeout(function(){
                    // Verificar novamente se ainda está inicializando
                    if (!PlayerState.isInitializing) return;
                    
                    // Verificar se JWPlayer está carregado - tentar múltiplas vezes se necessário
                    function trySetupPlayer() {
                        // Verificar se jwplayer está disponível e completamente carregado
                        if (typeof jwplayer !== 'function') {
                            console.warn('JWPlayer ainda não carregado, aguardando...');
                            // Tentar novamente após 200ms (máximo 5 segundos)
                            var retryCount = 0;
                            var maxRetries = 25; // 25 * 200ms = 5 segundos
                            var retryInterval = setInterval(function() {
                                retryCount++;
                                if (typeof jwplayer === 'function') {
                                    clearInterval(retryInterval);
                                    // Aguardar um pouco mais para garantir que está completamente inicializado
                                    setTimeout(setupPlayerNow, 100);
                                } else if (retryCount >= maxRetries) {
                                    clearInterval(retryInterval);
                                    PlayerState.isInitializing = false;
                                    if (PlayerState.initTimeout) {
                                        clearTimeout(PlayerState.initTimeout);
                                        PlayerState.initTimeout = null;
                                    }
                                    showPlayerError('JWPlayer não carregado. Por favor, recarregue a página.');
                                }
                            }, 200);
                            return;
                        }
                        
                        // Aguardar um pouco mais para garantir que está completamente inicializado
                        setTimeout(setupPlayerNow, 100);
                    }
                    
                    function setupPlayerNow() {
                        try {
                            // Verificar se o elemento ainda existe
                            if (!$('#jwplayer-video').length) {
                                PlayerState.isInitializing = false;
                                if (PlayerState.initTimeout) {
                                    clearTimeout(PlayerState.initTimeout);
                                    PlayerState.initTimeout = null;
                                }
                                showPlayerError('Erro ao criar container do player');
                                return;
                            }
                            
                            // Verificar se jwplayer está realmente disponível e funcional
                            if (typeof jwplayer !== 'function') {
                                PlayerState.isInitializing = false;
                                if (PlayerState.initTimeout) {
                                    clearTimeout(PlayerState.initTimeout);
                                    PlayerState.initTimeout = null;
                                }
                                showPlayerError('JWPlayer não está disponível. Por favor, recarregue a página.');
                                return;
                            }
                            
                            // Tentar obter uma instância vazia para verificar se está funcional
                            try {
                                var testPlayer = jwplayer('#jwplayer-video');
                                if (!testPlayer) {
                                    throw new Error('JWPlayer não conseguiu obter instância do elemento');
                                }
                            } catch (testError) {
                                console.warn('JWPlayer ainda não está pronto, tentando novamente...', testError);
                                // Tentar novamente após 300ms
                                setTimeout(function() {
                                    if (PlayerState.isInitializing) {
                                        setupPlayerNow();
                                    }
                                }, 300);
                                return;
                            }
                            
                            PlayerState.currentPlayerIndex = playerIndex;
                            
                            // Timeout de segurança: se o player não carregar em 30 segundos, mostrar erro (era 15s)
                            var loadTimeout = setTimeout(function() {
                                if (PlayerState.isInitializing) {
                                    console.error('Timeout ao carregar JWPlayer');
                                    PlayerState.isInitializing = false;
                                    // Tentar retry automático uma vez antes de mostrar erro
                                    if (!PlayerState.retryAttempted) {
                                        PlayerState.retryAttempted = true;
                                        console.log('Tentando retry automático...');
                                        setTimeout(function() {
                                            if (PlayerState.isInitializing === false) {
                                                initializeBloggerPlayer(playerData, playerIndex);
                                            }
                                        }, 1000);
                                    } else {
                                        showPlayerError('Timeout ao carregar o vídeo. Por favor, recarregue a página.');
                                    }
                                }
                            }, 30000);
                            
                            // Garantir que o elemento está visível
                            var $playerElement = $('#jwplayer-video');
                            if (!$playerElement.length || $playerElement.is(':hidden')) {
                                console.warn('Elemento do player oculto, aguardando...');
                                // Tentar novamente após um delay
                                if (loadTimeout) clearTimeout(loadTimeout);
                                setTimeout(function() {
                                    if (PlayerState.isInitializing) {
                                        initializeBloggerPlayer(playerData, playerIndex);
                                    }
                                }, 500);
                                return;
                            }
                            
                            // Verificar dimensões (mas não bloquear se for 0, deixar JWPlayer resolver)
                            var playerWidth = $playerElement.width();
                            var playerHeight = $playerElement.height();
                            
                            // Se ainda não tem dimensões, tentar forçar cálculo
                            if (playerWidth === 0 || playerHeight === 0) {
                                // Forçar reflow para calcular dimensões
                                $playerElement[0].offsetHeight;
                                
                                // Tentar novamente após um pequeno delay
                                if (loadTimeout) clearTimeout(loadTimeout);
                                setTimeout(function() {
                                    if (PlayerState.isInitializing) {
                                        setupPlayerNow();
                                    }
                                }, 100);
                                return;
                            }
                            
                            // Preparar sources para múltiplas qualidades
                            var playlistItem = {
                                image: thumbnail || undefined,
                                sources: []
                            };
                            
                            // Adicionar todas as qualidades disponíveis como sources
                            if (PlayerState.availableQualities.length > 0) {
                                for (var qIdx = 0; qIdx < PlayerState.availableQualities.length; qIdx++) {
                                    var quality = PlayerState.availableQualities[qIdx];
                                    var qualityLabel = quality.sizeText || (quality.size >= 720 ? 'HD' : quality.size >= 360 ? 'SD' : quality.size + 'p');
                                    playlistItem.sources.push({
                                        file: quality.src,
                                        type: quality.type || 'mp4',
                                        label: qualityLabel,
                                        default: (quality.size === PlayerState.currentQuality.size)
                                    });
                                }
                            } else {
                                // Fallback se não houver qualidades armazenadas
                                var currentVideoUrl = (PlayerState.currentQuality && PlayerState.currentQuality.src) ? PlayerState.currentQuality.src : videoUrl;
                                playlistItem.sources.push({
                                    file: currentVideoUrl,
                                    type: 'mp4',
                                    label: 'Auto',
                                    default: true
                                });
                            }
                            
                            var p = jwplayer('jwplayer-video').setup({
                                playlist: [playlistItem],
                                width: '100%', aspectratio: '16:9', stretching: 'uniform',
                                autostart: false, primary: 'html5', preload: 'metadata',
                                controls: true, mute: false, volume: 25,
                                floating: false, /* Desabilitar floating mode para evitar conflitos */
                                abouttext: siteInfo.name, aboutlink: siteInfo.url,
                                analytics: { enabled: false }, advertising: { client: 'vast' },
                                // Habilitar menu de configurações
                                displaytitle: false,
                                displaydescription: false
                            });
                            PlayerState.currentPlayerInstance = p;
                            
                            // Armazenar referência do loadTimeout para poder limpar depois
                            p._loadTimeout = loadTimeout;
                            
                            // Handler de ready
                            var readyHandler = function(){ 
                                if (p._loadTimeout) {
                                    clearTimeout(p._loadTimeout);
                                    p._loadTimeout = null;
                                }
                                
                                // Garantir que a imagem de preview pré-carregada esteja oculta
                                var $previewImage = $('#player-preview-image');
                                if ($previewImage.length) {
                                    $previewImage.css('opacity', '0').css('transition', 'opacity 0.3s');
                                    setTimeout(function() {
                                        $previewImage.hide();
                                    }, 300);
                                }
                                
                                PlayerState.isInitializing = false;
                                PlayerState.initStartTime = null; // Limpar timestamp
                                PlayerState.ajaxStartTime = null; // Limpar timestamp do AJAX
                                PlayerState.retryAttempted = false; // Resetar flag de retry
                                if (PlayerState.initTimeout) {
                                    clearTimeout(PlayerState.initTimeout);
                                    PlayerState.initTimeout = null;
                                }
                                
                                // CORREÇÃO: Forçar resize imediatamente após ready para corrigir breakpoints
                                // IMPORTANTE: Remover TODAS as classes problemáticas, incluindo jw-breakpoint-6
                                try {
                                    // Função para remover classes problemáticas e forçar resize
                                    function forceResizeAndCleanClasses() {
                                        var $playerEl = $('#jwplayer-video');
                                        if ($playerEl.length) {
                                            // Remover TODAS as classes de breakpoint problemáticas
                                            $playerEl.removeClass('jw-flag-small-player jw-breakpoint-1 jw-breakpoint-2 jw-breakpoint-3 jw-breakpoint-4 jw-breakpoint-5 jw-breakpoint-6 jw-floating-dismissible');
                                            
                                            // Forçar resize
                                            if (typeof p.resize === 'function') {
                                                p.resize('100%', null);
                                            }
                                            
                                            // Forçar recálculo de layout
                                            $playerEl[0].offsetHeight;
                                        }
                                    }
                                    
                                    // Executar imediatamente
                                    forceResizeAndCleanClasses();
                                    
                                    // Disparar resize do window
                                    $(window).trigger('resize');
                                    
                                    // Disparar múltiplos resizes para garantir que o JWPlayer recalcule breakpoints
                                    setTimeout(function() {
                                        try {
                                            forceResizeAndCleanClasses();
                                            $(window).trigger('resize');
                                        } catch(resizeErr) {
                                            console.warn('Erro ao forçar resize:', resizeErr);
                                        }
                                    }, 50);
                                    
                                    // Segunda tentativa após 200ms
                                    setTimeout(function() {
                                        try {
                                            forceResizeAndCleanClasses();
                                            $(window).trigger('resize');
                                        } catch(resizeErr) {
                                            console.warn('Erro ao forçar resize (tentativa 2):', resizeErr);
                                        }
                                    }, 200);
                                    
                                    // Terceira tentativa após 500ms
                                    setTimeout(function() {
                                        try {
                                            forceResizeAndCleanClasses();
                                            $(window).trigger('resize');
                                        } catch(resizeErr) {
                                            console.warn('Erro ao forçar resize (tentativa 3):', resizeErr);
                                        }
                                    }, 500);
                                    
                                    // Log do estado para debug
                                    if (p && p.getState) {
                                        console.log('JWPlayer ready - State:', p.getState());
                                    }
                                } catch(resizeErr) {
                                    console.warn('Erro ao forçar resize no ready:', resizeErr);
                                }
                                
                                setupPlayerEvents(p, PlayerState.episodeId);
                                
                                // IMPORTANTE: Forçar resize adicional após um delay para garantir que CSS está correto
                                // Isso ajuda a corrigir problemas de CSS que podem ocorrer após o player estar pronto
                                setTimeout(function() {
                                    try {
                                        var $playerEl = $('#jwplayer-video');
                                        if ($playerEl.length && p) {
                                            // Remover TODAS as classes problemáticas, incluindo jw-breakpoint-6
                                            $playerEl.removeClass('jw-flag-small-player jw-breakpoint-1 jw-breakpoint-2 jw-breakpoint-3 jw-breakpoint-4 jw-breakpoint-5 jw-breakpoint-6 jw-floating-dismissible');
                                            
                                            // Forçar resize novamente
                                            if (typeof p.resize === 'function') {
                                                p.resize('100%', null);
                                            }
                                            
                                            // Disparar resize do window para forçar recálculo completo
                                            $(window).trigger('resize');
                                            
                                            // Forçar recálculo de layout
                                            $playerEl[0].offsetHeight;
                                        }
                                    } catch(e) {
                                        console.warn('Erro ao forçar resize adicional:', e);
                                    }
                                }, 1000); // Após 1 segundo do ready
                            };
                            
                            // Handler de erro robusto (prevenir crash do JWPlayer)
                            var errorHandler = function(e){ 
                                try {
                                    // Prevenir erro de null.toString() - validar objeto de erro primeiro
                                    if (!e || typeof e !== 'object') {
                                        e = { message: 'Erro desconhecido ao carregar o vídeo', code: 0 };
                                    }
                                    
                                    if (p && p._loadTimeout) {
                                        clearTimeout(p._loadTimeout);
                                        p._loadTimeout = null;
                                    }
                                    
                                    // Marcar que já está tratando erro para evitar loops
                                    if (p && p._errorHandled) {
                                        return;
                                    }
                                    if (p) {
                                        p._errorHandled = true;
                                    }
                                    
                                    // Extrair informações do erro de forma segura
                                    var errorMsg = 'Erro ao carregar o vídeo';
                                    var errorCode = null;
                                    
                                    // Tratar MediaError (código 2 = fonte de dados)
                                    if (e.code === 2 || (e.message && e.message.includes('FFmpegDemuxer'))) {
                                        errorMsg = 'Erro ao carregar a fonte de vídeo. A URL pode estar inválida, expirada ou bloqueada.';
                                        errorCode = 2;
                                    } else if (e.code === 23000 || (e.message && e.message.includes('CORS'))) {
                                        errorMsg = 'Erro de CORS: O vídeo não pode ser carregado devido a restrições de segurança.';
                                        errorCode = 23000;
                                    } else if (e.code === 232011) {
                                        errorMsg = 'Erro de rede: Não foi possível conectar ao servidor de vídeo.';
                                        errorCode = 232011;
                                    } else if (e.message && typeof e.message === 'string') {
                                        // Validar que message é uma string antes de usar
                                        errorMsg = e.message;
                                    } else if (e.code && typeof e.code === 'number') {
                                        // Validar que code é um número antes de converter
                                        errorCode = e.code;
                                        errorMsg = 'Erro ' + errorCode + ': Não foi possível carregar o vídeo';
                                    }
                                    
                                    // Log seguro (sem causar erros)
                                    try {
                                        console.error('JWPlayer error', {
                                            code: errorCode || e.code || 'unknown',
                                            message: errorMsg,
                                            originalError: e
                                        });
                                    } catch (logErr) {
                                        // Ignorar erros de log
                                    }
                                    
                                    // Limpar o player e mostrar mensagem de erro
                                    PlayerState.isInitializing = false;
                                    showPlayerError(errorMsg);
                                } catch (handlerErr) {
                                    // Fallback caso o próprio handler de erro falhe
                                    try {
                                        PlayerState.isInitializing = false;
                                        showPlayerError('Erro inesperado ao processar erro do player. Por favor, recarregue a página.');
                                    } catch (finalErr) {
                                        // Último recurso - apenas logar
                                        console.error('Erro crítico no handler de erro:', finalErr);
                                    }
                                }
                            };
                            
                            // Handler para detectar quando o setup falha
                            var setupErrorHandler = function(e) {
                                try {
                                    if (p && p._loadTimeout) {
                                        clearTimeout(p._loadTimeout);
                                        p._loadTimeout = null;
                                    }
                                    
                                    // Validar erro antes de processar
                                    if (!e || typeof e !== 'object') {
                                        e = { message: 'Erro ao configurar o player', code: 0 };
                                    }
                                    
                                    try {
                                        console.error('JWPlayer setup error', e);
                                    } catch (logErr) {
                                        // Ignorar erros de log
                                    }
                                    
                                    errorHandler(e);
                                } catch (handlerErr) {
                                    try {
                                        PlayerState.isInitializing = false;
                                        showPlayerError('Erro ao configurar o player. Por favor, recarregue a página.');
                                    } catch (finalErr) {
                                        console.error('Erro crítico no setupErrorHandler:', finalErr);
                                    }
                                }
                            };
                            
                            // Adicionar handlers de erro com try-catch para prevenir crashes
                            try {
                                p.on('ready', readyHandler);
                            } catch (e) {
                                console.warn('Erro ao adicionar handler ready:', e);
                            }
                            
                            try {
                                p.on('error', errorHandler);
                            } catch (e) {
                                console.warn('Erro ao adicionar handler error:', e);
                            }
                            
                            try {
                                p.on('setupError', setupErrorHandler);
                            } catch (e) {
                                console.warn('Erro ao adicionar handler setupError:', e);
                            }
                            
                            try {
                                p.on('playbackError', errorHandler);
                            } catch (e) {
                                console.warn('Erro ao adicionar handler playbackError:', e);
                            }
                            
                            // Verificar se há erro imediato após setup
                            setTimeout(function() {
                                try {
                                    if (p && p.getState) {
                                        var state = p.getState();
                                        // Se está em erro imediatamente, tratar como falha
                                        if (state === 'error') {
                                            errorHandler({ message: 'Falha ao carregar o vídeo. A URL pode estar inválida ou expirada.' });
                                            return;
                                        }
                                        // Se ainda está em idle após 3 segundos sem carregar, verificar novamente
                                        if (state === 'idle') {
                                            setTimeout(function() {
                                                try {
                                                    if (p && p.getState && p.getState() === 'error') {
                                                        errorHandler({ message: 'Falha ao inicializar o player' });
                                                    } else if (p && p.getState && p.getState() === 'idle') {
                                                        // Se ainda está em idle após 5 segundos, pode ser problema de carregamento
                                                        console.warn('Player ainda em idle, verificando...');
                                                    }
                                                } catch(checkErr) {
                                                    console.warn('Erro ao verificar estado:', checkErr);
                                                }
                                            }, 3000);
                                        }
                                    }
                                } catch(checkErr) {
                                    console.warn('Erro ao verificar estado:', checkErr);
                                }
                            }, 1000);
                        } catch(e){
                            // loadTimeout pode não estar definido neste escopo, mas tentar limpar mesmo assim
                            try {
                                if (typeof loadTimeout !== 'undefined') {
                                    clearTimeout(loadTimeout);
                                }
                            } catch(clearErr) {
                                // Ignorar
                            }
                            console.error('Erro ao criar player:', e);
                            
                            // Limpar e mostrar erro
                            showPlayerError('Erro ao criar player: ' + (e.message || String(e)));
                        }
                    }
                    
                    // Chamar trySetupPlayer para iniciar o processo
                    trySetupPlayer();

                }, 500); /* CORREÇÃO: Aumentado de 200ms para 500ms para garantir que container está pronto */
            };
            
            // Iniciar verificação de dimensões
            PlayerState.initTimeout = setTimeout(checkContainerDimensions, 200);

        } catch(err) {
            console.error('Erro no initializeBloggerPlayer:', err);
            showPlayerError(err && err.message ? err.message : String(err));
        }
    }).fail(function(jqXHR, textStatus, errorThrown){
        // Ignorar erros de abort (quando a requisição é cancelada propositalmente)
        if (textStatus === 'abort') {
            console.log('Requisição AJAX cancelada');
            // IMPORTANTE: Resetar flag mesmo em caso de abort para evitar travamento
            PlayerState.isInitializing = false;
            PlayerState.initStartTime = null;
            PlayerState.ajaxStartTime = null; // Limpar timestamp do AJAX
            return;
        }
        
        // IMPORTANTE: Resetar flag em caso de erro para permitir retry
        PlayerState.isInitializing = false;
        PlayerState.initStartTime = null;
        PlayerState.ajaxStartTime = null; // Limpar timestamp do AJAX
        
        var errorMsg = 'Erro na requisição';
        if (textStatus === 'timeout') {
            errorMsg = 'Tempo limite excedido ao carregar vídeo';
            // Tentar retry automático em caso de timeout (apenas uma vez)
            if (!PlayerState.retryAttempted) {
                PlayerState.retryAttempted = true;
                console.log('Timeout detectado, tentando retry automático...');
                setTimeout(function() {
                    initializeBloggerPlayer(playerData, playerIndex);
                }, 2000);
                return; // Não mostrar erro ainda, aguardar retry
            }
        } else if (jqXHR.status) {
            errorMsg = 'Erro ' + jqXHR.status + ': ' + (jqXHR.responseJSON?.message || textStatus);
        }
        
        showPlayerError(errorMsg);
        PlayerState.currentAjaxRequest = null;
    }).always(function(){
        // Limpar referência do AJAX após completar
        PlayerState.currentAjaxRequest = null;
        PlayerState.ajaxStartTime = null; // Limpar timestamp do AJAX
    });
}

/* ---------- Iframe player ---------- */
function initializeIframePlayer(playerData, playerIndex) {
    try { if (PlayerState.currentPlayerInstance && typeof PlayerState.currentPlayerInstance.remove === 'function') PlayerState.currentPlayerInstance.remove(); } catch(e){}
    PlayerState.currentPlayerInstance = null;
    // Ocultar canvas ao mudar para iframe (mas loop continua)
    if (PlayerState.lightingCanvas) {
        PlayerState.lightingCanvas.style.display = 'none';
    }
    // Parar loop de lighting se estiver rodando
    if (PlayerState.frameHandle) {
        if (window.cancelAnimationFrame) cancelAnimationFrame(PlayerState.frameHandle);
        else clearTimeout(PlayerState.frameHandle);
        PlayerState.frameHandle = null;
    }
    
    // Ocultar imagem de preview pré-carregada quando mudar para iframe
    var $previewImage = $('#player-preview-image');
    if ($previewImage.length) {
        $previewImage.css('opacity', '0').css('transition', 'opacity 0.3s');
        setTimeout(function() {
            $previewImage.hide();
        }, 300);
    }
    
    // Decifrar URL se estiver cifrada (Player 2)
    var url = '';
    if (playerData && playerData.url) {
        url = playerData.url;
    } else if (playerData && playerData.url_encrypted) {
        // URL está cifrada, decifrar usando mesmo método do token (inverter + base64)
        var decryptedUrl = decryptBloggerUrl(playerData.url_encrypted);
        if (decryptedUrl) {
            url = decryptedUrl;
        } else {
            // Fallback: fazer requisição ao servidor para decifrar
            showPlayerError('Carregando player...');
            $.ajax({
                url: 'https://goyabu.io/wp-admin/admin-ajax.php',
                method: 'POST',
                data: {
                    action: 'decrypt_blogger_url',
                    encrypted_url: playerData.url_encrypted
                },
                success: function(response) {
                    if (response.success && response.data && response.data.url) {
                        url = response.data.url;
                        $('#player').html(
                            '<iframe src="'+ url +'" frameborder="0" scrolling="no" allowfullscreen width="100%" height="100%" style="width:100%;height:100%;"></iframe>'
                        );
                    } else {
                        showPlayerError('Erro ao carregar player');
                    }
                },
                error: function() {
                    showPlayerError('Erro ao decifrar URL do player');
                }
            });
            return; // Sair da função, URL será carregada no callback do AJAX
        }
    }
    
    if (!url) {
        showPlayerError('URL do player não disponível');
        return;
    }
    
    $('#player').html(
        '<iframe src="'+ url +'" frameborder="0" scrolling="no" allowfullscreen width="100%" height="100%" style="width:100%;height:100%;"></iframe>'
    );
}

/* ---------- Helper function to show error message ---------- */
function showPlayerError(message) {
    // Resetar flag primeiro para evitar loops
    PlayerState.isInitializing = false;
    PlayerState.initStartTime = null; // Limpar timestamp
    PlayerState.ajaxStartTime = null; // Limpar timestamp do AJAX
    PlayerState.retryAttempted = false; // Resetar flag de retry
    
    // Limpar instâncias do JWPlayer
    try {
        if (PlayerState.currentPlayerInstance && typeof PlayerState.currentPlayerInstance.remove === 'function') {
            PlayerState.currentPlayerInstance.remove();
        }
        PlayerState.currentPlayerInstance = null;
        
        if (typeof jwplayer === 'function') {
            try { jwplayer('jwplayer-video').remove(); } catch(e){}
        }
    } catch(e) {
        console.warn('Erro ao limpar player:', e);
    }
    
    // Limpar timeouts
    if (PlayerState.initTimeout) {
        clearTimeout(PlayerState.initTimeout);
        PlayerState.initTimeout = null;
    }
    
    // Mostrar mensagem de erro
    $('#player').html('<div class="loading-container" style="color:#ff6b6b; padding: 40px 20px; text-align: center;">' +
        '❌ ' + (message || 'Erro ao carregar o vídeo') + 
        '<br><small style="color: #999; margin-top: 10px; display: block;">Por favor, tente novamente ou recarregue a página.</small>' +
        '</div>');
}

/* ---------- Cleanup function ---------- */
function cleanupPlayer() {
    try {
        // Resetar flag de inicialização
        PlayerState.isInitializing = false;
        PlayerState.initStartTime = null; // Limpar timestamp
        PlayerState.ajaxStartTime = null; // Limpar timestamp do AJAX
        PlayerState.retryAttempted = false; // Resetar flag de retry
        
        // Resetar qualidades disponíveis
        PlayerState.availableQualities = [];
        PlayerState.currentQuality = null;
        
        // Parar loop do canvas
        if (PlayerState.frameHandle) {
            if (window.cancelAnimationFrame) cancelAnimationFrame(PlayerState.frameHandle);
            else clearTimeout(PlayerState.frameHandle);
            PlayerState.frameHandle = null;
        }
        
        // Limpar video element
        PlayerState.videoElement = null;
        
        // Ocultar canvas
        if (PlayerState.lightingCanvas) {
            PlayerState.lightingCanvas.style.display = 'none';
        }
        
        // CORREÇÃO: Remover classes problemáticas do JWPlayer antes de remover instância
        try {
            var $playerElement = $('#jwplayer-video');
            if ($playerElement.length) {
                // Remover classes de breakpoint que podem causar problemas
                $playerElement.removeClass('jw-flag-small-player jw-breakpoint-1 jw-floating-dismissible');
                // Remover classes de aspect ratio duplicadas
                $playerElement.find('.jw-aspect').removeClass('jw-aspect');
            }
        } catch(cleanupErr) {
            console.warn('Erro ao limpar classes do player:', cleanupErr);
        }
        
        // Remover instância do JWPlayer
        if (PlayerState.currentPlayerInstance) {
            try {
                if (typeof PlayerState.currentPlayerInstance.remove === 'function') {
                    PlayerState.currentPlayerInstance.remove();
                }
            } catch(e) {
                console.warn('Erro ao remover instância do player:', e);
            }
            PlayerState.currentPlayerInstance = null;
        }
        
        // Tentar remover instâncias órfãs do JWPlayer
        try {
            if (typeof jwplayer === 'function') {
                try { 
                    var playerEl = jwplayer('jwplayer-video');
                    if (playerEl && typeof playerEl.remove === 'function') {
                        playerEl.remove();
                    }
                } catch(e) {
                    // Ignorar - elemento pode não existir
                }
                try { 
                    var anyPlayer = jwplayer();
                    if (anyPlayer && typeof anyPlayer.remove === 'function') {
                        anyPlayer.remove();
                    }
                } catch(e) {
                    // Ignorar - pode não haver instâncias
                }
            }
        } catch(e) {
            // Ignorar erros ao tentar remover
        }
        
        // Cancelar AJAX pendente
        if (PlayerState.currentAjaxRequest && typeof PlayerState.currentAjaxRequest.abort === 'function') {
            PlayerState.currentAjaxRequest.abort();
            PlayerState.currentAjaxRequest = null;
        }
        
        // Limpar timeouts
        if (PlayerState.initTimeout) {
            clearTimeout(PlayerState.initTimeout);
            PlayerState.initTimeout = null;
        }
        
    } catch(e) {
        console.error('Erro no cleanup:', e);
        // Garantir que o estado seja resetado mesmo em caso de erro
        PlayerState.isInitializing = false;
    }
}

/* ---------- Funções de preferência do player ---------- */
function getPlayerPreference() {
    try {
        var pref = localStorage.getItem('cronos_player_preference');
        return pref ? parseInt(pref, 10) : null;
    } catch(e) {
        return null;
    }
}

function savePlayerPreference(index) {
    try {
        localStorage.setItem('cronos_player_preference', String(index));
    } catch(e) {
        console.warn('Erro ao salvar preferência do player:', e);
    }
}

/* ---------- switchPlayer (global) ---------- */
window.switchPlayer = function(index) {
    try {
        // Validar índice
        if (typeof index !== 'number' || index < 0 || !playersData || index >= playersData.length) {
            console.error('Índice de player inválido:', index);
            return;
        }
        
        // Se já está no mesmo player e está inicializado, ignorar
        if (index === PlayerState.currentPlayerIndex && PlayerState.currentPlayerInstance !== null && !PlayerState.isInitializing) {
            return;
        }
        
        // Fazer cleanup antes de mudar
        cleanupPlayer();
        
        PlayerState.currentPlayerIndex = index;
        var playerData = playersData && playersData[index] ? playersData[index] : null;

        if (!playerData) {
            console.error('Player data não encontrado para índice:', index);
            return;
        }

        // Salvar preferência no localStorage
        savePlayerPreference(index);

        // Atualizar tabs - corrigir destaque e animação
        $('.player-tab, .episodes-tabs .btn-style[data-player-index]').each(function(){
            var $tab = $(this);
            var tabIndex = parseInt($tab.attr('data-player-index') || $tab.data('player-index') || '-1', 10);
            var $animation = $tab.find('.audio-wave-animation');
            
            if (tabIndex === index) {
                $tab.addClass('active');
                // Mostrar animação no player ativo
                if ($animation.length) {
                    $animation.show();
                }
            } else {
                $tab.removeClass('active');
                // Ocultar animação nos outros players
                if ($animation.length) {
                    $animation.hide();
                }
            }
        });
        
        // Controlar animação baseado no tipo de player
        updatePlayerTabAnimation(index, playerData);

        // Limpar container
        $('#player').empty();
        
        // Resetar flags de inicialização se estava travado
        PlayerState.isInitializing = false;
        PlayerState.initStartTime = null;
        PlayerState.ajaxStartTime = null; // Limpar timestamp do AJAX
        PlayerState.retryAttempted = false; // Resetar flag de retry ao mudar de player

        // Desabilitar lighting e miniaturas no Player 2
        var isPlayer2 = playerData.isPlayer2 === true || playerData.select === 'iframe';
        if (isPlayer2) {
            // Ocultar canvas de lighting
            if (PlayerState.lightingCanvas) {
                PlayerState.lightingCanvas.style.display = 'none';
            }
            // Desabilitar thumbnails temporariamente
            PLAYER_CONFIG.enableThumbnails = false;
            PLAYER_CONFIG.enableLighting = false;
        } else {
            // Reabilitar thumbnails e lighting se não for Player 2
            PLAYER_CONFIG.enableThumbnails = !DEVICE_INFO.isLowEnd;
            PLAYER_CONFIG.enableLighting = !DEVICE_INFO.isLowEnd;
        }

        // Inicializar novo player
        if (playerData.select === 'blogger' && !isPlayer2) {
            initializeBloggerPlayer(playerData, index);
        } else if (playerData.select === 'iframe' || isPlayer2) {
            initializeIframePlayer(playerData, index);
        } else {
            // Fallback para outros tipos de player
            initializeIframePlayer(playerData, index);
        }
        
        // Atualizar animação de áudio após mudança de player
        setTimeout(function() {
            if (typeof window.initAudioWaveAnimation === 'function') {
                window.initAudioWaveAnimation();
            }
            // Atualizar animação nos botões dos players
            updatePlayerTabAnimation(index, playerData);
        }, 500);

    } catch(e) { 
        console.error('switchPlayer error', e);
        PlayerState.isInitializing = false;
    }
};

/* ---------- Função para controlar animação nos botões dos players ---------- */
function updatePlayerTabAnimation(playerIndex, playerData) {
    var $activeTab = $('.player-tab[data-player-index="' + playerIndex + '"]');
    var $animation = $activeTab.find('.audio-wave-animation');
    
    if (!$animation.length) return;
    
    // Verificar se é Player 2 (iframe)
    var isPlayer2 = playerData && (playerData.isPlayer2 === true || playerData.select === 'iframe');
    
    if (isPlayer2) {
        // Player 2: animação sempre rodando
        $animation.removeClass('paused');
    } else {
        // Player JW: controlar baseado no estado do player
        var player = PlayerState.currentPlayerInstance;
        if (player && typeof player.getState === 'function') {
            var state = player.getState();
            if (state === 'playing') {
                $animation.removeClass('paused');
            } else {
                $animation.addClass('paused');
            }
            
            // Adicionar listeners para eventos do player
            try {
                player.on('play', function() {
                    $animation.removeClass('paused');
                });
                
                player.on('pause', function() {
                    $animation.addClass('paused');
                });
                
                player.on('idle', function() {
                    $animation.addClass('paused');
                });
                
                player.on('complete', function() {
                    $animation.addClass('paused');
                });
            } catch(e) {
                console.warn('Erro ao adicionar listeners de animação:', e);
            }
        } else {
            // Se player ainda não está pronto, verificar periodicamente
            var checkAttempts = 0;
            var checkInterval = setInterval(function() {
                checkAttempts++;
                var player = PlayerState.currentPlayerInstance;
                
                if (player && typeof player.getState === 'function') {
                    clearInterval(checkInterval);
                    var state = player.getState();
                    if (state === 'playing') {
                        $animation.removeClass('paused');
                    } else {
                        $animation.addClass('paused');
                    }
                    
                    // Adicionar listeners
                    try {
                        player.on('play', function() {
                            $animation.removeClass('paused');
                        });
                        
                        player.on('pause', function() {
                            $animation.addClass('paused');
                        });
                        
                        player.on('idle', function() {
                            $animation.addClass('paused');
                        });
                        
                        player.on('complete', function() {
                            $animation.addClass('paused');
                        });
                    } catch(e) {
                        console.warn('Erro ao adicionar listeners de animação:', e);
                    }
                } else if (checkAttempts > 50) {
                    // Timeout após 5 segundos
                    clearInterval(checkInterval);
                }
            }, 100);
        }
    }
}

/* ---------- waitForJWPlayer and init ---------- */
function waitForJWPlayer(callback, maxAttempts) {
    if (typeof maxAttempts === 'undefined') maxAttempts = 50;
    var attempts = 0;
    var check = setInterval(function(){
        attempts++;
        if (typeof jwplayer === 'function') { clearInterval(check); callback(); }
        else if (attempts >= maxAttempts) { clearInterval(check); console.error('Timeout JWPlayer'); }
    }, 100);
}

$(document).ready(function(){
    // Proteção global para erros do JWPlayer (prevenir crash com null.toString())
    window.addEventListener('error', function(event) {
        // Validar event e message antes de processar
        if (!event) return false;
        
        var errorMessage = '';
        var errorFilename = '';
        
        try {
            errorMessage = event.message || '';
            errorFilename = event.filename || '';
        } catch (e) {
            // Se não conseguir ler propriedades, ignorar
            return false;
        }
        
        // Verificar se é um erro do JWPlayer relacionado a null.toString()
        // Usar indexOf para compatibilidade (includes pode não estar disponível)
        var isJWPlayerError = false;
        if (errorMessage) {
            isJWPlayerError = (
                errorMessage.indexOf('Cannot read properties of null') !== -1 ||
                errorMessage.indexOf('null.toString') !== -1 ||
                errorMessage.indexOf('toString') !== -1 ||
                errorMessage.indexOf('jwplayer') !== -1 ||
                (errorFilename && errorFilename.indexOf('jwplayer') !== -1)
            );
        }
        
        if (isJWPlayerError) {
            // Prevenir que o erro seja propagado e quebre o código
            event.preventDefault();
            event.stopPropagation();
            
            // Log seguro
            try {
                console.warn('JWPlayer: Erro interno capturado e prevenido:', {
                    message: event.message,
                    filename: event.filename,
                    lineno: event.lineno
                });
            } catch (e) {
                // Ignorar erros de log
            }
            
            // Se o player está inicializando, mostrar erro amigável
            if (PlayerState.isInitializing) {
                PlayerState.isInitializing = false;
                try {
                    showPlayerError('Erro ao carregar o player. Por favor, recarregue a página.');
                } catch (e) {
                    // Ignorar se showPlayerError falhar
                }
            }
            
            return false;
        }
    }, true); // Usar capture phase para capturar antes de propagar
    
    if (!playersData || !playersData.length) {
        console.error('Nenhum player disponível');
        return;
    }
    
    // CORREÇÃO: Listener global de resize para forçar recálculo do JWPlayer - Throttled
    $(window).on('resize.jwplayer', throttle(function() {
        if (PlayerState.currentPlayerInstance && typeof PlayerState.currentPlayerInstance.resize === 'function') {
            try {
                // Remover TODAS as classes problemáticas antes de redimensionar, incluindo jw-breakpoint-6
                var $playerEl = $('#jwplayer-video');
                if ($playerEl.length) {
                    $playerEl.removeClass('jw-flag-small-player jw-breakpoint-1 jw-breakpoint-2 jw-breakpoint-3 jw-breakpoint-4 jw-breakpoint-5 jw-breakpoint-6');
                }
                
                PlayerState.currentPlayerInstance.resize('100%', null);
            } catch(e) {
                console.warn('Erro ao redimensionar player:', e);
            }
        }
    }, 250));
    
    // CORREÇÃO: Observer para remover classes problemáticas - Throttled e otimizado
    if (typeof MutationObserver !== 'undefined' && !DEVICE_INFO.isLowEnd) {
        var classObserver = null;
        var lastCheck = 0;
        var checkInterval = 500; // Verificar no máximo a cada 500ms
        
        function startObservingPlayer() {
            var $playerEl = $('#jwplayer-video');
            if ($playerEl.length && !classObserver) {
                classObserver = new MutationObserver(throttle(function(mutations) {
                    var now = Date.now();
                    if (now - lastCheck < checkInterval) return;
                    lastCheck = now;
                    
                    mutations.forEach(function(mutation) {
                        if (mutation.type === 'attributes' && mutation.attributeName === 'class') {
                            var target = mutation.target;
                            
                            // Verificar se é o elemento do player
                            if (target.id === 'jwplayer-video') {
                                var $playerEl = $('#jwplayer-video');
                                if ($playerEl.length) {
                                    // Verificar se tem classes problemáticas (incluindo jw-breakpoint-6)
                                    var hasProblematicClass = $playerEl.hasClass('jw-flag-small-player') || 
                                                             $playerEl.hasClass('jw-breakpoint-1') || 
                                                             $playerEl.hasClass('jw-breakpoint-2') || 
                                                             $playerEl.hasClass('jw-breakpoint-3') || 
                                                             $playerEl.hasClass('jw-breakpoint-4') || 
                                                             $playerEl.hasClass('jw-breakpoint-5') || 
                                                             $playerEl.hasClass('jw-breakpoint-6');
                                    
                                    if (hasProblematicClass) {
                                        var playerWidth = $playerEl.width();
                                        var windowWidth = $(window).width();
                                        
                                        // Se o player tem dimensões adequadas, remover TODAS as classes problemáticas
                                        if (playerWidth > 0 && (windowWidth >= 640 || playerWidth > 300)) {
                                            requestIdleCallback(function() {
                                                $playerEl.removeClass('jw-flag-small-player jw-breakpoint-1 jw-breakpoint-2 jw-breakpoint-3 jw-breakpoint-4 jw-breakpoint-5 jw-breakpoint-6');
                                                if (PlayerState.currentPlayerInstance && typeof PlayerState.currentPlayerInstance.resize === 'function') {
                                                    try {
                                                        PlayerState.currentPlayerInstance.resize('100%', null);
                                                        $(window).trigger('resize');
                                                    } catch(e) {}
                                                }
                                            }, { timeout: 100 });
                                        }
                                    }
                                }
                            }
                        }
                    });
                }, 300));
                
                classObserver.observe($playerEl[0], {
                    attributes: true,
                    attributeFilter: ['class'],
                    subtree: false
                });
            }
        }
        
        // Lazy initialization do observer
        if (DEVICE_INFO.hasIdleCallback) {
            requestIdleCallback(function() {
                startObservingPlayer();
            }, { timeout: 2000 });
        } else {
            setTimeout(startObservingPlayer, 2000);
        }
        
        // Função global para iniciar observação quando o player for criado
        window.startPlayerClassObserver = startObservingPlayer;
    }
    
    // Carregar preferência do player salva
    var preferredIndex = getPlayerPreference();
    var initialIndex = 0;
    
    // Se houver preferência salva e for um índice válido, usar ela
    if (preferredIndex !== null && preferredIndex >= 0 && preferredIndex < playersData.length) {
        initialIndex = preferredIndex;
        // Atualizar tab ativo baseado na preferência
        $('.player-tab, .episodes-tabs .btn-style[data-player-index]').each(function(){
            var $tab = $(this);
            var tabIndex = parseInt($tab.attr('data-player-index') || $tab.data('player-index') || '-1', 10);
            if (tabIndex === initialIndex) {
                $tab.addClass('active');
            } else {
                $tab.removeClass('active');
            }
        });
    }
    
    waitForJWPlayer(function(){ 
        setTimeout(function(){ 
            window.switchPlayer(initialIndex);
            // Inicializar animação no player ativo após carregar
            setTimeout(function() {
                var playerData = playersData && playersData[initialIndex] ? playersData[initialIndex] : null;
                if (playerData) {
                    updatePlayerTabAnimation(initialIndex, playerData);
                }
            }, 1000);
        }, 500); 
    }, 100);
});
</script>
				</div>

				<div class="episodes-controls">
					<div class="episode-navigation" id="episode-navigation">
						<a href="#anterior" id="btn-anterior" class="btn-style" data-disabled="true">
							<span class="anterior"><i class="fad fa-angle-double-left"></i> Anterior</span>
						</a>
						<a href="https://goyabu.io/anime/black-clover-dublado" class="btn-style">
							<span class="lista">Lista <i class="fad fa-th-list"></i></span>
						</a>
						<a href="#proximo" id="btn-proximo" class="btn-style" data-disabled="true">
							<span class="proximo">Próximo <i class="fad fa-angle-double-right"></i></span>
						</a>

						<button id="share-btn" class="btn-style" data-post-id="37432">
							<span>Compartilhar <i class="fad fa-share-all"></i></span>
						</button>
						
						<button class="btn-style" id="report-btn" data-post-id="44346">
							<span>Reportar <i class="fad fa-flag"></i></span>
						</button>
						<button class="btn-style" id="lighting-btn">
							<span>Luzes<i class="fad fa-lightbulb"></i></span>
						</button>
					</div>
				</div>
			</div>
		</div>
		
		<div  class="episodes-container">
			<div  id="episodios-player" class="episodes-list"></div>
			<div  class="episodes-pagination" id="episodes-pagination" style="display: none;">
				<button class="episodes-view-btn select-style btn-style" data-action="first"><i class="fad fa-angle-double-left"></i></button>
				<button class="episodes-view-btn select-style btn-style" data-action="prev"><i class="fas fa-angle-left"></i></button>
				<select id="episode-range" class="select-style btn-style"></select>
				<button class="episodes-view-btn select-style btn-style" data-action="next"><i class="fas fa-angle-right"></i></button>
				<button class="episodes-view-btn select-style btn-style" data-action="last"><i class="fad fa-angle-double-right"></i></button>
			</div>
			<div  class="gradient-bottom"></div>
		</div>
	</div>
</div>

<script type="rocketlazyloadscript">
	// Suprimir erros do JW Player (licenças, analytics e ping)
	(function() {
		// Domínios a serem suprimidos
		const suppressedDomains = [
			'entitlements.jwplayer.com',
			'jwpltx.com',
			'jwplayer.com',
			'jwplayer.io',
			'ping.gif'
		];
		
		// Verificar se a URL deve ser suprimida
		function shouldSuppress(url) {
			if (typeof url !== 'string') return false;
			return suppressedDomains.some(domain => url.includes(domain));
		}
		
		// Interceptar XMLHttpRequest
		const originalXHROpen = XMLHttpRequest.prototype.open;
		XMLHttpRequest.prototype.open = function(method, url, ...rest) {
			if (shouldSuppress(url)) {
				this._shouldSuppress = true;
			}
			return originalXHROpen.apply(this, [method, url, ...rest]);
		};

		const originalXHRSend = XMLHttpRequest.prototype.send;
		XMLHttpRequest.prototype.send = function(...args) {
			if (this._shouldSuppress) {
				// Não enviar a requisição
				this.onerror = function() {};
				this.onload = function() {};
				return;
			}
			return originalXHRSend.apply(this, args);
		};

		// Interceptar fetch
		if (window.fetch) {
			const originalFetch = window.fetch;
			window.fetch = function(...args) {
				const url = args[0];
				if (shouldSuppress(url)) {
					return Promise.reject(new Error('Suppressed JW Player request'));
				}
				return originalFetch.apply(this, args).catch(error => {
					// Suprimir erros de DNS/resolução para domínios do JWPlayer
					if (error && (error.message && (error.message.includes('NAME_NOT_RESOLVED') || 
						error.message.includes('ERR_NAME_NOT_RESOLVED') || 
						suppressedDomains.some(domain => error.message.includes(domain))))) {
						return Promise.reject();
					}
					throw error;
				});
			};
		}
		
		// Suprimir erros de rede no console (para requisições bloqueadas)
		const originalConsoleError = console.error;
		console.error = function(...args) {
			const message = typeof args[0] === 'string' ? args[0] : args.join(' ');
			// NÃO suprimir erros importantes do sistema
			if (message && (
				message.includes('Índice de player inválido') ||
				message.includes('Player data não encontrado') ||
				message.includes('switchPlayer error')
			)) {
				// Permitir que erros importantes sejam exibidos
				return originalConsoleError.apply(console, args);
			}
			// Suprimir apenas erros relacionados aos domínios do JWPlayer
			if (shouldSuppress(message) || (typeof message === 'string' && (
				message.includes('ERR_NAME_NOT_RESOLVED') || 
				message.includes('jwpltx.com') || 
				message.includes('ping.gif') ||
				message.includes('entitlements.jwplayer.com')
			))) {
				return; // Não mostrar o erro no console
			}
			return originalConsoleError.apply(console, args);
		};
		
		// Interceptar eventos de erro global para suprimir erros do JWPlayer
		window.addEventListener('error', function(e) {
			if (e.target && e.target.src && shouldSuppress(e.target.src)) {
				e.preventDefault();
				e.stopPropagation();
				return false;
			}
			if (e.message && (shouldSuppress(e.message) || e.message.includes('ERR_NAME_NOT_RESOLVED'))) {
				e.preventDefault();
				e.stopPropagation();
				return false;
			}
		}, true);
		
		// Interceptar criação de imagens (para ping.gif) - método mais simples
		const originalImage = window.Image;
		window.Image = function(...args) {
			const img = new originalImage(...args);
			const originalSetSrc = img.setAttribute ? img.setAttribute.bind(img) : null;
			const originalSrcProperty = Object.getOwnPropertyDescriptor(HTMLImageElement.prototype, 'src');
			
			if (originalSrcProperty && originalSrcProperty.set) {
				const originalSetter = originalSrcProperty.set;
				Object.defineProperty(img, 'src', {
					set: function(value) {
						if (shouldSuppress(value)) {
							// Não carregar a imagem - suprimir erro silenciosamente
							img.onerror = null;
							img.onload = null;
							return;
						}
						return originalSetter.call(this, value);
					},
					get: originalSrcProperty.get || function() { return this._src || ''; },
					configurable: true
				});
			}
			
			return img;
		};
	})();

	// Função para formatar tipo de episódio (fallback caso principal.js não esteja carregado)
	// Se principal.js já tiver a função, ela será usada, senão usa esta definição local
	if (typeof formatType === 'undefined') {
		window.formatType = function(type) {
			const types = {
				'episode': 'Episódio',
				'special': 'Especial',
				'filler': 'Filler',
				'sub-filler': 'Sub-Filler',
				'trailer': 'Trailer'
			};
			return types[type] || type;
		};
	}

	$(function() {
		const streamerID = '37432';
		const currentEpisode = '170';
		const currentPostID = 44346;
		const ajaxUrl = 'https://goyabu.io/wp-admin/admin-ajax.php';

		const $btnAnterior = $('#btn-anterior');
		const $btnProximo = $('#btn-proximo');
		const $episodiosPlayer = $('#episodios-player');
		const $episodeRange = $('#episode-range');
		const $paginationButtons = $('.episodes-view-btn[data-action]');
		const $paginationContainer = $('#episodes-pagination');
		const siteUrl = 'https://goyabu.io';

		let allEpisodes = [];
		let currentPage = 0;
		let currentView = 'list';
		const episodesPerPage = 100;
		
		// Proteção contra renderizações simultâneas
		let isRendering = false;
		let renderTimeout = null;

		function disableButton($btn) {
			$btn.addClass('disabled')
				.attr('data-disabled', 'true')
				.attr('aria-disabled', 'true')
				.off('click');
		}

		function enableButton($btn, link, episodio) {
			$btn.removeClass('disabled')
				.attr('data-disabled', 'false')
				.removeAttr('aria-disabled')
				.attr('href', link)
				.attr('title', `Episódio ${episodio.episodio}${episodio.episode_name ? ` - ${episodio.episode_name}` : ''}`);
		}

		// Função para obter histórico do localStorage
		function getHistoricoData() {
			const historico = localStorage.getItem('historico_ep');
			if (!historico) return null;
			
			try {
				const historicoArray = JSON.parse(historico);
				return historicoArray.find(item => item.streamer_id == streamerID);
			} catch (e) {
				return null;
			}
		}

		// Função para adicionar porcentagem aos episódios baseado no histórico (otimizada)
		function addPercentToEpisodes(episodes, historicoDataCache) {
			// Usar cache se fornecido, senão buscar
			const historicoData = historicoDataCache || getHistoricoData();
			if (!historicoData || !historicoData.episodes) return episodes;

			// Criar Map para lookup rápido (melhor performance que find em loop)
			const historicoMap = {};
			for (let i = 0; i < historicoData.episodes.length; i++) {
				const h = historicoData.episodes[i];
				const key = String(h.episode) + '_' + String(h.type);
				historicoMap[key] = h;
			}

			// Evitar spread operator em dispositivos antigos - usar Object.assign ou cópia manual
			const result = [];
			for (let i = 0; i < episodes.length; i++) {
				const ep = episodes[i];
				const key = String(ep.episodio) + '_' + String(ep.type || 'episode');
				const historicoEp = historicoMap[key];
				
				if (historicoEp && historicoEp.porcent) {
					// Criar novo objeto sem spread operator (compatibilidade)
					const newEp = {};
					for (let prop in ep) {
						if (ep.hasOwnProperty(prop)) {
							newEp[prop] = ep[prop];
						}
					}
					newEp.porcent = historicoEp.porcent;
					newEp.update = historicoEp.update;
					result.push(newEp);
				} else {
					// Criar novo objeto sem spread operator
					const newEp = {};
					for (let prop in ep) {
						if (ep.hasOwnProperty(prop)) {
							newEp[prop] = ep[prop];
						}
					}
					newEp.porcent = 0;
					result.push(newEp);
				}
			}
			return result;
		}

		function updatePaginationControls(totalEpisodes) {
			const maxPages = Math.ceil(totalEpisodes / episodesPerPage);
			currentPage = Math.min(currentPage, maxPages - 1);

			$episodeRange.empty();
			for (let i = 0; i < maxPages; i++) {
				const start = i * episodesPerPage + 1;
				const end = Math.min((i + 1) * episodesPerPage, totalEpisodes);
				$('<option>')
					.val(i)
					.text(`${start} - ${end}`)
					.appendTo($episodeRange);
			}
			$episodeRange.prop('selectedIndex', currentPage);

			const disableNav = (action, condition) =>
				$paginationButtons.filter(`[data-action="${action}"]`).prop('disabled', condition);

			disableNav('first', currentPage === 0);
			disableNav('prev', currentPage === 0);
			disableNav('next', currentPage >= maxPages - 1);
			disableNav('last', currentPage >= maxPages - 1);

			// Mostrar paginação se houver mais de uma página
			if (maxPages > 1) {
				$paginationContainer.show();
			} else {
				$paginationContainer.hide();
			}
		}

		function renderEpisodes(episodes) {
			// Proteção contra renderizações simultâneas
			if (isRendering) {
				if (renderTimeout) clearTimeout(renderTimeout);
				renderTimeout = setTimeout(function() {
					renderEpisodes(episodes);
				}, 100);
				return;
			}
			
			isRendering = true;
			
			// Limpar timeout anterior se existir
			if (renderTimeout) {
				clearTimeout(renderTimeout);
				renderTimeout = null;
			}
			
			$episodiosPlayer.empty();

			if (!episodes || !episodes.length) {
				$episodiosPlayer.html('<p style="text-align:center; color:#888;">Nenhum episódio encontrado.</p>');
				isRendering = false;
				return;
			}

			// Adicionar porcentagem aos episódios (cachear histórico para evitar múltiplas leituras)
			const historicoData = getHistoricoData();
			const episodesWithProgress = addPercentToEpisodes(episodes, historicoData);

			// Determinar visualização baseado no número de episódios
			if (episodes.length > 25) {
				currentView = 'minimal';
				$episodiosPlayer.removeClass('episodes-list').addClass('episodes-minimal');
			} else {
				currentView = 'list';
				$episodiosPlayer.removeClass('episodes-minimal').addClass('episodes-list');
			}

			// Paginação
			const start = currentPage * episodesPerPage;
			const end = start + episodesPerPage;
			const pageEps = episodesWithProgress.slice(start, end);

			// Otimização: usar loop simples em vez de $.each para melhor performance
			const fragment = document.createDocumentFragment();
			const tempContainer = document.createElement('div');
			
			for (let i = 0; i < pageEps.length; i++) {
				const ep = pageEps[i];
				const link = ep.link ? siteUrl + ep.link : '/' + ep.id + '/';
				const thumb = ep.imagem ? siteUrl + ep.imagem : 'https://goyabu.io/wp-content/uploads/2023/07/Black-Clover-Dublado-Todos-os-Episodios-Online-Goyabu.jpg';
				const miniature = ep.miniature ? btoa(ep.miniature) : '';
				const epType = ep.type || 'episode';
				const attributes = [];
				if (thumb) attributes.push('data-thumb="' + thumb + '"');
				if (miniature) attributes.push('data-miniature-b64="' + miniature + '"');

				const progress = ep.porcent || 0;
				const isCurrent = ep.id == currentPostID;
				const currentClass = isCurrent ? 'current-episode' : '';
				const audioWave = isCurrent ? '<div class="audio-wave-animation"><div class="wave-block"></div><div class="wave-block"></div><div class="wave-block"></div></div>' : '';

				let html = '';
				if (currentView === 'minimal') {
					const bgStyle = isCurrent ? '' : 'background: rgb(var(--type-' + epType + '-rgb), .08); ';
					const colorStyle = isCurrent ? '' : 'color: var(--type-' + epType + '-title);';
					html = '<article class="boxEP minimal-view ' + currentClass + '" id="episode-' + ep.id + '">' +
						'<a href="' + link + '" style="' + bgStyle + colorStyle + '">' +
						'<div class="ep-num">' + ep.episodio + '</div>' +
						audioWave +
						'</a></article>';
				} else {
					const bgStyle = isCurrent ? '' : 'background: rgb(var(--type-' + epType + '-rgb), .08);';
					const colorStyle = isCurrent ? '' : 'color: var(--type-' + epType + '-title);';
					const progressBar = progress > 0 ? '<div class="progress-bar-container"><div class="progress-bar" style="width:' + progress + '%"></div></div>' : '';
					html = '<article class="boxEP list-view ' + currentClass + '" id="episode-' + ep.id + '">' +
						'<a href="' + link + '" style="' + bgStyle + '">' +
						'<figure class="thumb contentImg" ' + attributes.join(' ') + '>' +
						'<div class="coverImg ' + (progress > 0 ? 'progress' : '') + '"></div>' +
						progressBar +
						'</figure>' +
						'<div class="ep-info">' +
						'<div style="' + colorStyle + '">' +
						'<span>' + formatType(epType) + '</span> <b>' + ep.episodio + '</b>' +
						'</div>' +
						'<div class="title hidden-text" style="-webkit-line-clamp: 1; margin: 0;">' + (ep.episode_name || ep.title || '') + '</div>' +
						'</div>' +
						audioWave +
						'</a></article>';
				}

				const itemDiv = document.createElement('div');
				itemDiv.className = 'episode-item ' + currentView;
				itemDiv.setAttribute('data-episode-number', ep.episodio);
				itemDiv.innerHTML = html;
				fragment.appendChild(itemDiv);
			}
			
			// Adicionar tudo de uma vez (melhor performance)
			tempContainer.appendChild(fragment);
			$episodiosPlayer.append(tempContainer.innerHTML);

			updatePaginationControls(episodes.length);

			// Destacar episódio atual
			const $currentEpisode = $('#episode-' + currentPostID);
			if ($currentEpisode.length) {
				$currentEpisode.addClass('current-episode');
			}
			
			// Marcar renderização como concluída
			isRendering = false;
			
			// Inicializar controle de animação de áudio (apenas uma vez)
			if (typeof window.audioWaveInitialized === 'undefined') {
				initAudioWaveAnimation();
				window.audioWaveInitialized = true;
			} else {
				// Se já foi inicializado, apenas atualizar o estado
				window.initAudioWaveAnimation();
			}
		}
		
		// Função para controlar animação de onda de áudio (global para acesso externo)
		// Otimizada para evitar listeners duplicados
		window.initAudioWaveAnimation = function() {
			const $audioWave = $('.current-episode .audio-wave-animation');
			if (!$audioWave.length) return;
			
			// Prevenir múltiplas inicializações
			if (window.audioWaveListenersAttached) {
				// Apenas atualizar estado se já tiver listeners
				const isIframePlayer = window.PlayerState && window.playersData && 
					window.playersData[window.PlayerState.currentPlayerIndex] && 
					(window.playersData[window.PlayerState.currentPlayerIndex].select === 'iframe' || 
					 window.playersData[window.PlayerState.currentPlayerIndex].isPlayer2);
				
				if (isIframePlayer) {
					$audioWave.removeClass('paused');
				} else {
					const player = window.PlayerState && window.PlayerState.currentPlayerInstance;
					if (player && typeof player.getState === 'function') {
						const state = player.getState();
						if (state === 'playing') {
							$audioWave.removeClass('paused');
						} else {
							$audioWave.addClass('paused');
						}
					}
				}
				return;
			}
			
			// Verificar tipo de player
			const isIframePlayer = window.PlayerState && window.playersData && 
				window.playersData[window.PlayerState.currentPlayerIndex] && 
				(window.playersData[window.PlayerState.currentPlayerIndex].select === 'iframe' || 
				 window.playersData[window.PlayerState.currentPlayerIndex].isPlayer2);
			
			// Se for iframe, animação sempre rodando
			if (isIframePlayer) {
				$audioWave.removeClass('paused');
				window.audioWaveListenersAttached = true;
				return;
			}
			
			// Se for JWPlayer, controlar baseado no estado
			const player = window.PlayerState && window.PlayerState.currentPlayerInstance;
			if (player && typeof player.getState === 'function') {
				// Verificar estado inicial
				const state = player.getState();
				if (state === 'playing') {
					$audioWave.removeClass('paused');
				} else {
					$audioWave.addClass('paused');
				}
				
				// Listener para eventos do player (apenas uma vez)
				try {
					// Remover listeners anteriores se existirem
					player.off('play.audioWave pause.audioWave idle.audioWave complete.audioWave');
					
					player.on('play.audioWave', function() {
						$audioWave.removeClass('paused');
					});
					
					player.on('pause.audioWave', function() {
						$audioWave.addClass('paused');
					});
					
					player.on('idle.audioWave', function() {
						$audioWave.addClass('paused');
					});
					
					player.on('complete.audioWave', function() {
						$audioWave.addClass('paused');
					});
					
					window.audioWaveListenersAttached = true;
				} catch(e) {
					console.warn('Erro ao adicionar listeners de áudio:', e);
				}
			} else {
				// Se player ainda não está pronto, verificar periodicamente
				let checkAttempts = 0;
				const checkInterval = setInterval(function() {
					checkAttempts++;
					const player = window.PlayerState && window.PlayerState.currentPlayerInstance;
					
					if (player && typeof player.getState === 'function') {
						clearInterval(checkInterval);
						const state = player.getState();
						if (state === 'playing') {
							$audioWave.removeClass('paused');
						} else {
							$audioWave.addClass('paused');
						}
						
						// Adicionar listeners (apenas uma vez)
						try {
							player.off('play.audioWave pause.audioWave idle.audioWave complete.audioWave');
							
							player.on('play.audioWave', function() {
								$audioWave.removeClass('paused');
							});
							
							player.on('pause.audioWave', function() {
								$audioWave.addClass('paused');
							});
							
							player.on('idle.audioWave', function() {
								$audioWave.addClass('paused');
							});
							
							player.on('complete.audioWave', function() {
								$audioWave.addClass('paused');
							});
							
							window.audioWaveListenersAttached = true;
						} catch(e) {
							console.warn('Erro ao adicionar listeners de áudio:', e);
						}
					} else if (checkAttempts > 50) {
						// Timeout após 5 segundos
						clearInterval(checkInterval);
					}
				}, 100);
			}
		};
		
		// Criar alias local também
		const initAudioWaveAnimation = window.initAudioWaveAnimation;

		function loadEpisodes() {
			$.ajax({
				url: ajaxUrl,
				method: 'GET',
				data: { action: 'get_anime_episodes', anime_id: streamerID },
				dataType: 'json',
				success: function(result) {
					if (result.success && result.data) {
						allEpisodes = result.data;
						
						// Encontrar a página do episódio atual
						const currentIndex = allEpisodes.findIndex(ep => ep.id == currentPostID);
						if (currentIndex !== -1) {
							currentPage = Math.floor(currentIndex / episodesPerPage);
						}
						
					// Renderizar episódios
					renderEpisodes(allEpisodes);

					// Inicializar navigation owl carousel (robusto para Autoptimize)
					if (typeof window.initOwlCarousel === 'function') {
						window.initOwlCarousel('#episode-navigation', {
							items : 7,
							itemsDesktop : [1100, 6],
							itemsDesktopSmall : [900, 5.5],
							itemsTablet: [600, 4.5],
							itemsMobile : [480, 2.5]
						}, function(instance) {
							// Navegar para o primeiro item após inicialização
							if (instance) {
								if (typeof instance.jumpTo === 'function') {
									instance.jumpTo(1);
								} else if (typeof instance.goTo === 'function') {
									instance.goTo(1);
								}
							}
						}, 100, 300); // maxAttempts: 100, delay: 300ms
					}

					// Configurar navegação anterior/próximo
					if (currentIndex !== -1) {
						if (currentIndex > 0) {
							const anteriorEp = allEpisodes[currentIndex - 1];
							enableButton($btnAnterior, `/${anteriorEp.id}/`, anteriorEp);
						} else disableButton($btnAnterior);

						if (currentIndex < allEpisodes.length - 1) {
							const proximoEp = allEpisodes[currentIndex + 1];
							enableButton($btnProximo, `/${proximoEp.id}/`, proximoEp);
						} else disableButton($btnProximo);
					} else {
						disableButton($btnAnterior);
						disableButton($btnProximo);
					}
					} else {
						disableButton($btnAnterior);
						disableButton($btnProximo);
						$episodiosPlayer.html('<p style="text-align:center; color:#888;">Erro ao carregar episódios.</p>');
					}
				},
				error: function() {
					disableButton($btnAnterior);
					disableButton($btnProximo);
					$episodiosPlayer.html('<p style="text-align:center; color:#888;">Erro ao carregar episódios.</p>');
				}
			});
		}

		$btnAnterior.add($btnProximo).on('click', function(e) {
			if ($(this).attr('data-disabled') === 'true') {
				e.preventDefault();
				e.stopPropagation();
				return false;
			}
		});

		// Event handlers para paginação
		$episodeRange.on('change', function() {
			currentPage = parseInt($(this).val(), 10);
			renderEpisodes(allEpisodes);
		});

		$paginationButtons.on('click', function() {
			const action = $(this).data('action');
			const maxPages = Math.ceil(allEpisodes.length / episodesPerPage);
			
			switch (action) {
				case 'first': 
					currentPage = 0; 
					break;
				case 'prev': 
					currentPage = Math.max(0, currentPage - 1); 
					break;
				case 'next': 
					currentPage = Math.min(maxPages - 1, currentPage + 1); 
					break;
				case 'last': 
					currentPage = maxPages - 1; 
					break;
			}
			renderEpisodes(allEpisodes);
		});

		loadEpisodes();
	});
	
	function salvarHistoricoEpisodio(streamerInfo, episodioInfo) {
		try {
		let historicoEp = JSON.parse(localStorage.getItem('historico_ep')) || [];
			
			// Converter streamer_id para número para comparação correta
			const streamerIdNum = Number(streamerInfo.streamer_id);
			let streamerExistente = historicoEp.find(item => Number(item.streamer_id) === streamerIdNum);

		if (!streamerExistente) {
			streamerExistente = {
					streamer_id: streamerIdNum,
				streamer_poster: streamerInfo.streamer_poster,
				streamer_title: streamerInfo.streamer_title,
					streamer_genres: streamerInfo.streamer_genres || [],
				streamer_audio: streamerInfo.streamer_audio,
				streamer_year: streamerInfo.streamer_year,
				streamer_favorite: false,
				update: Date.now(),
				episodes: []
			};
			historicoEp.push(streamerExistente);
		} else {
			streamerExistente.update = Date.now();
		}

		if (!streamerExistente.episodes) streamerExistente.episodes = [];

			// Verificar se episódio já existe (comparar por id e episode)
			const episodioIdNum = Number(episodioInfo.id);
			const episodioNum = String(episodioInfo.episode);
			
			let episodioExistente = streamerExistente.episodes.find(ep => 
				Number(ep.id) === episodioIdNum || 
				String(ep.episode) === episodioNum
			);

			if (episodioExistente) {
				// Atualizar dados do episódio existente
				episodioExistente.update = Date.now();
				if (episodioInfo.thumb) episodioExistente.thumb = episodioInfo.thumb;
				if (episodioInfo.miniature) episodioExistente.miniature = episodioInfo.miniature;
				if (episodioInfo.type) episodioExistente.type = episodioInfo.type;
			} else {
				// Criar novo episódio
		const novoEpisodio = {
					type: episodioInfo.type || 'episode',
			episode: episodioInfo.episode,
					porcent: episodioInfo.porcent || 0,
					id: episodioIdNum,
					thumb: episodioInfo.thumb || null,
					miniature: episodioInfo.miniature || null,
			update: Date.now()
		};

		streamerExistente.episodes.push(novoEpisodio);
			}

		localStorage.setItem('historico_ep', JSON.stringify(historicoEp));
		return streamerExistente;
		} catch (e) {
			console.error('Erro ao salvar histórico:', e);
			return null;
		}
	}

	function inicializarHistoricoEpisodio() {
		try {
			const streamerInfo = {
			streamer_id: 37432,
			streamer_poster: '/wp-content/uploads/2023/07/Black-Clover-Dublado-Todos-os-Episodios-Online-Goyabu.jpg',
				streamer_title: 'Black Clover Dublado',
			streamer_genres: [{"name":"A\u00e7\u00e3o","slug":"acao"},{"name":"Fantasia","slug":"fantasia"},{"name":"Magia","slug":"magia"},{"name":"Shounen","slug":"shounen"}],
			streamer_audio: 'ptBr',
				streamer_year: '2017'
			};

			const episodioInfo = {
				type: 'episode',
				episode: '170',
			id: 44346,
			thumb: '/wp-content/uploads/2023/07/Black-Clover-Dublado-Todos-os-Episodios-Online-Goyabu.jpg',
				miniature: '',
			porcent: 0
			};

			const result = salvarHistoricoEpisodio(streamerInfo, episodioInfo);
			if (result) {
				console.log('✅ Histórico inicializado com sucesso para episódio:', episodioInfo.id);
			} else {
				console.warn('⚠️ Falha ao inicializar histórico do episódio');
		}
		} catch (e) {
			console.error('❌ Erro ao inicializar histórico:', e);
		}
		}
		
	// Garantir que a função seja chamada quando o DOM estiver pronto
	if (document.readyState === 'loading') {
		document.addEventListener('DOMContentLoaded', inicializarHistoricoEpisodio);
		} else {
		// DOM já está pronto
		inicializarHistoricoEpisodio();
		}
		
	// Fallback com jQuery (caso ainda não esteja carregado)
	if (typeof jQuery !== 'undefined') {
		jQuery(document).ready(function() {
			// Verificar se já foi executado
			if (!window.historicoInicializado) {
				window.historicoInicializado = true;
				inicializarHistoricoEpisodio();
			}
		});
	}
	
	// ============================================
	// SISTEMA DE VIEWS (VISUALIZAÇÕES) - Otimizado
	// ============================================
	// Registrar view automaticamente ao carregar a página
	$(document).ready(function() {
		const postId = 44346;
		const streamerID = 37432;
		const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
		
		// Usar requestIdleCallback se disponível, senão setTimeout
		const scheduleView = function(callback) {
			if (typeof requestIdleCallback !== 'undefined') {
				requestIdleCallback(callback, { timeout: 5000 });
			} else {
				setTimeout(callback, isMobile ? 5000 : 3000);
			}
		};
		
		scheduleView(function() {
								fetch('https://goyabu.io/wp-json/cronos/v1/views/register', {
						method: 'POST',
						headers: {
							'Content-Type': 'application/json'
						},
						body: JSON.stringify({
							post_id: streamerID,
							view_type: 'anime'
						})
					})
					.then(response => response.json())
					.then(data => {
						if (data.success) {
							console.log('📊 View do anime registrada:', streamerID);
						}
					})
					.catch(error => {
						console.error('Erro ao registrar view do anime:', error);
					});
					});
	});
	
	
	// ============================================
	// SISTEMA DE LIGHTING (Luzes) - Otimizado
	// ============================================
	$(document).ready(function() {
		const isLowEnd = navigator.hardwareConcurrency ? navigator.hardwareConcurrency <= 2 : true;
		
		// Desabilitar lighting em dispositivos fracos
		if (isLowEnd) {
			$('#lighting-btn').hide();
			return;
		}
		
		const $lightingBtn = $('#lighting-btn');
		const KEY = 'cronos_enable_lighting';
		
		// Funções auxiliares
		const isBlogger = () => {
			const pd = window.playersData?.[window.PlayerState?.currentPlayerIndex];
			// Verificar se é blogger E não é Player 2
			return pd?.select === 'blogger' && !pd?.isPlayer2;
		};
		
		const getState = () => localStorage.getItem(KEY) !== 'false';
		const setState = (val) => localStorage.setItem(KEY, val ? 'true' : 'false');
		const toggleCanvas = (show) => {
			const canvas = window.PlayerState?.lightingCanvas;
			if (canvas) canvas.style.display = show ? 'block' : 'none';
		};
		
		// Atualizar visibilidade do botão (throttled)
		let updateBtnThrottle = false;
		const updateBtn = () => {
			if (updateBtnThrottle) return;
			updateBtnThrottle = true;
			$lightingBtn.toggle(isBlogger());
			if (!isBlogger()) toggleCanvas(false);
			setTimeout(() => { updateBtnThrottle = false; }, 500);
		};
		
		// Monitorar mudanças de player (debounced)
		const originalSwitch = window.switchPlayer;
		if (originalSwitch) {
			window.switchPlayer = function() {
				const result = originalSwitch.apply(this, arguments);
				setTimeout(updateBtn, 500);
				return result;
			};
		}
		
		// Inicializar (lazy)
		$lightingBtn.toggleClass('active', getState());
		if (typeof requestIdleCallback !== 'undefined') {
			requestIdleCallback(() => updateBtn(), { timeout: 2000 });
		} else {
			setTimeout(updateBtn, 2000);
		}
		
		// Verificar canvas periodicamente (otimizado - apenas quando necessário)
		let checkCount = 0;
		let checkCanvasInterval = null;
		
		const checkCanvas = () => {
			checkCount++;
			if (window.PlayerState?.lightingCanvas || checkCount > 10) {
				toggleCanvas(getState());
				if (checkCanvasInterval) {
					clearInterval(checkCanvasInterval);
					checkCanvasInterval = null;
				}
				return;
			}
			// Verificar menos frequentemente após primeiras tentativas
			if (checkCount > 5 && checkCanvasInterval) {
				clearInterval(checkCanvasInterval);
				checkCanvasInterval = setInterval(checkCanvas, 2000); // Reduzir para 2s após 5 tentativas
			}
		};
		
		// Iniciar verificação apenas se necessário
		if (getState()) {
			checkCanvasInterval = setInterval(checkCanvas, 1000); // Começar com 1s
		}
		
		// Click handler
		$lightingBtn.on('click', function(e) {
			e.preventDefault();
			if (!isBlogger()) return;
			
			const newState = !getState();
			setState(newState);
			$lightingBtn.toggleClass('active', newState);
			toggleCanvas(newState);
		});
	});
	
	// Sistema de Report
	$('#report-btn').on('click', function() {
		const postId = $(this).data('post-id');
		
		// Verificar autenticação usando CronosAuth (reativo)
		const isAuthenticated = (typeof CronosAuth !== 'undefined' && CronosAuth.isAuthenticated) 
			? CronosAuth.isAuthenticated() 
			: false;
		
		if (!isAuthenticated) {
			const loginUrl = (window.frontendAjax && window.frontendAjax.loginUrl) || '/login';
			CronosPopup.warning({
				title: 'Login Necessário',
				message: 'Você precisa estar logado para reportar problemas.',
				buttonText: 'Fazer Login',
				onClick: function() {
					window.location.href = loginUrl;
				}
			});
			return;
		}
		
		CronosPopup.show({
			title: 'Reportar Problema',
			icon: { class: 'fad fa-flag', color: 'var(--error)' },
			size: 'md',
			alertType: 'error',
			content: `
				<p class="cronos-popup-label">O que está acontecendo?</p>
				<select id="report-type" class="select-style btn-style" style="width: 100%; margin: 10px 0;">
					<option value="player_wrong">Player Errado</option>
					<option value="player_not_working">Player Não Funciona</option>
					<option value="subtitle_wrong">Legenda Incorreta</option>
					<option value="audio_corrupted">Audio Corrompido</option>
					<option value="player_duplicate">Player Duplicado</option>
					<option value="other">Outro Erro</option>
				</select>
				<textarea id="report-additional-info" placeholder="Descreva o problema (opcional)" 
					style="width: 100%; padding: 10px; border-radius: 5px; border: 1px solid var(--box-light); 
					background: rgb(var(--box-rgb), 1); color: rgb(var(--text-rgb), 1); min-height: 100px; margin-top: 10px;"></textarea>
				<p class="cronos-popup-info" style="margin-top: 10px; font-size: 0.85rem;">
					<i class="fas fa-info-circle"></i> Seu report será analisado pela nossa equipe.
				</p>
			`,
			buttons: [
				{
					text: 'Cancelar',
					class: 'btn-secondary'
				},
				{
					text: 'Enviar Report',
					class: 'btn-danger',
					onClick: () => {
						const reportType = $('#report-type').val();
						const additionalInfo = $('#report-additional-info').val();
						
						if (window.cronosSubmitReport) {
							window.cronosSubmitReport(reportType, null, additionalInfo);
						}
						return false;
					}
				}
			]
		});
	});
</script>

<div  class="comments" id="comments-section" data-post-id="44346">
	<div  class="comentariosBox">
		<!-- Botão para carregar comentários -->
		<button class="btn-load-comments btn-style" id="load-comments-btn">
			<i class="fas fa-comments"></i>
			<span id="comments-count">(2) Comentários</span>
			<i class="fas fa-chevron-down btn-chevron"></i>
		</button>

		<!-- Container de comentários (inicialmente oculto) -->
		<!-- Formulário e prompt de login serão adicionados dinamicamente via cronos-comment.js -->
		<div id="comments-container" style="display: none;">
			<!-- Lista de comentários (carregada via fetch) -->
			<div id="comments-list-container">
				<div class="loading-comments">
					<i class="fas fa-spinner fa-spin"></i>
					<span>Carregando comentários...</span>
				</div>
			</div>
		</div>
	</div>
</div>

<style></style>
</div></div>
</main>
<footer >
	<div  class="alinhamento">
		
		<!-- ADS FOOTER -->
		
		<ul>
			<li><a class="btn-style link-footer" href="https://goyabu.io/">Goyabu</a></li>
			<li><a class="btn-style link-footer" href="https://goyabu.io/">Animes Online</a></li>
			<li><a class="btn-style link-footer" href="https://goyabu.io/anime/one-punch-man-3-online-hd">One Punch Man 3</a></li>
		</ul>

		<p>© Goyabu 2022-2026 - Todos direitos Reservados</p>
		<p>Esse site não hospeda nenhum vídeo em seu servidor. Todo o conteúdo é disponibilizado por terceiros não afiliados.</p>
        <ul class="footer-links">
            <li><a href="https://goyabu.io/contato" aria-label="Página de contato">Contato</a></li>
            <li><a href="https://goyabu.io/politica-de-privacidade" aria-label="Política de privacidade e DMCA">DMCA</a></li>
            <li><a href="https://goyabu.io/politica-de-cookie" aria-label="Política de cookies">Cookies</a></li>
        </ul>
	</div>
</footer>

    <script type="rocketlazyloadscript">
    (function() {
        // Função para corrigir tabindex
        function fixTabIndex() {
            // Procurar pelo link de skip to content
            var skipLink = document.querySelector('a.screen-reader-shortcut');
            
            if (skipLink) {
                // Remover tabindex se for maior que 0, ou alterar para 0
                // tabindex="0" permite navegação natural via teclado sem forçar ordem
                if (skipLink.hasAttribute('tabindex')) {
                    var currentTabIndex = parseInt(skipLink.getAttribute('tabindex'), 10);
                    // Se tabindex > 0, remover completamente (melhor para acessibilidade)
                    // ou alterar para 0 se quiser manter a navegação
                    if (currentTabIndex > 0) {
                        skipLink.removeAttribute('tabindex');
                        // Alternativa: usar tabindex="0" para manter navegação natural
                        // skipLink.setAttribute('tabindex', '0');
                    }
                }
            }
        }
        
        // Aguardar DOM estar pronto
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', fixTabIndex);
        } else {
            // DOM já está pronto, executar imediatamente
            fixTabIndex();
        }
        
        // Também executar após um pequeno delay para garantir que elementos dinâmicos sejam processados
        setTimeout(fixTabIndex, 100);
    })();
    </script>
    <script type="rocketlazyloadscript" id="rocket-browser-checker-js-after" data-rocket-type="text/javascript">
"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var RocketBrowserCompatibilityChecker=function(){function RocketBrowserCompatibilityChecker(options){_classCallCheck(this,RocketBrowserCompatibilityChecker),this.passiveSupported=!1,this._checkPassiveOption(this),this.options=!!this.passiveSupported&&options}return _createClass(RocketBrowserCompatibilityChecker,[{key:"_checkPassiveOption",value:function(self){try{var options={get passive(){return!(self.passiveSupported=!0)}};window.addEventListener("test",null,options),window.removeEventListener("test",null,options)}catch(err){self.passiveSupported=!1}}},{key:"initRequestIdleCallback",value:function(){!1 in window&&(window.requestIdleCallback=function(cb){var start=Date.now();return setTimeout(function(){cb({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-start))}})},1)}),!1 in window&&(window.cancelIdleCallback=function(id){return clearTimeout(id)})}},{key:"isDataSaverModeOn",value:function(){return"connection"in navigator&&!0===navigator.connection.saveData}},{key:"supportsLinkPrefetch",value:function(){var elem=document.createElement("link");return elem.relList&&elem.relList.supports&&elem.relList.supports("prefetch")&&window.IntersectionObserver&&"isIntersecting"in IntersectionObserverEntry.prototype}},{key:"isSlowConnection",value:function(){return"connection"in navigator&&"effectiveType"in navigator.connection&&("2g"===navigator.connection.effectiveType||"slow-2g"===navigator.connection.effectiveType)}}]),RocketBrowserCompatibilityChecker}();
</script>
<script type='text/javascript' id='rocket-preload-links-js-extra'>
/* <![CDATA[ */
var RocketPreloadLinksConfig = {"excludeUris":"\/(?:.+\/)?feed(?:\/(?:.+\/?)?)?$|\/(?:.+\/)?embed\/|\/(index.php\/)?(.*)wp-json(\/.*|$)|\/refer\/|\/go\/|\/recommend\/|\/recommends\/","usesTrailingSlash":"","imageExt":"jpg|jpeg|gif|png|tiff|bmp|webp|avif|pdf|doc|docx|xls|xlsx|php","fileExt":"jpg|jpeg|gif|png|tiff|bmp|webp|avif|pdf|doc|docx|xls|xlsx|php|html|htm","siteUrl":"https:\/\/goyabu.io","onHoverDelay":"100","rateThrottle":"3"};
/* ]]> */
</script>
<script type="rocketlazyloadscript" id="rocket-preload-links-js-after" data-rocket-type="text/javascript">
(function() {
"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function n(e,t){i(this,n),this.browser=e,this.config=t,this.options=this.browser.options,this.prefetched=new Set,this.eventTime=null,this.threshold=1111,this.numOnHover=0}return e(n,[{key:"init",value:function(){!this.browser.supportsLinkPrefetch()||this.browser.isDataSaverModeOn()||this.browser.isSlowConnection()||(this.regex={excludeUris:RegExp(this.config.excludeUris,"i"),images:RegExp(".("+this.config.imageExt+")$","i"),fileExt:RegExp(".("+this.config.fileExt+")$","i")},this._initListeners(this))}},{key:"_initListeners",value:function(e){-1<this.config.onHoverDelay&&document.addEventListener("mouseover",e.listener.bind(e),e.listenerOptions),document.addEventListener("mousedown",e.listener.bind(e),e.listenerOptions),document.addEventListener("touchstart",e.listener.bind(e),e.listenerOptions)}},{key:"listener",value:function(e){var t=e.target.closest("a"),n=this._prepareUrl(t);if(null!==n)switch(e.type){case"mousedown":case"touchstart":this._addPrefetchLink(n);break;case"mouseover":this._earlyPrefetch(t,n,"mouseout")}}},{key:"_earlyPrefetch",value:function(t,e,n){var i=this,r=setTimeout(function(){if(r=null,0===i.numOnHover)setTimeout(function(){return i.numOnHover=0},1e3);else if(i.numOnHover>i.config.rateThrottle)return;i.numOnHover++,i._addPrefetchLink(e)},this.config.onHoverDelay);t.addEventListener(n,function e(){t.removeEventListener(n,e,{passive:!0}),null!==r&&(clearTimeout(r),r=null)},{passive:!0})}},{key:"_addPrefetchLink",value:function(i){return this.prefetched.add(i.href),new Promise(function(e,t){var n=document.createElement("link");n.rel="prefetch",n.href=i.href,n.onload=e,n.onerror=t,document.head.appendChild(n)}).catch(function(){})}},{key:"_prepareUrl",value:function(e){if(null===e||"object"!==(void 0===e?"undefined":r(e))||!1 in e||-1===["http:","https:"].indexOf(e.protocol))return null;var t=e.href.substring(0,this.config.siteUrl.length),n=this._getPathname(e.href,t),i={original:e.href,protocol:e.protocol,origin:t,pathname:n,href:t+n};return this._isLinkOk(i)?i:null}},{key:"_getPathname",value:function(e,t){var n=t?e.substring(this.config.siteUrl.length):e;return n.startsWith("/")||(n="/"+n),this._shouldAddTrailingSlash(n)?n+"/":n}},{key:"_shouldAddTrailingSlash",value:function(e){return this.config.usesTrailingSlash&&!e.endsWith("/")&&!this.regex.fileExt.test(e)}},{key:"_isLinkOk",value:function(e){return null!==e&&"object"===(void 0===e?"undefined":r(e))&&(!this.prefetched.has(e.href)&&e.origin===this.config.siteUrl&&-1===e.href.indexOf("?")&&-1===e.href.indexOf("#")&&!this.regex.excludeUris.test(e.href)&&!this.regex.images.test(e.href))}}],[{key:"run",value:function(){"undefined"!=typeof RocketPreloadLinksConfig&&new n(new RocketBrowserCompatibilityChecker({capture:!0,passive:!0}),RocketPreloadLinksConfig).init()}}]),n}();t.run();
}());
</script>
<script type="rocketlazyloadscript" data-minify="1" data-rocket-type='text/javascript' data-rocket-src='https://goyabu.io/wp-content/cache/min/1/wp-content/themes/cronos-design/assets/js/cronos-auth.js?ver=1767767403' id='cronos-auth-js'></script>
<script type="rocketlazyloadscript" data-minify="1" data-rocket-type='text/javascript' data-rocket-src='https://goyabu.io/wp-content/cache/min/1/wp-content/themes/cronos-design/assets/js/cronos-popup.js?ver=1767767403' id='cronos-popup-js'></script>
<script type="rocketlazyloadscript" data-minify="1" data-rocket-type='text/javascript' data-rocket-src='https://goyabu.io/wp-content/cache/min/1/wp-content/themes/cronos-design/assets/js/cookie.js?ver=1767767403' id='cronos-cookie-js'></script>
<script type="rocketlazyloadscript" data-minify="1" data-rocket-type='text/javascript' data-rocket-src='https://goyabu.io/wp-content/cache/min/1/wp-content/themes/cronos-design/assets/js/cronos-principal.js?ver=1767767403' id='cronos-principal-js'></script>
<script type='text/javascript' id='cronos-search-js-extra'>
/* <![CDATA[ */
var glosAP = {"api":"https:\/\/goyabu.io\/wp-json\/animeonline\/search\/","nonce":"5ecb5079b5","area":".live-search","button":".search-button","more":"Ver todos resultados","mobile":"1"};
/* ]]> */
</script>
<script type="rocketlazyloadscript" data-minify="1" data-rocket-type='text/javascript' data-rocket-src='https://goyabu.io/wp-content/cache/min/1/wp-content/themes/cronos-design/assets/js/cronos-search.js?ver=1767767403' id='cronos-search-js'></script>
<script type="rocketlazyloadscript" data-minify="1" data-rocket-type='text/javascript' data-rocket-src='https://goyabu.io/wp-content/cache/min/1/wp-content/themes/cronos-design/assets/js/cronos-reward-check.js?ver=1767767403' id='cronos-reward-check-js'></script>
<script type="rocketlazyloadscript" data-minify="1" data-rocket-type='text/javascript' data-rocket-src='https://goyabu.io/wp-content/cache/min/1/wp-content/themes/cronos-design/assets/js/lib/owlcarousel.js?ver=1767767403' id='cronos-lib-owlcarousel-js'></script>
<script type="rocketlazyloadscript" data-minify="1" data-rocket-type='text/javascript' data-rocket-src='https://goyabu.io/wp-content/cache/min/1/wp-content/themes/cronos-design/assets/js/cronos-miniatures.js?ver=1767767403' id='cronos-miniatures-js'></script>
<script type="rocketlazyloadscript" data-minify="1" data-rocket-type='text/javascript' data-rocket-src='https://goyabu.io/wp-content/cache/min/1/wp-content/themes/cronos-design/assets/js/cronos-comment.js?ver=1767767403' id='cronos-comment-js'></script>
<script>var rocket_beacon_data = {"ajax_url":"https:\/\/goyabu.io\/wp-admin\/admin-ajax.php","nonce":"25f9e91fc7","url":"https:\/\/goyabu.io\/44346","is_mobile":true,"width_threshold":393,"height_threshold":830,"delay":500,"debug":null,"status":{"atf":true,"lrc":true,"preload_fonts":true,"preconnect_external_domain":true},"elements":"img, video, picture, p, main, div, li, svg, section, header, span","lrc_threshold":1800,"preload_fonts_exclusions":["api.fontshare.com","cdn.fontshare.com"],"processed_extensions":["woff2","woff","ttf"],"external_font_exclusions":[],"preconnect_external_domain_elements":["link","script","iframe"],"preconnect_external_domain_exclusions":["static.cloudflareinsights.com","rel=\"profile\"","rel=\"preconnect\"","rel=\"dns-prefetch\"","rel=\"icon\""]}</script><script data-name="wpr-wpr-beacon" src='https://goyabu.io/wp-content/plugins/wp-rocket/assets/js/wpr-beacon.min.js' async></script></body>
</html>
<!-- This website is like a Rocket, isn't it? Performance optimized by WP Rocket. Learn more: https://wp-rocket.me - Debug: cached@1768675895 -->